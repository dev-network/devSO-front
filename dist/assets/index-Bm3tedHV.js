function yR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ah(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dg={exports:{}},xc={};var nS;function bR(){if(nS)return xc;nS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return xc.Fragment=e,xc.jsx=n,xc.jsxs=n,xc}var rS;function wR(){return rS||(rS=1,dg.exports=bR()),dg.exports}var F=wR(),fg={exports:{}},Ge={};var iS;function vR(){if(iS)return Ge;iS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function k(O,K,le){this.props=O,this.context=K,this.refs=x,this.updater=le||v}k.prototype.isReactComponent={},k.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function A(){}A.prototype=k.prototype;function L(O,K,le){this.props=O,this.context=K,this.refs=x,this.updater=le||v}var $=L.prototype=new A;$.constructor=L,E($,k.prototype),$.isPureReactComponent=!0;var P=Array.isArray;function V(){}var M={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function se(O,K,le){var fe=le.ref;return{$$typeof:t,type:O,key:K,ref:fe!==void 0?fe:null,props:le}}function De(O,K){return se(O.type,K,O.props)}function Ie(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function te(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return K[le]})}var xe=/\/+/g;function he(O,K){return typeof O=="object"&&O!==null&&O.key!=null?te(""+O.key):K.toString(36)}function ge(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(V,V):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,K,le,fe,Ae){var Ve=typeof O;(Ve==="undefined"||Ve==="boolean")&&(O=null);var it=!1;if(O===null)it=!0;else switch(Ve){case"bigint":case"string":case"number":it=!0;break;case"object":switch(O.$$typeof){case t:case e:it=!0;break;case p:return it=O._init,B(it(O._payload),K,le,fe,Ae)}}if(it)return Ae=Ae(O),it=fe===""?"."+he(O,0):fe,P(Ae)?(le="",it!=null&&(le=it.replace(xe,"$&/")+"/"),B(Ae,K,le,"",function(_r){return _r})):Ae!=null&&(Ie(Ae)&&(Ae=De(Ae,le+(Ae.key==null||O&&O.key===Ae.key?"":(""+Ae.key).replace(xe,"$&/")+"/")+it)),K.push(Ae)),1;it=0;var Gt=fe===""?".":fe+":";if(P(O))for(var jt=0;jt<O.length;jt++)fe=O[jt],Ve=Gt+he(fe,jt),it+=B(fe,K,le,Ve,Ae);else if(jt=w(O),typeof jt=="function")for(O=jt.call(O),jt=0;!(fe=O.next()).done;)fe=fe.value,Ve=Gt+he(fe,jt++),it+=B(fe,K,le,Ve,Ae);else if(Ve==="object"){if(typeof O.then=="function")return B(ge(O),K,le,fe,Ae);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return it}function ie(O,K,le){if(O==null)return O;var fe=[],Ae=0;return B(O,fe,"","",function(Ve){return K.call(le,Ve,Ae++)}),fe}function ee(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ee=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Le={map:ie,forEach:function(O,K,le){ie(O,function(){K.apply(this,arguments)},le)},count:function(O){var K=0;return ie(O,function(){K++}),K},toArray:function(O){return ie(O,function(K){return K})||[]},only:function(O){if(!Ie(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ge.Activity=g,Ge.Children=Le,Ge.Component=k,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=L,Ge.StrictMode=r,Ge.Suspense=d,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(O){return M.H.useMemoCache(O)}},Ge.cache=function(O){return function(){return O.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(O,K,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var fe=E({},O.props),Ae=O.key;if(K!=null)for(Ve in K.key!==void 0&&(Ae=""+K.key),K)!Z.call(K,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&K.ref===void 0||(fe[Ve]=K[Ve]);var Ve=arguments.length-2;if(Ve===1)fe.children=le;else if(1<Ve){for(var it=Array(Ve),Gt=0;Gt<Ve;Gt++)it[Gt]=arguments[Gt+2];fe.children=it}return se(O.type,Ae,fe)},Ge.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Ge.createElement=function(O,K,le){var fe,Ae={},Ve=null;if(K!=null)for(fe in K.key!==void 0&&(Ve=""+K.key),K)Z.call(K,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ae[fe]=K[fe]);var it=arguments.length-2;if(it===1)Ae.children=le;else if(1<it){for(var Gt=Array(it),jt=0;jt<it;jt++)Gt[jt]=arguments[jt+2];Ae.children=Gt}if(O&&O.defaultProps)for(fe in it=O.defaultProps,it)Ae[fe]===void 0&&(Ae[fe]=it[fe]);return se(O,Ve,Ae)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(O){return{$$typeof:u,render:O}},Ge.isValidElement=Ie,Ge.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:ee}},Ge.memo=function(O,K){return{$$typeof:h,type:O,compare:K===void 0?null:K}},Ge.startTransition=function(O){var K=M.T,le={};M.T=le;try{var fe=O(),Ae=M.S;Ae!==null&&Ae(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(V,Ee)}catch(Ve){Ee(Ve)}finally{K!==null&&le.types!==null&&(K.types=le.types),M.T=K}},Ge.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ge.use=function(O){return M.H.use(O)},Ge.useActionState=function(O,K,le){return M.H.useActionState(O,K,le)},Ge.useCallback=function(O,K){return M.H.useCallback(O,K)},Ge.useContext=function(O){return M.H.useContext(O)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(O,K){return M.H.useDeferredValue(O,K)},Ge.useEffect=function(O,K){return M.H.useEffect(O,K)},Ge.useEffectEvent=function(O){return M.H.useEffectEvent(O)},Ge.useId=function(){return M.H.useId()},Ge.useImperativeHandle=function(O,K,le){return M.H.useImperativeHandle(O,K,le)},Ge.useInsertionEffect=function(O,K){return M.H.useInsertionEffect(O,K)},Ge.useLayoutEffect=function(O,K){return M.H.useLayoutEffect(O,K)},Ge.useMemo=function(O,K){return M.H.useMemo(O,K)},Ge.useOptimistic=function(O,K){return M.H.useOptimistic(O,K)},Ge.useReducer=function(O,K,le){return M.H.useReducer(O,K,le)},Ge.useRef=function(O){return M.H.useRef(O)},Ge.useState=function(O){return M.H.useState(O)},Ge.useSyncExternalStore=function(O,K,le){return M.H.useSyncExternalStore(O,K,le)},Ge.useTransition=function(){return M.H.useTransition()},Ge.version="19.2.3",Ge}var sS;function hu(){return sS||(sS=1,fg.exports=vR()),fg.exports}var z=hu();const as=Ah(z),ER=yR({__proto__:null,default:as},[z]);var hg={exports:{}},kc={},pg={exports:{}},mg={};var oS;function SR(){return oS||(oS=1,(function(t){function e(B,ie){var ee=B.length;B.push(ie);e:for(;0<ee;){var Ee=ee-1>>>1,Le=B[Ee];if(0<i(Le,ie))B[Ee]=ie,B[ee]=Le,ee=Ee;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ie=B[0],ee=B.pop();if(ee!==ie){B[0]=ee;e:for(var Ee=0,Le=B.length,O=Le>>>1;Ee<O;){var K=2*(Ee+1)-1,le=B[K],fe=K+1,Ae=B[fe];if(0>i(le,ee))fe<Le&&0>i(Ae,le)?(B[Ee]=Ae,B[fe]=ee,Ee=fe):(B[Ee]=le,B[K]=ee,Ee=K);else if(fe<Le&&0>i(Ae,ee))B[Ee]=Ae,B[fe]=ee,Ee=fe;else break e}}return ie}function i(B,ie){var ee=B.sortIndex-ie.sortIndex;return ee!==0?ee:B.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,b=3,w=!1,v=!1,E=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function $(B){for(var ie=n(h);ie!==null;){if(ie.callback===null)r(h);else if(ie.startTime<=B)r(h),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(h)}}function P(B){if(E=!1,$(B),!v)if(n(d)!==null)v=!0,V||(V=!0,te());else{var ie=n(h);ie!==null&&ge(P,ie.startTime-B)}}var V=!1,M=-1,Z=5,se=-1;function De(){return x?!0:!(t.unstable_now()-se<Z)}function Ie(){if(x=!1,V){var B=t.unstable_now();se=B;var ie=!0;try{e:{v=!1,E&&(E=!1,A(M),M=-1),w=!0;var ee=b;try{t:{for($(B),g=n(d);g!==null&&!(g.expirationTime>B&&De());){var Ee=g.callback;if(typeof Ee=="function"){g.callback=null,b=g.priorityLevel;var Le=Ee(g.expirationTime<=B);if(B=t.unstable_now(),typeof Le=="function"){g.callback=Le,$(B),ie=!0;break t}g===n(d)&&r(d),$(B)}else r(d);g=n(d)}if(g!==null)ie=!0;else{var O=n(h);O!==null&&ge(P,O.startTime-B),ie=!1}}break e}finally{g=null,b=ee,w=!1}ie=void 0}}finally{ie?te():V=!1}}}var te;if(typeof L=="function")te=function(){L(Ie)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,he=xe.port2;xe.port1.onmessage=Ie,te=function(){he.postMessage(null)}}else te=function(){k(Ie,0)};function ge(B,ie){M=k(function(){B(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(B){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var ee=b;b=ie;try{return B()}finally{b=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(B,ie){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ee=b;b=B;try{return ie()}finally{b=ee}},t.unstable_scheduleCallback=function(B,ie,ee){var Ee=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ee+ee:Ee):ee=Ee,B){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=ee+Le,B={id:p++,callback:ie,priorityLevel:B,startTime:ee,expirationTime:Le,sortIndex:-1},ee>Ee?(B.sortIndex=ee,e(h,B),n(d)===null&&B===n(h)&&(E?(A(M),M=-1):E=!0,ge(P,ee-Ee))):(B.sortIndex=Le,e(d,B),v||w||(v=!0,V||(V=!0,te()))),B},t.unstable_shouldYield=De,t.unstable_wrapCallback=function(B){var ie=b;return function(){var ee=b;b=ie;try{return B.apply(this,arguments)}finally{b=ee}}}})(mg)),mg}var aS;function xR(){return aS||(aS=1,pg.exports=SR()),pg.exports}var gg={exports:{}},Hn={};var lS;function kR(){if(lS)return Hn;lS=1;var t=hu();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,p)},Hn.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},Hn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Hn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Hn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Hn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Hn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Hn.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Hn.requestFormReset=function(d){r.d.r(d)},Hn.unstable_batchedUpdates=function(d,h){return d(h)},Hn.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},Hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Hn.version="19.2.3",Hn}var cS;function ak(){if(cS)return gg.exports;cS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gg.exports=kR(),gg.exports}var uS;function TR(){if(uS)return kc;uS=1;var t=xR(),e=hu(),n=ak();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function h(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var c=s,f=a;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return d(m),s;if(y===f)return d(m),a;y=y.sibling}throw Error(r(188))}if(c.return!==f.return)c=m,f=y;else{for(var S=!1,T=m.child;T;){if(T===c){S=!0,c=m,f=y;break}if(T===f){S=!0,f=m,c=y;break}T=T.sibling}if(!S){for(T=y.child;T;){if(T===c){S=!0,c=y,f=m;break}if(T===f){S=!0,f=y,c=m;break}T=T.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),Ie=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=Ie&&s[Ie]||s["@@iterator"],typeof s=="function"?s:null)}var xe=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===xe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case k:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case V:return"SuspenseList";case se:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case L:return s.displayName||"Context";case A:return(s._context.displayName||"Context")+".Consumer";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:he(s.type)||"Memo";case Z:a=s._payload,s=s._init;try{return he(s(a))}catch{}}return null}var ge=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ee=[],Le=-1;function O(s){return{current:s}}function K(s){0>Le||(s.current=Ee[Le],Ee[Le]=null,Le--)}function le(s,a){Le++,Ee[Le]=s.current,s.current=a}var fe=O(null),Ae=O(null),Ve=O(null),it=O(null);function Gt(s,a){switch(le(Ve,a),le(Ae,s),le(fe,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?TE(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=TE(a),s=CE(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(fe),le(fe,s)}function jt(){K(fe),K(Ae),K(Ve)}function _r(s){s.memoizedState!==null&&le(it,s);var a=fe.current,c=CE(a,s.type);a!==c&&(le(Ae,s),le(fe,c))}function cs(s){Ae.current===s&&(K(fe),K(Ae)),it.current===s&&(K(it),wc._currentValue=ee)}var Wt,ei;function Dr(s){if(Wt===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Wt=a&&a[1]||"",ei=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+s+ei}var uo=!1;function hr(s,a){if(!s||uo)return"";uo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var q=Y}Reflect.construct(s,[],ne)}else{try{ne.call()}catch(Y){q=Y}s.call(ne.prototype)}}else{try{throw Error()}catch(Y){q=Y}(ne=s())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),S=y[0],T=y[1];if(S&&T){var R=S.split(`
`),j=T.split(`
`);for(m=f=0;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;for(;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;if(f===R.length||m===j.length)for(f=R.length-1,m=j.length-1;1<=f&&0<=m&&R[f]!==j[m];)m--;for(;1<=f&&0<=m;f--,m--)if(R[f]!==j[m]){if(f!==1||m!==1)do if(f--,m--,0>m||R[f]!==j[m]){var X=`
`+R[f].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=f&&0<=m);break}}}finally{uo=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Dr(c):""}function Ol(s,a){switch(s.tag){case 26:case 27:case 5:return Dr(s.type);case 16:return Dr("Lazy");case 13:return s.child!==a&&a!==null?Dr("Suspense Fallback"):Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 15:return hr(s.type,!1);case 11:return hr(s.type.render,!1);case 1:return hr(s.type,!0);case 31:return Dr("Activity");default:return""}}function pa(s){try{var a="",c=null;do a+=Ol(s,c),c=s,s=s.return;while(s);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var us=Object.prototype.hasOwnProperty,ds=t.unstable_scheduleCallback,fo=t.unstable_cancelCallback,Rl=t.unstable_shouldYield,ma=t.unstable_requestPaint,xt=t.unstable_now,fi=t.unstable_getCurrentPriorityLevel,Lr=t.unstable_ImmediatePriority,ti=t.unstable_UserBlockingPriority,On=t.unstable_NormalPriority,pr=t.unstable_LowPriority,ho=t.unstable_IdlePriority,Nl=t.log,po=t.unstable_setDisableYieldValue,Oi=null,Lt=null;function mr(s){if(typeof Nl=="function"&&po(s),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Oi,s)}catch{}}var vn=Math.clz32?Math.clz32:go,ga=Math.log,mo=Math.LN2;function go(s){return s>>>=0,s===0?32:31-(ga(s)/mo|0)|0}var zr=256,Ri=262144,ni=4194304;function Pn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function N(s,a,c){var f=s.pendingLanes;if(f===0)return 0;var m=0,y=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var T=f&134217727;return T!==0?(f=T&~y,f!==0?m=Pn(f):(S&=T,S!==0?m=Pn(S):c||(c=T&~s,c!==0&&(m=Pn(c))))):(T=f&~y,T!==0?m=Pn(T):S!==0?m=Pn(S):c||(c=f&~s,c!==0&&(m=Pn(c)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:m}function J(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function pe(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $e(){var s=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),s}function vt(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Et(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ke(s,a,c,f,m,y){var S=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var T=s.entanglements,R=s.expirationTimes,j=s.hiddenUpdates;for(c=S&~c;0<c;){var X=31-vn(c),ne=1<<X;T[X]=0,R[X]=-1;var q=j[X];if(q!==null)for(j[X]=null,X=0;X<q.length;X++){var Y=q[X];Y!==null&&(Y.lane&=-536870913)}c&=~ne}f!==0&&we(s,f,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(S&~a))}function we(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-vn(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|c&261930}function C(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-vn(c),m=1<<f;m&a|s[f]&a&&(s[f]|=a),c&=~m}}function D(s,a){var c=a&-a;return c=(c&42)!==0?1:U(c),(c&(s.suspendedLanes|a))!==0?0:c}function U(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function re(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ue(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:WE(s.type))}function Ce(s,a){var c=ie.p;try{return ie.p=s,a()}finally{ie.p=c}}var ye=Math.random().toString(36).slice(2),me="__reactFiber$"+ye,be="__reactProps$"+ye,Me="__reactContainer$"+ye,He="__reactEvents$"+ye,Ne="__reactListeners$"+ye,tt="__reactHandles$"+ye,st="__reactResources$"+ye,Pt="__reactMarker$"+ye;function qt(s){delete s[me],delete s[be],delete s[He],delete s[Ne],delete s[tt]}function gt(s){var a=s[me];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Me]||c[me]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=DE(s);s!==null;){if(c=s[me])return c;s=DE(s)}return a}s=c,c=s.parentNode}return null}function rt(s){if(s=s[me]||s[Me]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function nn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Un(s){var a=s[st];return a||(a=s[st]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function zt(s){s[Pt]=!0}var gr=new Set,En={};function yr(s,a){oe(s,a),oe(s+"Capture",a)}function oe(s,a){for(En[s]=a,s=0;s<a.length;s++)gr.add(a[s])}var Te=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ye={},ft={};function Pe(s){return us.call(ft,s)?!0:us.call(Ye,s)?!1:Te.test(s)?ft[s]=!0:(Ye[s]=!0,!1)}function ht(s,a,c){if(Pe(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function un(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Xt(s,a,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+f)}}function Fe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Sn(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function yo(s,a,c){var f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,y=f.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,y.call(this,S)}}),Object.defineProperty(s,a,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function fs(s){if(!s._valueTracker){var a=Sn(s)?"checked":"value";s._valueTracker=yo(s,a,""+s[a])}}function _l(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=Sn(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function ya(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var up=/[\n"\\]/g;function er(s){return s.replace(up,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Dl(s,a,c,f,m,y,S,T){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Fe(a)):s.value!==""+Fe(a)&&(s.value=""+Fe(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?ba(s,S,Fe(a)):c!=null?ba(s,S,Fe(c)):f!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+Fe(T):s.removeAttribute("name")}function bo(s,a,c,f,m,y,S,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){fs(s);return}c=c!=null?""+Fe(c):"",a=a!=null?""+Fe(a):c,T||a===s.value||(s.value=a),s.defaultValue=a}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=T?s.checked:!!f,s.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S),fs(s)}function ba(s,a,c){a==="number"&&ya(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Rn(s,a,c,f){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Fe(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function zu(s,a,c){if(a!=null&&(a=""+Fe(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Fe(c):""}function wa(s,a,c,f){if(a==null){if(f!=null){if(c!=null)throw Error(r(92));if(ge(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),a=c}c=Fe(a),s.defaultValue=c,f=s.textContent,f===c&&f!==""&&f!==null&&(s.value=f),fs(s)}function qe(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dn(s,a,c){var f=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,c):typeof c!="number"||c===0||Bu.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function kt(s,a,c){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var m in a)f=a[m],a.hasOwnProperty(m)&&c[m]!==f&&dn(s,m,f)}else for(var y in a)a.hasOwnProperty(y)&&dn(s,y,a[y])}function hs(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ll=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ps(s){return Ll.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function de(){}var Oe=null;function We(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var lt=null,Yt=null;function Br(s){var a=rt(s);if(a&&(s=a.stateNode)){var c=s[be]||null;e:switch(s=a.stateNode,a.type){case"input":if(Dl(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+er(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var m=f[be]||null;if(!m)throw Error(r(90));Dl(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)f=c[a],f.form===s.form&&_l(f)}break e;case"textarea":zu(s,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Rn(s,!!c.multiple,a,!1)}}}var zl=!1;function Iu(s,a,c){if(zl)return s(a,c);zl=!0;try{var f=s(a);return f}finally{if(zl=!1,(lt!==null||Yt!==null)&&(kd(),lt&&(a=lt,s=Yt,Yt=lt=null,Br(a),s)))for(a=0;a<s.length;a++)Br(s[a])}}function Bl(s,a){var c=s.stateNode;if(c===null)return null;var f=c[be]||null;if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dp=!1;if(_i)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){dp=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{dp=!1}var ms=null,fp=null,Pu=null;function C0(){if(Pu)return Pu;var s,a=fp,c=a.length,f,m="value"in ms?ms.value:ms.textContent,y=m.length;for(s=0;s<c&&a[s]===m[s];s++);var S=c-s;for(f=1;f<=S&&a[c-f]===m[y-f];f++);return Pu=m.slice(s,1<f?1-f:void 0)}function Uu(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Hu(){return!0}function M0(){return!1}function tr(s){function a(c,f,m,y,S){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(c=s[T],this[T]=c?c(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Hu:M0,this.isPropagationStopped=M0,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Hu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Hu)},persist:function(){},isPersistent:Hu}),a}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=tr(wo),Pl=g({},wo,{view:0,detail:0}),m2=tr(Pl),hp,pp,Ul,ju=g({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ul&&(Ul&&s.type==="mousemove"?(hp=s.screenX-Ul.screenX,pp=s.screenY-Ul.screenY):pp=hp=0,Ul=s),hp)},movementY:function(s){return"movementY"in s?s.movementY:pp}}),A0=tr(ju),g2=g({},ju,{dataTransfer:0}),y2=tr(g2),b2=g({},Pl,{relatedTarget:0}),mp=tr(b2),w2=g({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),v2=tr(w2),E2=g({},wo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),S2=tr(E2),x2=g({},wo,{data:0}),O0=tr(x2),k2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M2(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=C2[s])?!!a[s]:!1}function gp(){return M2}var A2=g({},Pl,{key:function(s){if(s.key){var a=k2[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Uu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?T2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gp,charCode:function(s){return s.type==="keypress"?Uu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Uu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),O2=tr(A2),R2=g({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R0=tr(R2),N2=g({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gp}),_2=tr(N2),D2=g({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),L2=tr(D2),z2=g({},ju,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),B2=tr(z2),I2=g({},wo,{newState:0,oldState:0}),P2=tr(I2),U2=[9,13,27,32],yp=_i&&"CompositionEvent"in window,Hl=null;_i&&"documentMode"in document&&(Hl=document.documentMode);var H2=_i&&"TextEvent"in window&&!Hl,N0=_i&&(!yp||Hl&&8<Hl&&11>=Hl),_0=" ",D0=!1;function L0(s,a){switch(s){case"keyup":return U2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var va=!1;function $2(s,a){switch(s){case"compositionend":return z0(a);case"keypress":return a.which!==32?null:(D0=!0,_0);case"textInput":return s=a.data,s===_0&&D0?null:s;default:return null}}function j2(s,a){if(va)return s==="compositionend"||!yp&&L0(s,a)?(s=C0(),Pu=fp=ms=null,va=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return N0&&a.locale!=="ko"?null:a.data;default:return null}}var q2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!q2[s.type]:a==="textarea"}function I0(s,a,c,f){lt?Yt?Yt.push(f):Yt=[f]:lt=f,a=Nd(a,"onChange"),0<a.length&&(c=new $u("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var $l=null,jl=null;function F2(s){wE(s,0)}function qu(s){var a=nn(s);if(_l(a))return s}function P0(s,a){if(s==="change")return a}var U0=!1;if(_i){var bp;if(_i){var wp="oninput"in document;if(!wp){var H0=document.createElement("div");H0.setAttribute("oninput","return;"),wp=typeof H0.oninput=="function"}bp=wp}else bp=!1;U0=bp&&(!document.documentMode||9<document.documentMode)}function $0(){$l&&($l.detachEvent("onpropertychange",j0),jl=$l=null)}function j0(s){if(s.propertyName==="value"&&qu(jl)){var a=[];I0(a,jl,s,We(s)),Iu(F2,a)}}function V2(s,a,c){s==="focusin"?($0(),$l=a,jl=c,$l.attachEvent("onpropertychange",j0)):s==="focusout"&&$0()}function K2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qu(jl)}function G2(s,a){if(s==="click")return qu(a)}function Y2(s,a){if(s==="input"||s==="change")return qu(a)}function W2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var br=typeof Object.is=="function"?Object.is:W2;function ql(s,a){if(br(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!us.call(a,m)||!br(s[m],a[m]))return!1}return!0}function q0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function F0(s,a){var c=q0(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=q0(c)}}function V0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?V0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function K0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ya(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=ya(s.document)}return a}function vp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var X2=_i&&"documentMode"in document&&11>=document.documentMode,Ea=null,Ep=null,Fl=null,Sp=!1;function G0(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Sp||Ea==null||Ea!==ya(f)||(f=Ea,"selectionStart"in f&&vp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Fl&&ql(Fl,f)||(Fl=f,f=Nd(Ep,"onSelect"),0<f.length&&(a=new $u("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=Ea)))}function vo(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Sa={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionrun:vo("Transition","TransitionRun"),transitionstart:vo("Transition","TransitionStart"),transitioncancel:vo("Transition","TransitionCancel"),transitionend:vo("Transition","TransitionEnd")},xp={},Y0={};_i&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Eo(s){if(xp[s])return xp[s];if(!Sa[s])return s;var a=Sa[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Y0)return xp[s]=a[c];return s}var W0=Eo("animationend"),X0=Eo("animationiteration"),Z0=Eo("animationstart"),Z2=Eo("transitionrun"),J2=Eo("transitionstart"),Q2=Eo("transitioncancel"),J0=Eo("transitionend"),Q0=new Map,kp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kp.push("scrollEnd");function ri(s,a){Q0.set(s,a),yr(a,[s])}var Fu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ir=[],xa=0,Tp=0;function Vu(){for(var s=xa,a=Tp=xa=0;a<s;){var c=Ir[a];Ir[a++]=null;var f=Ir[a];Ir[a++]=null;var m=Ir[a];Ir[a++]=null;var y=Ir[a];if(Ir[a++]=null,f!==null&&m!==null){var S=f.pending;S===null?m.next=m:(m.next=S.next,S.next=m),f.pending=m}y!==0&&ew(c,m,y)}}function Ku(s,a,c,f){Ir[xa++]=s,Ir[xa++]=a,Ir[xa++]=c,Ir[xa++]=f,Tp|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Cp(s,a,c,f){return Ku(s,a,c,f),Gu(s)}function So(s,a){return Ku(s,null,null,a),Gu(s)}function ew(s,a,c){s.lanes|=c;var f=s.alternate;f!==null&&(f.lanes|=c);for(var m=!1,y=s.return;y!==null;)y.childLanes|=c,f=y.alternate,f!==null&&(f.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&a!==null&&(m=31-vn(c),s=y.hiddenUpdates,f=s[m],f===null?s[m]=[a]:f.push(a),a.lane=c|536870912),y):null}function Gu(s){if(50<fc)throw fc=0,zm=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var ka={};function eO(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,a,c,f){return new eO(s,a,c,f)}function Mp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Di(s,a){var c=s.alternate;return c===null?(c=wr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function tw(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Yu(s,a,c,f,m,y){var S=0;if(f=s,typeof s=="function")Mp(s)&&(S=1);else if(typeof s=="string")S=sR(s,c,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case se:return s=wr(31,c,a,m),s.elementType=se,s.lanes=y,s;case E:return xo(c.children,m,y,a);case x:S=8,m|=24;break;case k:return s=wr(12,c,a,m|2),s.elementType=k,s.lanes=y,s;case P:return s=wr(13,c,a,m),s.elementType=P,s.lanes=y,s;case V:return s=wr(19,c,a,m),s.elementType=V,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:S=10;break e;case A:S=9;break e;case $:S=11;break e;case M:S=14;break e;case Z:S=16,f=null;break e}S=29,c=Error(r(130,s===null?"null":typeof s,"")),f=null}return a=wr(S,c,a,m),a.elementType=s,a.type=f,a.lanes=y,a}function xo(s,a,c,f){return s=wr(7,s,f,a),s.lanes=c,s}function Ap(s,a,c){return s=wr(6,s,null,a),s.lanes=c,s}function nw(s){var a=wr(18,null,null,0);return a.stateNode=s,a}function Op(s,a,c){return a=wr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var rw=new WeakMap;function Pr(s,a){if(typeof s=="object"&&s!==null){var c=rw.get(s);return c!==void 0?c:(a={value:s,source:a,stack:pa(a)},rw.set(s,a),a)}return{value:s,source:a,stack:pa(a)}}var Ta=[],Ca=0,Wu=null,Vl=0,Ur=[],Hr=0,gs=null,hi=1,pi="";function Li(s,a){Ta[Ca++]=Vl,Ta[Ca++]=Wu,Wu=s,Vl=a}function iw(s,a,c){Ur[Hr++]=hi,Ur[Hr++]=pi,Ur[Hr++]=gs,gs=s;var f=hi;s=pi;var m=32-vn(f)-1;f&=~(1<<m),c+=1;var y=32-vn(a)+m;if(30<y){var S=m-m%5;y=(f&(1<<S)-1).toString(32),f>>=S,m-=S,hi=1<<32-vn(a)+m|c<<m|f,pi=y+s}else hi=1<<y|c<<m|f,pi=s}function Rp(s){s.return!==null&&(Li(s,1),iw(s,1,0))}function Np(s){for(;s===Wu;)Wu=Ta[--Ca],Ta[Ca]=null,Vl=Ta[--Ca],Ta[Ca]=null;for(;s===gs;)gs=Ur[--Hr],Ur[Hr]=null,pi=Ur[--Hr],Ur[Hr]=null,hi=Ur[--Hr],Ur[Hr]=null}function sw(s,a){Ur[Hr++]=hi,Ur[Hr++]=pi,Ur[Hr++]=gs,hi=a.id,pi=a.overflow,gs=s}var Nn=null,Ut=null,dt=!1,ys=null,$r=!1,_p=Error(r(519));function bs(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Pr(a,s)),_p}function ow(s){var a=s.stateNode,c=s.type,f=s.memoizedProps;switch(a[me]=s,a[be]=f,c){case"dialog":at("cancel",a),at("close",a);break;case"iframe":case"object":case"embed":at("load",a);break;case"video":case"audio":for(c=0;c<pc.length;c++)at(pc[c],a);break;case"source":at("error",a);break;case"img":case"image":case"link":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"input":at("invalid",a),bo(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":at("invalid",a);break;case"textarea":at("invalid",a),wa(a,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||f.suppressHydrationWarning===!0||xE(a.textContent,c)?(f.popover!=null&&(at("beforetoggle",a),at("toggle",a)),f.onScroll!=null&&at("scroll",a),f.onScrollEnd!=null&&at("scrollend",a),f.onClick!=null&&(a.onclick=de),a=!0):a=!1,a||bs(s,!0)}function aw(s){for(Nn=s.return;Nn;)switch(Nn.tag){case 5:case 31:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:Nn=Nn.return}}function Ma(s){if(s!==Nn)return!1;if(!dt)return aw(s),dt=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Xm(s.type,s.memoizedProps)),c=!c),c&&Ut&&bs(s),aw(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ut=_E(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ut=_E(s)}else a===27?(a=Ut,_s(s.type)?(s=tg,tg=null,Ut=s):Ut=a):Ut=Nn?qr(s.stateNode.nextSibling):null;return!0}function ko(){Ut=Nn=null,dt=!1}function Dp(){var s=ys;return s!==null&&(sr===null?sr=s:sr.push.apply(sr,s),ys=null),s}function Kl(s){ys===null?ys=[s]:ys.push(s)}var Lp=O(null),To=null,zi=null;function ws(s,a,c){le(Lp,a._currentValue),a._currentValue=c}function Bi(s){s._currentValue=Lp.current,K(Lp)}function zp(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function Bp(s,a,c,f){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=m;for(var R=0;R<a.length;R++)if(T.context===a[R]){y.lanes|=c,T=y.alternate,T!==null&&(T.lanes|=c),zp(y.return,c,s),f||(S=null);break e}y=T.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=c,y=S.alternate,y!==null&&(y.lanes|=c),zp(S,c,s),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===s){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Aa(s,a,c,f){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var T=m.type;br(m.pendingProps.value,S.value)||(s!==null?s.push(T):s=[T])}}else if(m===it.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(wc):s=[wc])}m=m.return}s!==null&&Bp(a,s,c,f),a.flags|=262144}function Xu(s){for(s=s.firstContext;s!==null;){if(!br(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Co(s){To=s,zi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function _n(s){return lw(To,s)}function Zu(s,a){return To===null&&Co(s),lw(s,a)}function lw(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},zi===null){if(s===null)throw Error(r(308));zi=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else zi=zi.next=a;return c}var tO=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},nO=t.unstable_scheduleCallback,rO=t.unstable_NormalPriority,fn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ip(){return{controller:new tO,data:new Map,refCount:0}}function Gl(s){s.refCount--,s.refCount===0&&nO(rO,function(){s.controller.abort()})}var Yl=null,Pp=0,Oa=0,Ra=null;function iO(s,a){if(Yl===null){var c=Yl=[];Pp=0,Oa=$m(),Ra={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Pp++,a.then(cw,cw),a}function cw(){if(--Pp===0&&Yl!==null){Ra!==null&&(Ra.status="fulfilled");var s=Yl;Yl=null,Oa=0,Ra=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function sO(s,a){var c=[],f={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(f.status="rejected",f.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),f}var uw=B.S;B.S=function(s,a){Gv=xt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&iO(s,a),uw!==null&&uw(s,a)};var Mo=O(null);function Up(){var s=Mo.current;return s!==null?s:_t.pooledCache}function Ju(s,a){a===null?le(Mo,Mo.current):le(Mo,a.pool)}function dw(){var s=Up();return s===null?null:{parent:fn._currentValue,pool:s}}var Na=Error(r(460)),Hp=Error(r(474)),Qu=Error(r(542)),ed={then:function(){}};function fw(s){return s=s.status,s==="fulfilled"||s==="rejected"}function hw(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(de,de),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,mw(s),s;default:if(typeof a.status=="string")a.then(de,de);else{if(s=_t,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=f}},function(f){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,mw(s),s}throw Oo=a,Na}}function Ao(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Oo=c,Na):c}}var Oo=null;function pw(){if(Oo===null)throw Error(r(459));var s=Oo;return Oo=null,s}function mw(s){if(s===Na||s===Qu)throw Error(r(483))}var _a=null,Wl=0;function td(s){var a=Wl;return Wl+=1,_a===null&&(_a=[]),hw(_a,s,a)}function Xl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function nd(s,a){throw a.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function gw(s){function a(I,_){if(s){var H=I.deletions;H===null?(I.deletions=[_],I.flags|=16):H.push(_)}}function c(I,_){if(!s)return null;for(;_!==null;)a(I,_),_=_.sibling;return null}function f(I){for(var _=new Map;I!==null;)I.key!==null?_.set(I.key,I):_.set(I.index,I),I=I.sibling;return _}function m(I,_){return I=Di(I,_),I.index=0,I.sibling=null,I}function y(I,_,H){return I.index=H,s?(H=I.alternate,H!==null?(H=H.index,H<_?(I.flags|=67108866,_):H):(I.flags|=67108866,_)):(I.flags|=1048576,_)}function S(I){return s&&I.alternate===null&&(I.flags|=67108866),I}function T(I,_,H,Q){return _===null||_.tag!==6?(_=Ap(H,I.mode,Q),_.return=I,_):(_=m(_,H),_.return=I,_)}function R(I,_,H,Q){var Ue=H.type;return Ue===E?X(I,_,H.props.children,Q,H.key):_!==null&&(_.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Z&&Ao(Ue)===_.type)?(_=m(_,H.props),Xl(_,H),_.return=I,_):(_=Yu(H.type,H.key,H.props,null,I.mode,Q),Xl(_,H),_.return=I,_)}function j(I,_,H,Q){return _===null||_.tag!==4||_.stateNode.containerInfo!==H.containerInfo||_.stateNode.implementation!==H.implementation?(_=Op(H,I.mode,Q),_.return=I,_):(_=m(_,H.children||[]),_.return=I,_)}function X(I,_,H,Q,Ue){return _===null||_.tag!==7?(_=xo(H,I.mode,Q,Ue),_.return=I,_):(_=m(_,H),_.return=I,_)}function ne(I,_,H){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Ap(""+_,I.mode,H),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case w:return H=Yu(_.type,_.key,_.props,null,I.mode,H),Xl(H,_),H.return=I,H;case v:return _=Op(_,I.mode,H),_.return=I,_;case Z:return _=Ao(_),ne(I,_,H)}if(ge(_)||te(_))return _=xo(_,I.mode,H,null),_.return=I,_;if(typeof _.then=="function")return ne(I,td(_),H);if(_.$$typeof===L)return ne(I,Zu(I,_),H);nd(I,_)}return null}function q(I,_,H,Q){var Ue=_!==null?_.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ue!==null?null:T(I,_,""+H,Q);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===Ue?R(I,_,H,Q):null;case v:return H.key===Ue?j(I,_,H,Q):null;case Z:return H=Ao(H),q(I,_,H,Q)}if(ge(H)||te(H))return Ue!==null?null:X(I,_,H,Q,null);if(typeof H.then=="function")return q(I,_,td(H),Q);if(H.$$typeof===L)return q(I,_,Zu(I,H),Q);nd(I,H)}return null}function Y(I,_,H,Q,Ue){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return I=I.get(H)||null,T(_,I,""+Q,Ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return I=I.get(Q.key===null?H:Q.key)||null,R(_,I,Q,Ue);case v:return I=I.get(Q.key===null?H:Q.key)||null,j(_,I,Q,Ue);case Z:return Q=Ao(Q),Y(I,_,H,Q,Ue)}if(ge(Q)||te(Q))return I=I.get(H)||null,X(_,I,Q,Ue,null);if(typeof Q.then=="function")return Y(I,_,H,td(Q),Ue);if(Q.$$typeof===L)return Y(I,_,H,Zu(_,Q),Ue);nd(_,Q)}return null}function Se(I,_,H,Q){for(var Ue=null,pt=null,Re=_,Je=_=0,ut=null;Re!==null&&Je<H.length;Je++){Re.index>Je?(ut=Re,Re=null):ut=Re.sibling;var mt=q(I,Re,H[Je],Q);if(mt===null){Re===null&&(Re=ut);break}s&&Re&&mt.alternate===null&&a(I,Re),_=y(mt,_,Je),pt===null?Ue=mt:pt.sibling=mt,pt=mt,Re=ut}if(Je===H.length)return c(I,Re),dt&&Li(I,Je),Ue;if(Re===null){for(;Je<H.length;Je++)Re=ne(I,H[Je],Q),Re!==null&&(_=y(Re,_,Je),pt===null?Ue=Re:pt.sibling=Re,pt=Re);return dt&&Li(I,Je),Ue}for(Re=f(Re);Je<H.length;Je++)ut=Y(Re,I,Je,H[Je],Q),ut!==null&&(s&&ut.alternate!==null&&Re.delete(ut.key===null?Je:ut.key),_=y(ut,_,Je),pt===null?Ue=ut:pt.sibling=ut,pt=ut);return s&&Re.forEach(function(Is){return a(I,Is)}),dt&&Li(I,Je),Ue}function je(I,_,H,Q){if(H==null)throw Error(r(151));for(var Ue=null,pt=null,Re=_,Je=_=0,ut=null,mt=H.next();Re!==null&&!mt.done;Je++,mt=H.next()){Re.index>Je?(ut=Re,Re=null):ut=Re.sibling;var Is=q(I,Re,mt.value,Q);if(Is===null){Re===null&&(Re=ut);break}s&&Re&&Is.alternate===null&&a(I,Re),_=y(Is,_,Je),pt===null?Ue=Is:pt.sibling=Is,pt=Is,Re=ut}if(mt.done)return c(I,Re),dt&&Li(I,Je),Ue;if(Re===null){for(;!mt.done;Je++,mt=H.next())mt=ne(I,mt.value,Q),mt!==null&&(_=y(mt,_,Je),pt===null?Ue=mt:pt.sibling=mt,pt=mt);return dt&&Li(I,Je),Ue}for(Re=f(Re);!mt.done;Je++,mt=H.next())mt=Y(Re,I,Je,mt.value,Q),mt!==null&&(s&&mt.alternate!==null&&Re.delete(mt.key===null?Je:mt.key),_=y(mt,_,Je),pt===null?Ue=mt:pt.sibling=mt,pt=mt);return s&&Re.forEach(function(gR){return a(I,gR)}),dt&&Li(I,Je),Ue}function Nt(I,_,H,Q){if(typeof H=="object"&&H!==null&&H.type===E&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var Ue=H.key;_!==null;){if(_.key===Ue){if(Ue=H.type,Ue===E){if(_.tag===7){c(I,_.sibling),Q=m(_,H.props.children),Q.return=I,I=Q;break e}}else if(_.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Z&&Ao(Ue)===_.type){c(I,_.sibling),Q=m(_,H.props),Xl(Q,H),Q.return=I,I=Q;break e}c(I,_);break}else a(I,_);_=_.sibling}H.type===E?(Q=xo(H.props.children,I.mode,Q,H.key),Q.return=I,I=Q):(Q=Yu(H.type,H.key,H.props,null,I.mode,Q),Xl(Q,H),Q.return=I,I=Q)}return S(I);case v:e:{for(Ue=H.key;_!==null;){if(_.key===Ue)if(_.tag===4&&_.stateNode.containerInfo===H.containerInfo&&_.stateNode.implementation===H.implementation){c(I,_.sibling),Q=m(_,H.children||[]),Q.return=I,I=Q;break e}else{c(I,_);break}else a(I,_);_=_.sibling}Q=Op(H,I.mode,Q),Q.return=I,I=Q}return S(I);case Z:return H=Ao(H),Nt(I,_,H,Q)}if(ge(H))return Se(I,_,H,Q);if(te(H)){if(Ue=te(H),typeof Ue!="function")throw Error(r(150));return H=Ue.call(H),je(I,_,H,Q)}if(typeof H.then=="function")return Nt(I,_,td(H),Q);if(H.$$typeof===L)return Nt(I,_,Zu(I,H),Q);nd(I,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,_!==null&&_.tag===6?(c(I,_.sibling),Q=m(_,H),Q.return=I,I=Q):(c(I,_),Q=Ap(H,I.mode,Q),Q.return=I,I=Q),S(I)):c(I,_)}return function(I,_,H,Q){try{Wl=0;var Ue=Nt(I,_,H,Q);return _a=null,Ue}catch(Re){if(Re===Na||Re===Qu)throw Re;var pt=wr(29,Re,null,I.mode);return pt.lanes=Q,pt.return=I,pt}finally{}}}var Ro=gw(!0),yw=gw(!1),vs=!1;function $p(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Es(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ss(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(yt&2)!==0){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,a=Gu(s),ew(s,null,c),a}return Ku(s,f,a,c),Gu(s)}function Zl(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,C(s,c)}}function qp(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?m=y=a:y=y.next=a}else m=y=a;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Fp=!1;function Jl(){if(Fp){var s=Ra;if(s!==null)throw s}}function Ql(s,a,c,f){Fp=!1;var m=s.updateQueue;vs=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var R=T,j=R.next;R.next=null,S===null?y=j:S.next=j,S=R;var X=s.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==S&&(T===null?X.firstBaseUpdate=j:T.next=j,X.lastBaseUpdate=R))}if(y!==null){var ne=m.baseState;S=0,X=j=R=null,T=y;do{var q=T.lane&-536870913,Y=q!==T.lane;if(Y?(ct&q)===q:(f&q)===q){q!==0&&q===Oa&&(Fp=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=s,je=T;q=a;var Nt=c;switch(je.tag){case 1:if(Se=je.payload,typeof Se=="function"){ne=Se.call(Nt,ne,q);break e}ne=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=je.payload,q=typeof Se=="function"?Se.call(Nt,ne,q):Se,q==null)break e;ne=g({},ne,q);break e;case 2:vs=!0}}q=T.callback,q!==null&&(s.flags|=64,Y&&(s.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(j=X=Y,R=ne):X=X.next=Y,S|=q;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);X===null&&(R=ne),m.baseState=R,m.firstBaseUpdate=j,m.lastBaseUpdate=X,y===null&&(m.shared.lanes=0),Ms|=S,s.lanes=S,s.memoizedState=ne}}function bw(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function ww(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)bw(c[s],a)}var Da=O(null),rd=O(0);function vw(s,a){s=Vi,le(rd,s),le(Da,a),Vi=s|a.baseLanes}function Vp(){le(rd,Vi),le(Da,Da.current)}function Kp(){Vi=rd.current,K(Da),K(rd)}var vr=O(null),jr=null;function xs(s){var a=s.alternate;le(rn,rn.current&1),le(vr,s),jr===null&&(a===null||Da.current!==null||a.memoizedState!==null)&&(jr=s)}function Gp(s){le(rn,rn.current),le(vr,s),jr===null&&(jr=s)}function Ew(s){s.tag===22?(le(rn,rn.current),le(vr,s),jr===null&&(jr=s)):ks()}function ks(){le(rn,rn.current),le(vr,vr.current)}function Er(s){K(vr),jr===s&&(jr=null),K(rn)}var rn=O(0);function id(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Qm(c)||eg(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ii=0,Xe=null,Ot=null,hn=null,sd=!1,La=!1,No=!1,od=0,ec=0,za=null,oO=0;function Zt(){throw Error(r(321))}function Yp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!br(s[c],a[c]))return!1;return!0}function Wp(s,a,c,f,m,y){return Ii=y,Xe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=s===null||s.memoizedState===null?iv:um,No=!1,y=c(f,m),No=!1,La&&(y=xw(a,c,f,m)),Sw(s),y}function Sw(s){B.H=rc;var a=Ot!==null&&Ot.next!==null;if(Ii=0,hn=Ot=Xe=null,sd=!1,ec=0,za=null,a)throw Error(r(300));s===null||pn||(s=s.dependencies,s!==null&&Xu(s)&&(pn=!0))}function xw(s,a,c,f){Xe=s;var m=0;do{if(La&&(za=null),ec=0,La=!1,25<=m)throw Error(r(301));if(m+=1,hn=Ot=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=sv,y=a(c,f)}while(La);return y}function aO(){var s=B.H,a=s.useState()[0];return a=typeof a.then=="function"?tc(a):a,s=s.useState()[0],(Ot!==null?Ot.memoizedState:null)!==s&&(Xe.flags|=1024),a}function Xp(){var s=od!==0;return od=0,s}function Zp(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function Jp(s){if(sd){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}sd=!1}Ii=0,hn=Ot=Xe=null,La=!1,ec=od=0,za=null}function Yn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Xe.memoizedState=hn=s:hn=hn.next=s,hn}function sn(){if(Ot===null){var s=Xe.alternate;s=s!==null?s.memoizedState:null}else s=Ot.next;var a=hn===null?Xe.memoizedState:hn.next;if(a!==null)hn=a,Ot=s;else{if(s===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));Ot=s,s={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},hn===null?Xe.memoizedState=hn=s:hn=hn.next=s}return hn}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(s){var a=ec;return ec+=1,za===null&&(za=[]),s=hw(za,s,a),a=Xe,(hn===null?a.memoizedState:hn.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?iv:um),s}function ld(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return tc(s);if(s.$$typeof===L)return _n(s)}throw Error(r(438,String(s)))}function Qp(s){var a=null,c=Xe.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var f=Xe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=ad(),Xe.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),f=0;f<s;f++)c[f]=De;return a.index++,c}function Pi(s,a){return typeof a=="function"?a(s):a}function cd(s){var a=sn();return em(a,Ot,s)}function em(s,a,c){var f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var m=s.baseQueue,y=f.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}a.baseQueue=m=y,f.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var T=S=null,R=null,j=a,X=!1;do{var ne=j.lane&-536870913;if(ne!==j.lane?(ct&ne)===ne:(Ii&ne)===ne){var q=j.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ne===Oa&&(X=!0);else if((Ii&q)===q){j=j.next,q===Oa&&(X=!0);continue}else ne={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=ne,S=y):R=R.next=ne,Xe.lanes|=q,Ms|=q;ne=j.action,No&&c(y,ne),y=j.hasEagerState?j.eagerState:c(y,ne)}else q={lane:ne,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=q,S=y):R=R.next=q,Xe.lanes|=ne,Ms|=ne;j=j.next}while(j!==null&&j!==a);if(R===null?S=y:R.next=T,!br(y,s.memoizedState)&&(pn=!0,X&&(c=Ra,c!==null)))throw c;s.memoizedState=y,s.baseState=S,s.baseQueue=R,f.lastRenderedState=y}return m===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function tm(s){var a=sn(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var f=c.dispatch,m=c.pending,y=a.memoizedState;if(m!==null){c.pending=null;var S=m=m.next;do y=s(y,S.action),S=S.next;while(S!==m);br(y,a.memoizedState)||(pn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,f]}function kw(s,a,c){var f=Xe,m=sn(),y=dt;if(y){if(c===void 0)throw Error(r(407));c=c()}else c=a();var S=!br((Ot||m).memoizedState,c);if(S&&(m.memoizedState=c,pn=!0),m=m.queue,im(Mw.bind(null,f,m,s),[s]),m.getSnapshot!==a||S||hn!==null&&hn.memoizedState.tag&1){if(f.flags|=2048,Ba(9,{destroy:void 0},Cw.bind(null,f,m,c,a),null),_t===null)throw Error(r(349));y||(Ii&127)!==0||Tw(f,a,c)}return c}function Tw(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Xe.updateQueue,a===null?(a=ad(),Xe.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Cw(s,a,c,f){a.value=c,a.getSnapshot=f,Aw(a)&&Ow(s)}function Mw(s,a,c){return c(function(){Aw(a)&&Ow(s)})}function Aw(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!br(s,c)}catch{return!0}}function Ow(s){var a=So(s,2);a!==null&&or(a,s,2)}function nm(s){var a=Yn();if(typeof s=="function"){var c=s;if(s=c(),No){mr(!0);try{c()}finally{mr(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},a}function Rw(s,a,c,f){return s.baseState=c,em(s,Ot,typeof f=="function"?f:Pi)}function lO(s,a,c,f,m){if(fd(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};B.T!==null?c(!0):y.isTransition=!1,f(y),c=a.pending,c===null?(y.next=a.pending=y,Nw(a,y)):(y.next=c.next,a.pending=c.next=y)}}function Nw(s,a){var c=a.action,f=a.payload,m=s.state;if(a.isTransition){var y=B.T,S={};B.T=S;try{var T=c(m,f),R=B.S;R!==null&&R(S,T),_w(s,a,T)}catch(j){rm(s,a,j)}finally{y!==null&&S.types!==null&&(y.types=S.types),B.T=y}}else try{y=c(m,f),_w(s,a,y)}catch(j){rm(s,a,j)}}function _w(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Dw(s,a,f)},function(f){return rm(s,a,f)}):Dw(s,a,c)}function Dw(s,a,c){a.status="fulfilled",a.value=c,Lw(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,Nw(s,c)))}function rm(s,a,c){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=c,Lw(a),a=a.next;while(a!==f)}s.action=null}function Lw(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function zw(s,a){return a}function Bw(s,a){if(dt){var c=_t.formState;if(c!==null){e:{var f=Xe;if(dt){if(Ut){t:{for(var m=Ut,y=$r;m.nodeType!==8;){if(!y){m=null;break t}if(m=qr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ut=qr(m.nextSibling),f=m.data==="F!";break e}}bs(f)}f=!1}f&&(a=c[0])}}return c=Yn(),c.memoizedState=c.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zw,lastRenderedState:a},c.queue=f,c=tv.bind(null,Xe,f),f.dispatch=c,f=nm(!1),y=cm.bind(null,Xe,!1,f.queue),f=Yn(),m={state:a,dispatch:null,action:s,pending:null},f.queue=m,c=lO.bind(null,Xe,m,y,c),m.dispatch=c,f.memoizedState=s,[a,c,!1]}function Iw(s){var a=sn();return Pw(a,Ot,s)}function Pw(s,a,c){if(a=em(s,a,zw)[0],s=cd(Pi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=tc(a)}catch(S){throw S===Na?Qu:S}else f=a;a=sn();var m=a.queue,y=m.dispatch;return c!==a.memoizedState&&(Xe.flags|=2048,Ba(9,{destroy:void 0},cO.bind(null,m,c),null)),[f,y,s]}function cO(s,a){s.action=a}function Uw(s){var a=sn(),c=Ot;if(c!==null)return Pw(a,c,s);sn(),a=a.memoizedState,c=sn();var f=c.queue.dispatch;return c.memoizedState=s,[a,f,!1]}function Ba(s,a,c,f){return s={tag:s,create:c,deps:f,inst:a,next:null},a=Xe.updateQueue,a===null&&(a=ad(),Xe.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s),s}function Hw(){return sn().memoizedState}function ud(s,a,c,f){var m=Yn();Xe.flags|=s,m.memoizedState=Ba(1|a,{destroy:void 0},c,f===void 0?null:f)}function dd(s,a,c,f){var m=sn();f=f===void 0?null:f;var y=m.memoizedState.inst;Ot!==null&&f!==null&&Yp(f,Ot.memoizedState.deps)?m.memoizedState=Ba(a,y,c,f):(Xe.flags|=s,m.memoizedState=Ba(1|a,y,c,f))}function $w(s,a){ud(8390656,8,s,a)}function im(s,a){dd(2048,8,s,a)}function uO(s){Xe.flags|=4;var a=Xe.updateQueue;if(a===null)a=ad(),Xe.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function jw(s){var a=sn().memoizedState;return uO({ref:a,nextImpl:s}),function(){if((yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function qw(s,a){return dd(4,2,s,a)}function Fw(s,a){return dd(4,4,s,a)}function Vw(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Kw(s,a,c){c=c!=null?c.concat([s]):null,dd(4,4,Vw.bind(null,a,s),c)}function sm(){}function Gw(s,a){var c=sn();a=a===void 0?null:a;var f=c.memoizedState;return a!==null&&Yp(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function Yw(s,a){var c=sn();a=a===void 0?null:a;var f=c.memoizedState;if(a!==null&&Yp(a,f[1]))return f[0];if(f=s(),No){mr(!0);try{s()}finally{mr(!1)}}return c.memoizedState=[f,a],f}function om(s,a,c){return c===void 0||(Ii&1073741824)!==0&&(ct&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=Wv(),Xe.lanes|=s,Ms|=s,c)}function Ww(s,a,c,f){return br(c,a)?c:Da.current!==null?(s=om(s,c,f),br(s,a)||(pn=!0),s):(Ii&42)===0||(Ii&1073741824)!==0&&(ct&261930)===0?(pn=!0,s.memoizedState=c):(s=Wv(),Xe.lanes|=s,Ms|=s,a)}function Xw(s,a,c,f,m){var y=ie.p;ie.p=y!==0&&8>y?y:8;var S=B.T,T={};B.T=T,cm(s,!1,a,c);try{var R=m(),j=B.S;if(j!==null&&j(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var X=sO(R,f);nc(s,a,X,kr(s))}else nc(s,a,f,kr(s))}catch(ne){nc(s,a,{then:function(){},status:"rejected",reason:ne},kr())}finally{ie.p=y,S!==null&&T.types!==null&&(S.types=T.types),B.T=S}}function dO(){}function am(s,a,c,f){if(s.tag!==5)throw Error(r(476));var m=Zw(s).queue;Xw(s,m,a,ee,c===null?dO:function(){return Jw(s),c(f)})}function Zw(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ee},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Jw(s){var a=Zw(s);a.next===null&&(a=s.alternate.memoizedState),nc(s,a.next.queue,{},kr())}function lm(){return _n(wc)}function Qw(){return sn().memoizedState}function ev(){return sn().memoizedState}function fO(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=kr();s=Es(c);var f=Ss(a,s,c);f!==null&&(or(f,a,c),Zl(f,a,c)),a={cache:Ip()},s.payload=a;return}a=a.return}}function hO(s,a,c){var f=kr();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fd(s)?nv(a,c):(c=Cp(s,a,c,f),c!==null&&(or(c,s,f),rv(c,a,f)))}function tv(s,a,c){var f=kr();nc(s,a,c,f)}function nc(s,a,c,f){var m={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(fd(s))nv(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,T=y(S,c);if(m.hasEagerState=!0,m.eagerState=T,br(T,S))return Ku(s,a,m,0),_t===null&&Vu(),!1}catch{}finally{}if(c=Cp(s,a,m,f),c!==null)return or(c,s,f),rv(c,a,f),!0}return!1}function cm(s,a,c,f){if(f={lane:2,revertLane:$m(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},fd(s)){if(a)throw Error(r(479))}else a=Cp(s,c,f,2),a!==null&&or(a,s,2)}function fd(s){var a=s.alternate;return s===Xe||a!==null&&a===Xe}function nv(s,a){La=sd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function rv(s,a,c){if((c&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,C(s,c)}}var rc={readContext:_n,use:ld,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt};rc.useEffectEvent=Zt;var iv={readContext:_n,use:ld,useCallback:function(s,a){return Yn().memoizedState=[s,a===void 0?null:a],s},useContext:_n,useEffect:$w,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,ud(4194308,4,Vw.bind(null,a,s),c)},useLayoutEffect:function(s,a){return ud(4194308,4,s,a)},useInsertionEffect:function(s,a){ud(4,2,s,a)},useMemo:function(s,a){var c=Yn();a=a===void 0?null:a;var f=s();if(No){mr(!0);try{s()}finally{mr(!1)}}return c.memoizedState=[f,a],f},useReducer:function(s,a,c){var f=Yn();if(c!==void 0){var m=c(a);if(No){mr(!0);try{c(a)}finally{mr(!1)}}}else m=a;return f.memoizedState=f.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},f.queue=s,s=s.dispatch=hO.bind(null,Xe,s),[f.memoizedState,s]},useRef:function(s){var a=Yn();return s={current:s},a.memoizedState=s},useState:function(s){s=nm(s);var a=s.queue,c=tv.bind(null,Xe,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:sm,useDeferredValue:function(s,a){var c=Yn();return om(c,s,a)},useTransition:function(){var s=nm(!1);return s=Xw.bind(null,Xe,s.queue,!0,!1),Yn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var f=Xe,m=Yn();if(dt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),_t===null)throw Error(r(349));(ct&127)!==0||Tw(f,a,c)}m.memoizedState=c;var y={value:c,getSnapshot:a};return m.queue=y,$w(Mw.bind(null,f,y,s),[s]),f.flags|=2048,Ba(9,{destroy:void 0},Cw.bind(null,f,y,c,a),null),c},useId:function(){var s=Yn(),a=_t.identifierPrefix;if(dt){var c=pi,f=hi;c=(f&~(1<<32-vn(f)-1)).toString(32)+c,a="_"+a+"R_"+c,c=od++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=oO++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:lm,useFormState:Bw,useActionState:Bw,useOptimistic:function(s){var a=Yn();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=cm.bind(null,Xe,!0,c),c.dispatch=a,[s,a]},useMemoCache:Qp,useCacheRefresh:function(){return Yn().memoizedState=fO.bind(null,Xe)},useEffectEvent:function(s){var a=Yn(),c={impl:s};return a.memoizedState=c,function(){if((yt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},um={readContext:_n,use:ld,useCallback:Gw,useContext:_n,useEffect:im,useImperativeHandle:Kw,useInsertionEffect:qw,useLayoutEffect:Fw,useMemo:Yw,useReducer:cd,useRef:Hw,useState:function(){return cd(Pi)},useDebugValue:sm,useDeferredValue:function(s,a){var c=sn();return Ww(c,Ot.memoizedState,s,a)},useTransition:function(){var s=cd(Pi)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:tc(s),a]},useSyncExternalStore:kw,useId:Qw,useHostTransitionStatus:lm,useFormState:Iw,useActionState:Iw,useOptimistic:function(s,a){var c=sn();return Rw(c,Ot,s,a)},useMemoCache:Qp,useCacheRefresh:ev};um.useEffectEvent=jw;var sv={readContext:_n,use:ld,useCallback:Gw,useContext:_n,useEffect:im,useImperativeHandle:Kw,useInsertionEffect:qw,useLayoutEffect:Fw,useMemo:Yw,useReducer:tm,useRef:Hw,useState:function(){return tm(Pi)},useDebugValue:sm,useDeferredValue:function(s,a){var c=sn();return Ot===null?om(c,s,a):Ww(c,Ot.memoizedState,s,a)},useTransition:function(){var s=tm(Pi)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:tc(s),a]},useSyncExternalStore:kw,useId:Qw,useHostTransitionStatus:lm,useFormState:Uw,useActionState:Uw,useOptimistic:function(s,a){var c=sn();return Ot!==null?Rw(c,Ot,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Qp,useCacheRefresh:ev};sv.useEffectEvent=jw;function dm(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:g({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var fm={enqueueSetState:function(s,a,c){s=s._reactInternals;var f=kr(),m=Es(f);m.payload=a,c!=null&&(m.callback=c),a=Ss(s,m,f),a!==null&&(or(a,s,f),Zl(a,s,f))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=kr(),m=Es(f);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=Ss(s,m,f),a!==null&&(or(a,s,f),Zl(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=kr(),f=Es(c);f.tag=2,a!=null&&(f.callback=a),a=Ss(s,f,c),a!==null&&(or(a,s,c),Zl(a,s,c))}};function ov(s,a,c,f,m,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,S):a.prototype&&a.prototype.isPureReactComponent?!ql(c,f)||!ql(m,y):!0}function av(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&fm.enqueueReplaceState(a,a.state,null)}function _o(s,a){var c=a;if("ref"in a){c={};for(var f in a)f!=="ref"&&(c[f]=a[f])}if(s=s.defaultProps){c===a&&(c=g({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}function lv(s){Fu(s)}function cv(s){console.error(s)}function uv(s){Fu(s)}function hd(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function dv(s,a,c){try{var f=s.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function hm(s,a,c){return c=Es(c),c.tag=3,c.payload={element:null},c.callback=function(){hd(s,a)},c}function fv(s){return s=Es(s),s.tag=3,s}function hv(s,a,c,f){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=f.value;s.payload=function(){return m(y)},s.callback=function(){dv(a,c,f)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){dv(a,c,f),typeof m!="function"&&(As===null?As=new Set([this]):As.add(this));var T=f.stack;this.componentDidCatch(f.value,{componentStack:T!==null?T:""})})}function pO(s,a,c,f,m){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=c.alternate,a!==null&&Aa(a,c,m,!0),c=vr.current,c!==null){switch(c.tag){case 31:case 13:return jr===null?Td():c.alternate===null&&Jt===0&&(Jt=3),c.flags&=-257,c.flags|=65536,c.lanes=m,f===ed?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([f]):a.add(f),Pm(s,f,m)),!1;case 22:return c.flags|=65536,f===ed?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([f]):c.add(f)),Pm(s,f,m)),!1}throw Error(r(435,c.tag))}return Pm(s,f,m),Td(),!1}if(dt)return a=vr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,f!==_p&&(s=Error(r(422),{cause:f}),Kl(Pr(s,c)))):(f!==_p&&(a=Error(r(423),{cause:f}),Kl(Pr(a,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,f=Pr(f,c),m=hm(s.stateNode,f,m),qp(s,m),Jt!==4&&(Jt=2)),!1;var y=Error(r(520),{cause:f});if(y=Pr(y,c),dc===null?dc=[y]:dc.push(y),Jt!==4&&(Jt=2),a===null)return!0;f=Pr(f,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=hm(c.stateNode,f,s),qp(c,s),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(As===null||!As.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=fv(m),hv(m,s,c,f),qp(c,m),!1}c=c.return}while(c!==null);return!1}var pm=Error(r(461)),pn=!1;function Dn(s,a,c,f){a.child=s===null?yw(a,null,c,f):Ro(a,s.child,c,f)}function pv(s,a,c,f,m){c=c.render;var y=a.ref;if("ref"in f){var S={};for(var T in f)T!=="ref"&&(S[T]=f[T])}else S=f;return Co(a),f=Wp(s,a,c,S,y,m),T=Xp(),s!==null&&!pn?(Zp(s,a,m),Ui(s,a,m)):(dt&&T&&Rp(a),a.flags|=1,Dn(s,a,f,m),a.child)}function mv(s,a,c,f,m){if(s===null){var y=c.type;return typeof y=="function"&&!Mp(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,gv(s,a,y,f,m)):(s=Yu(c.type,null,f,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Sm(s,m)){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:ql,c(S,f)&&s.ref===a.ref)return Ui(s,a,m)}return a.flags|=1,s=Di(y,f),s.ref=a.ref,s.return=a,a.child=s}function gv(s,a,c,f,m){if(s!==null){var y=s.memoizedProps;if(ql(y,f)&&s.ref===a.ref)if(pn=!1,a.pendingProps=f=y,Sm(s,m))(s.flags&131072)!==0&&(pn=!0);else return a.lanes=s.lanes,Ui(s,a,m)}return mm(s,a,c,f,m)}function yv(s,a,c,f){var m=f.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,s!==null){for(f=a.child=s.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;f=m&~y}else f=0,a.child=null;return bv(s,a,y,c,f)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ju(a,y!==null?y.cachePool:null),y!==null?vw(a,y):Vp(),Ew(a);else return f=a.lanes=536870912,bv(s,a,y!==null?y.baseLanes|c:c,c,f)}else y!==null?(Ju(a,y.cachePool),vw(a,y),ks(),a.memoizedState=null):(s!==null&&Ju(a,null),Vp(),ks());return Dn(s,a,m,c),a.child}function ic(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function bv(s,a,c,f,m){var y=Up();return y=y===null?null:{parent:fn._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},s!==null&&Ju(a,null),Vp(),Ew(a),s!==null&&Aa(s,a,f,!0),a.childLanes=m,null}function pd(s,a){return a=gd({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function wv(s,a,c){return Ro(a,s.child,null,c),s=pd(a,a.pendingProps),s.flags|=2,Er(a),a.memoizedState=null,s}function mO(s,a,c){var f=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(dt){if(f.mode==="hidden")return s=pd(a,f),a.lanes=536870912,ic(null,s);if(Gp(a),(s=Ut)?(s=NE(s,$r),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:gs!==null?{id:hi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},c=nw(s),c.return=a,a.child=c,Nn=a,Ut=null)):s=null,s===null)throw bs(a);return a.lanes=536870912,null}return pd(a,f)}var y=s.memoizedState;if(y!==null){var S=y.dehydrated;if(Gp(a),m)if(a.flags&256)a.flags&=-257,a=wv(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(pn||Aa(s,a,c,!1),m=(c&s.childLanes)!==0,pn||m){if(f=_t,f!==null&&(S=D(f,c),S!==0&&S!==y.retryLane))throw y.retryLane=S,So(s,S),or(f,s,S),pm;Td(),a=wv(s,a,c)}else s=y.treeContext,Ut=qr(S.nextSibling),Nn=a,dt=!0,ys=null,$r=!1,s!==null&&sw(a,s),a=pd(a,f),a.flags|=4096;return a}return s=Di(s.child,{mode:f.mode,children:f.children}),s.ref=a.ref,a.child=s,s.return=a,s}function md(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function mm(s,a,c,f,m){return Co(a),c=Wp(s,a,c,f,void 0,m),f=Xp(),s!==null&&!pn?(Zp(s,a,m),Ui(s,a,m)):(dt&&f&&Rp(a),a.flags|=1,Dn(s,a,c,m),a.child)}function vv(s,a,c,f,m,y){return Co(a),a.updateQueue=null,c=xw(a,f,c,m),Sw(s),f=Xp(),s!==null&&!pn?(Zp(s,a,y),Ui(s,a,y)):(dt&&f&&Rp(a),a.flags|=1,Dn(s,a,c,y),a.child)}function Ev(s,a,c,f,m){if(Co(a),a.stateNode===null){var y=ka,S=c.contextType;typeof S=="object"&&S!==null&&(y=_n(S)),y=new c(f,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=fm,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=f,y.state=a.memoizedState,y.refs={},$p(a),S=c.contextType,y.context=typeof S=="object"&&S!==null?_n(S):ka,y.state=a.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(dm(a,c,S,f),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&fm.enqueueReplaceState(y,y.state,null),Ql(a,f,y,m),Jl(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){y=a.stateNode;var T=a.memoizedProps,R=_o(c,T);y.props=R;var j=y.context,X=c.contextType;S=ka,typeof X=="object"&&X!==null&&(S=_n(X));var ne=c.getDerivedStateFromProps;X=typeof ne=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||j!==S)&&av(a,y,f,S),vs=!1;var q=a.memoizedState;y.state=q,Ql(a,f,y,m),Jl(),j=a.memoizedState,T||q!==j||vs?(typeof ne=="function"&&(dm(a,c,ne,f),j=a.memoizedState),(R=vs||ov(a,c,R,f,q,j,S))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=j),y.props=f,y.state=j,y.context=S,f=R):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{y=a.stateNode,jp(s,a),S=a.memoizedProps,X=_o(c,S),y.props=X,ne=a.pendingProps,q=y.context,j=c.contextType,R=ka,typeof j=="object"&&j!==null&&(R=_n(j)),T=c.getDerivedStateFromProps,(j=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ne||q!==R)&&av(a,y,f,R),vs=!1,q=a.memoizedState,y.state=q,Ql(a,f,y,m),Jl();var Y=a.memoizedState;S!==ne||q!==Y||vs||s!==null&&s.dependencies!==null&&Xu(s.dependencies)?(typeof T=="function"&&(dm(a,c,T,f),Y=a.memoizedState),(X=vs||ov(a,c,X,f,q,Y,R)||s!==null&&s.dependencies!==null&&Xu(s.dependencies))?(j||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,Y,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,Y,R)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&q===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&q===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Y),y.props=f,y.state=Y,y.context=R,f=X):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&q===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&q===s.memoizedState||(a.flags|=1024),f=!1)}return y=f,md(s,a),f=(a.flags&128)!==0,y||f?(y=a.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&f?(a.child=Ro(a,s.child,null,m),a.child=Ro(a,null,c,m)):Dn(s,a,c,m),a.memoizedState=y.state,s=a.child):s=Ui(s,a,m),s}function Sv(s,a,c,f){return ko(),a.flags|=256,Dn(s,a,c,f),a.child}var gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ym(s){return{baseLanes:s,cachePool:dw()}}function bm(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=xr),s}function xv(s,a,c){var f=a.pendingProps,m=!1,y=(a.flags&128)!==0,S;if((S=y)||(S=s!==null&&s.memoizedState===null?!1:(rn.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(dt){if(m?xs(a):ks(),(s=Ut)?(s=NE(s,$r),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:gs!==null?{id:hi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},c=nw(s),c.return=a,a.child=c,Nn=a,Ut=null)):s=null,s===null)throw bs(a);return eg(s)?a.lanes=32:a.lanes=536870912,null}var T=f.children;return f=f.fallback,m?(ks(),m=a.mode,T=gd({mode:"hidden",children:T},m),f=xo(f,m,c,null),T.return=a,f.return=a,T.sibling=f,a.child=T,f=a.child,f.memoizedState=ym(c),f.childLanes=bm(s,S,c),a.memoizedState=gm,ic(null,f)):(xs(a),wm(a,T))}var R=s.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(y)a.flags&256?(xs(a),a.flags&=-257,a=vm(s,a,c)):a.memoizedState!==null?(ks(),a.child=s.child,a.flags|=128,a=null):(ks(),T=f.fallback,m=a.mode,f=gd({mode:"visible",children:f.children},m),T=xo(T,m,c,null),T.flags|=2,f.return=a,T.return=a,f.sibling=T,a.child=f,Ro(a,s.child,null,c),f=a.child,f.memoizedState=ym(c),f.childLanes=bm(s,S,c),a.memoizedState=gm,a=ic(null,f));else if(xs(a),eg(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var j=S.dgst;S=j,f=Error(r(419)),f.stack="",f.digest=S,Kl({value:f,source:null,stack:null}),a=vm(s,a,c)}else if(pn||Aa(s,a,c,!1),S=(c&s.childLanes)!==0,pn||S){if(S=_t,S!==null&&(f=D(S,c),f!==0&&f!==R.retryLane))throw R.retryLane=f,So(s,f),or(S,s,f),pm;Qm(T)||Td(),a=vm(s,a,c)}else Qm(T)?(a.flags|=192,a.child=s.child,a=null):(s=R.treeContext,Ut=qr(T.nextSibling),Nn=a,dt=!0,ys=null,$r=!1,s!==null&&sw(a,s),a=wm(a,f.children),a.flags|=4096);return a}return m?(ks(),T=f.fallback,m=a.mode,R=s.child,j=R.sibling,f=Di(R,{mode:"hidden",children:f.children}),f.subtreeFlags=R.subtreeFlags&65011712,j!==null?T=Di(j,T):(T=xo(T,m,c,null),T.flags|=2),T.return=a,f.return=a,f.sibling=T,a.child=f,ic(null,f),f=a.child,T=s.child.memoizedState,T===null?T=ym(c):(m=T.cachePool,m!==null?(R=fn._currentValue,m=m.parent!==R?{parent:R,pool:R}:m):m=dw(),T={baseLanes:T.baseLanes|c,cachePool:m}),f.memoizedState=T,f.childLanes=bm(s,S,c),a.memoizedState=gm,ic(s.child,f)):(xs(a),c=s.child,s=c.sibling,c=Di(c,{mode:"visible",children:f.children}),c.return=a,c.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=c,a.memoizedState=null,c)}function wm(s,a){return a=gd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function gd(s,a){return s=wr(22,s,null,a),s.lanes=0,s}function vm(s,a,c){return Ro(a,s.child,null,c),s=wm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function kv(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),zp(s.return,a,c)}function Em(s,a,c,f,m,y){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m,treeForkCount:y}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=c,S.tailMode=m,S.treeForkCount=y)}function Tv(s,a,c){var f=a.pendingProps,m=f.revealOrder,y=f.tail;f=f.children;var S=rn.current,T=(S&2)!==0;if(T?(S=S&1|2,a.flags|=128):S&=1,le(rn,S),Dn(s,a,f,c),f=dt?Vl:0,!T&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&kv(s,c,a);else if(s.tag===19)kv(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&id(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),Em(a,!1,m,c,y,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&id(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Em(a,!0,c,null,y,f);break;case"together":Em(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function Ui(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Ms|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(Aa(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,c=Di(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Di(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Sm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Xu(s)))}function gO(s,a,c){switch(a.tag){case 3:Gt(a,a.stateNode.containerInfo),ws(a,fn,s.memoizedState.cache),ko();break;case 27:case 5:_r(a);break;case 4:Gt(a,a.stateNode.containerInfo);break;case 10:ws(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Gp(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(xs(a),a.flags|=128,null):(c&a.child.childLanes)!==0?xv(s,a,c):(xs(a),s=Ui(s,a,c),s!==null?s.sibling:null);xs(a);break;case 19:var m=(s.flags&128)!==0;if(f=(c&a.childLanes)!==0,f||(Aa(s,a,c,!1),f=(c&a.childLanes)!==0),m){if(f)return Tv(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(rn,rn.current),f)break;return null;case 22:return a.lanes=0,yv(s,a,c,a.pendingProps);case 24:ws(a,fn,s.memoizedState.cache)}return Ui(s,a,c)}function Cv(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)pn=!0;else{if(!Sm(s,c)&&(a.flags&128)===0)return pn=!1,gO(s,a,c);pn=(s.flags&131072)!==0}else pn=!1,dt&&(a.flags&1048576)!==0&&iw(a,Vl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(s=Ao(a.elementType),a.type=s,typeof s=="function")Mp(s)?(f=_o(s,f),a.tag=1,a=Ev(null,a,s,f,c)):(a.tag=0,a=mm(null,a,s,f,c));else{if(s!=null){var m=s.$$typeof;if(m===$){a.tag=11,a=pv(null,a,s,f,c);break e}else if(m===M){a.tag=14,a=mv(null,a,s,f,c);break e}}throw a=he(s)||s,Error(r(306,a,""))}}return a;case 0:return mm(s,a,a.type,a.pendingProps,c);case 1:return f=a.type,m=_o(f,a.pendingProps),Ev(s,a,f,m,c);case 3:e:{if(Gt(a,a.stateNode.containerInfo),s===null)throw Error(r(387));f=a.pendingProps;var y=a.memoizedState;m=y.element,jp(s,a),Ql(a,f,null,c);var S=a.memoizedState;if(f=S.cache,ws(a,fn,f),f!==y.cache&&Bp(a,[fn],c,!0),Jl(),f=S.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Sv(s,a,f,c);break e}else if(f!==m){m=Pr(Error(r(424)),a),Kl(m),a=Sv(s,a,f,c);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ut=qr(s.firstChild),Nn=a,dt=!0,ys=null,$r=!0,c=yw(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ko(),f===m){a=Ui(s,a,c);break e}Dn(s,a,f,c)}a=a.child}return a;case 26:return md(s,a),s===null?(c=IE(a.type,null,a.pendingProps,null))?a.memoizedState=c:dt||(c=a.type,s=a.pendingProps,f=_d(Ve.current).createElement(c),f[me]=a,f[be]=s,Ln(f,c,s),zt(f),a.stateNode=f):a.memoizedState=IE(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return _r(a),s===null&&dt&&(f=a.stateNode=LE(a.type,a.pendingProps,Ve.current),Nn=a,$r=!0,m=Ut,_s(a.type)?(tg=m,Ut=qr(f.firstChild)):Ut=m),Dn(s,a,a.pendingProps.children,c),md(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&dt&&((m=f=Ut)&&(f=KO(f,a.type,a.pendingProps,$r),f!==null?(a.stateNode=f,Nn=a,Ut=qr(f.firstChild),$r=!1,m=!0):m=!1),m||bs(a)),_r(a),m=a.type,y=a.pendingProps,S=s!==null?s.memoizedProps:null,f=y.children,Xm(m,y)?f=null:S!==null&&Xm(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=Wp(s,a,aO,null,null,c),wc._currentValue=m),md(s,a),Dn(s,a,f,c),a.child;case 6:return s===null&&dt&&((s=c=Ut)&&(c=GO(c,a.pendingProps,$r),c!==null?(a.stateNode=c,Nn=a,Ut=null,s=!0):s=!1),s||bs(a)),null;case 13:return xv(s,a,c);case 4:return Gt(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ro(a,null,f,c):Dn(s,a,f,c),a.child;case 11:return pv(s,a,a.type,a.pendingProps,c);case 7:return Dn(s,a,a.pendingProps,c),a.child;case 8:return Dn(s,a,a.pendingProps.children,c),a.child;case 12:return Dn(s,a,a.pendingProps.children,c),a.child;case 10:return f=a.pendingProps,ws(a,a.type,f.value),Dn(s,a,f.children,c),a.child;case 9:return m=a.type._context,f=a.pendingProps.children,Co(a),m=_n(m),f=f(m),a.flags|=1,Dn(s,a,f,c),a.child;case 14:return mv(s,a,a.type,a.pendingProps,c);case 15:return gv(s,a,a.type,a.pendingProps,c);case 19:return Tv(s,a,c);case 31:return mO(s,a,c);case 22:return yv(s,a,c,a.pendingProps);case 24:return Co(a),f=_n(fn),s===null?(m=Up(),m===null&&(m=_t,y=Ip(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),a.memoizedState={parent:f,cache:m},$p(a),ws(a,fn,m)):((s.lanes&c)!==0&&(jp(s,a),Ql(a,null,null,c),Jl()),m=s.memoizedState,y=a.memoizedState,m.parent!==f?(m={parent:f,cache:f},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ws(a,fn,f)):(f=y.cache,ws(a,fn,f),f!==m.cache&&Bp(a,[fn],c,!0))),Dn(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Hi(s){s.flags|=4}function xm(s,a,c,f,m){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Qv())s.flags|=8192;else throw Oo=ed,Hp}else s.flags&=-16777217}function Mv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!jE(a))if(Qv())s.flags|=8192;else throw Oo=ed,Hp}function yd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?$e():536870912,s.lanes|=a,Ha|=a)}function sc(s,a){if(!dt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Ht(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function yO(s,a,c){var f=a.pendingProps;switch(Np(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(a),null;case 1:return Ht(a),null;case 3:return c=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Bi(fn),jt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Ma(a)?Hi(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Dp())),Ht(a),null;case 26:var m=a.type,y=a.memoizedState;return s===null?(Hi(a),y!==null?(Ht(a),Mv(a,y)):(Ht(a),xm(a,m,null,f,c))):y?y!==s.memoizedState?(Hi(a),Ht(a),Mv(a,y)):(Ht(a),a.flags&=-16777217):(s=s.memoizedProps,s!==f&&Hi(a),Ht(a),xm(a,m,s,f,c)),null;case 27:if(cs(a),c=Ve.current,m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&Hi(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Ht(a),null}s=fe.current,Ma(a)?ow(a):(s=LE(m,f,c),a.stateNode=s,Hi(a))}return Ht(a),null;case 5:if(cs(a),m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&Hi(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Ht(a),null}if(y=fe.current,Ma(a))ow(a);else{var S=_d(Ve.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof f.is=="string"?S.createElement("select",{is:f.is}):S.createElement("select"),f.multiple?y.multiple=!0:f.size&&(y.size=f.size);break;default:y=typeof f.is=="string"?S.createElement(m,{is:f.is}):S.createElement(m)}}y[me]=a,y[be]=f;e:for(S=a.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===a)break e;for(;S.sibling===null;){if(S.return===null||S.return===a)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}a.stateNode=y;e:switch(Ln(y,m,f),m){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Hi(a)}}return Ht(a),xm(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&Hi(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(s=Ve.current,Ma(a)){if(s=a.stateNode,c=a.memoizedProps,f=null,m=Nn,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}s[me]=a,s=!!(s.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||xE(s.nodeValue,c)),s||bs(a,!0)}else s=_d(s).createTextNode(f),s[me]=a,a.stateNode=s}return Ht(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(f=Ma(a),c!==null){if(s===null){if(!f)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[me]=a}else ko(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ht(a),s=!1}else c=Dp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(Er(a),a):(Er(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Ht(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Ma(a),f!==null&&f.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[me]=a}else ko(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ht(a),m=!1}else m=Dp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Er(a),a):(Er(a),null)}return Er(a),(a.flags&128)!==0?(a.lanes=c,a):(c=f!==null,s=s!==null&&s.memoizedState!==null,c&&(f=a.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),yd(a,a.updateQueue),Ht(a),null);case 4:return jt(),s===null&&Vm(a.stateNode.containerInfo),Ht(a),null;case 10:return Bi(a.type),Ht(a),null;case 19:if(K(rn),f=a.memoizedState,f===null)return Ht(a),null;if(m=(a.flags&128)!==0,y=f.rendering,y===null)if(m)sc(f,!1);else{if(Jt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=id(s),y!==null){for(a.flags|=128,sc(f,!1),s=y.updateQueue,a.updateQueue=s,yd(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)tw(c,s),c=c.sibling;return le(rn,rn.current&1|2),dt&&Li(a,f.treeForkCount),a.child}s=s.sibling}f.tail!==null&&xt()>Sd&&(a.flags|=128,m=!0,sc(f,!1),a.lanes=4194304)}else{if(!m)if(s=id(y),s!==null){if(a.flags|=128,m=!0,s=s.updateQueue,a.updateQueue=s,yd(a,s),sc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!dt)return Ht(a),null}else 2*xt()-f.renderingStartTime>Sd&&c!==536870912&&(a.flags|=128,m=!0,sc(f,!1),a.lanes=4194304);f.isBackwards?(y.sibling=a.child,a.child=y):(s=f.last,s!==null?s.sibling=y:a.child=y,f.last=y)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=xt(),s.sibling=null,c=rn.current,le(rn,m?c&1|2:c&1),dt&&Li(a,f.treeForkCount),s):(Ht(a),null);case 22:case 23:return Er(a),Kp(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(c&536870912)!==0&&(a.flags&128)===0&&(Ht(a),a.subtreeFlags&6&&(a.flags|=8192)):Ht(a),c=a.updateQueue,c!==null&&yd(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048),s!==null&&K(Mo),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Bi(fn),Ht(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function bO(s,a){switch(Np(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Bi(fn),jt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return cs(a),null;case 31:if(a.memoizedState!==null){if(Er(a),a.alternate===null)throw Error(r(340));ko()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Er(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ko()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return K(rn),null;case 4:return jt(),null;case 10:return Bi(a.type),null;case 22:case 23:return Er(a),Kp(),s!==null&&K(Mo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Bi(fn),null;case 25:return null;default:return null}}function Av(s,a){switch(Np(a),a.tag){case 3:Bi(fn),jt();break;case 26:case 27:case 5:cs(a);break;case 4:jt();break;case 31:a.memoizedState!==null&&Er(a);break;case 13:Er(a);break;case 19:K(rn);break;case 10:Bi(a.type);break;case 22:case 23:Er(a),Kp(),s!==null&&K(Mo);break;case 24:Bi(fn)}}function oc(s,a){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&s)===s){f=void 0;var y=c.create,S=c.inst;f=y(),S.destroy=f}c=c.next}while(c!==m)}}catch(T){Ct(a,a.return,T)}}function Ts(s,a,c){try{var f=a.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&s)===s){var S=f.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,m=a;var R=c,j=T;try{j()}catch(X){Ct(m,R,X)}}}f=f.next}while(f!==y)}}catch(X){Ct(a,a.return,X)}}function Ov(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{ww(a,c)}catch(f){Ct(s,s.return,f)}}}function Rv(s,a,c){c.props=_o(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(f){Ct(s,a,f)}}function ac(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof c=="function"?s.refCleanup=c(f):c.current=f}}catch(m){Ct(s,a,m)}}function mi(s,a){var c=s.ref,f=s.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(m){Ct(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){Ct(s,a,m)}else c.current=null}function Nv(s){var a=s.type,c=s.memoizedProps,f=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(m){Ct(s,s.return,m)}}function km(s,a,c){try{var f=s.stateNode;HO(f,s.type,c,a),f[be]=a}catch(m){Ct(s,s.return,m)}}function _v(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&_s(s.type)||s.tag===4}function Tm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||_v(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&_s(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Cm(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=de));else if(f!==4&&(f===27&&_s(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(Cm(s,a,c),s=s.sibling;s!==null;)Cm(s,a,c),s=s.sibling}function bd(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(f===27&&_s(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(bd(s,a,c),s=s.sibling;s!==null;)bd(s,a,c),s=s.sibling}function Dv(s){var a=s.stateNode,c=s.memoizedProps;try{for(var f=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Ln(a,f,c),a[me]=s,a[be]=c}catch(y){Ct(s,s.return,y)}}var $i=!1,mn=!1,Mm=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,xn=null;function wO(s,a){if(s=s.containerInfo,Ym=Ud,s=K0(s),vp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var S=0,T=-1,R=-1,j=0,X=0,ne=s,q=null;t:for(;;){for(var Y;ne!==c||m!==0&&ne.nodeType!==3||(T=S+m),ne!==y||f!==0&&ne.nodeType!==3||(R=S+f),ne.nodeType===3&&(S+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)q=ne,ne=Y;for(;;){if(ne===s)break t;if(q===c&&++j===m&&(T=S),q===y&&++X===f&&(R=S),(Y=ne.nextSibling)!==null)break;ne=q,q=ne.parentNode}ne=Y}c=T===-1||R===-1?null:{start:T,end:R}}else c=null}c=c||{start:0,end:0}}else c=null;for(Wm={focusedElem:s,selectionRange:c},Ud=!1,xn=a;xn!==null;)if(a=xn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,xn=s;else for(;xn!==null;){switch(a=xn,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)m=s[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,c=a,m=y.memoizedProps,y=y.memoizedState,f=c.stateNode;try{var Se=_o(c.type,m);s=f.getSnapshotBeforeUpdate(Se,y),f.__reactInternalSnapshotBeforeUpdate=s}catch(je){Ct(c,c.return,je)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)Jm(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Jm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,xn=s;break}xn=a.return}}function zv(s,a,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:qi(s,c),f&4&&oc(5,c);break;case 1:if(qi(s,c),f&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(S){Ct(c,c.return,S)}else{var m=_o(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){Ct(c,c.return,S)}}f&64&&Ov(c),f&512&&ac(c,c.return);break;case 3:if(qi(s,c),f&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{ww(s,a)}catch(S){Ct(c,c.return,S)}}break;case 27:a===null&&f&4&&Dv(c);case 26:case 5:qi(s,c),a===null&&f&4&&Nv(c),f&512&&ac(c,c.return);break;case 12:qi(s,c);break;case 31:qi(s,c),f&4&&Pv(s,c);break;case 13:qi(s,c),f&4&&Uv(s,c),f&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=AO.bind(null,c),YO(s,c))));break;case 22:if(f=c.memoizedState!==null||$i,!f){a=a!==null&&a.memoizedState!==null||mn,m=$i;var y=mn;$i=f,(mn=a)&&!y?Fi(s,c,(c.subtreeFlags&8772)!==0):qi(s,c),$i=m,mn=y}break;case 30:break;default:qi(s,c)}}function Bv(s){var a=s.alternate;a!==null&&(s.alternate=null,Bv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&qt(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ft=null,nr=!1;function ji(s,a,c){for(c=c.child;c!==null;)Iv(s,a,c),c=c.sibling}function Iv(s,a,c){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Oi,c)}catch{}switch(c.tag){case 26:mn||mi(c,a),ji(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:mn||mi(c,a);var f=Ft,m=nr;_s(c.type)&&(Ft=c.stateNode,nr=!1),ji(s,a,c),gc(c.stateNode),Ft=f,nr=m;break;case 5:mn||mi(c,a);case 6:if(f=Ft,m=nr,Ft=null,ji(s,a,c),Ft=f,nr=m,Ft!==null)if(nr)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(c.stateNode)}catch(y){Ct(c,a,y)}else try{Ft.removeChild(c.stateNode)}catch(y){Ct(c,a,y)}break;case 18:Ft!==null&&(nr?(s=Ft,OE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Ya(s)):OE(Ft,c.stateNode));break;case 4:f=Ft,m=nr,Ft=c.stateNode.containerInfo,nr=!0,ji(s,a,c),Ft=f,nr=m;break;case 0:case 11:case 14:case 15:Ts(2,c,a),mn||Ts(4,c,a),ji(s,a,c);break;case 1:mn||(mi(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"&&Rv(c,a,f)),ji(s,a,c);break;case 21:ji(s,a,c);break;case 22:mn=(f=mn)||c.memoizedState!==null,ji(s,a,c),mn=f;break;default:ji(s,a,c)}}function Pv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ya(s)}catch(c){Ct(a,a.return,c)}}}function Uv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ya(s)}catch(c){Ct(a,a.return,c)}}function vO(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Lv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Lv),a;default:throw Error(r(435,s.tag))}}function wd(s,a){var c=vO(s);a.forEach(function(f){if(!c.has(f)){c.add(f);var m=OO.bind(null,s,f);f.then(m,m)}})}function rr(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f],y=s,S=a,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(_s(T.type)){Ft=T.stateNode,nr=!1;break e}break;case 5:Ft=T.stateNode,nr=!1;break e;case 3:case 4:Ft=T.stateNode.containerInfo,nr=!0;break e}T=T.return}if(Ft===null)throw Error(r(160));Iv(y,S,m),Ft=null,nr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Hv(a,s),a=a.sibling}var ii=null;function Hv(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:rr(a,s),ir(s),f&4&&(Ts(3,s,s.return),oc(3,s),Ts(5,s,s.return));break;case 1:rr(a,s),ir(s),f&512&&(mn||c===null||mi(c,c.return)),f&64&&$i&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var m=ii;if(rr(a,s),ir(s),f&512&&(mn||c===null||mi(c,c.return)),f&4){var y=c!==null?c.memoizedState:null;if(f=s.memoizedState,c===null)if(f===null)if(s.stateNode===null){e:{f=s.type,c=s.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Pt]||y[me]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(f),m.head.insertBefore(y,m.querySelector("head > title"))),Ln(y,f,c),y[me]=s,zt(y),f=y;break e;case"link":var S=HE("link","href",m).get(f+(c.href||""));if(S){for(var T=0;T<S.length;T++)if(y=S[T],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(T,1);break t}}y=m.createElement(f),Ln(y,f,c),m.head.appendChild(y);break;case"meta":if(S=HE("meta","content",m).get(f+(c.content||""))){for(T=0;T<S.length;T++)if(y=S[T],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(T,1);break t}}y=m.createElement(f),Ln(y,f,c),m.head.appendChild(y);break;default:throw Error(r(468,f))}y[me]=s,zt(y),f=y}s.stateNode=f}else $E(m,s.type,s.stateNode);else s.stateNode=UE(m,f,s.memoizedProps);else y!==f?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,f===null?$E(m,s.type,s.stateNode):UE(m,f,s.memoizedProps)):f===null&&s.stateNode!==null&&km(s,s.memoizedProps,c.memoizedProps)}break;case 27:rr(a,s),ir(s),f&512&&(mn||c===null||mi(c,c.return)),c!==null&&f&4&&km(s,s.memoizedProps,c.memoizedProps);break;case 5:if(rr(a,s),ir(s),f&512&&(mn||c===null||mi(c,c.return)),s.flags&32){m=s.stateNode;try{qe(m,"")}catch(Se){Ct(s,s.return,Se)}}f&4&&s.stateNode!=null&&(m=s.memoizedProps,km(s,m,c!==null?c.memoizedProps:m)),f&1024&&(Mm=!0);break;case 6:if(rr(a,s),ir(s),f&4){if(s.stateNode===null)throw Error(r(162));f=s.memoizedProps,c=s.stateNode;try{c.nodeValue=f}catch(Se){Ct(s,s.return,Se)}}break;case 3:if(zd=null,m=ii,ii=Dd(a.containerInfo),rr(a,s),ii=m,ir(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ya(a.containerInfo)}catch(Se){Ct(s,s.return,Se)}Mm&&(Mm=!1,$v(s));break;case 4:f=ii,ii=Dd(s.stateNode.containerInfo),rr(a,s),ir(s),ii=f;break;case 12:rr(a,s),ir(s);break;case 31:rr(a,s),ir(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,wd(s,f)));break;case 13:rr(a,s),ir(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ed=xt()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,wd(s,f)));break;case 22:m=s.memoizedState!==null;var R=c!==null&&c.memoizedState!==null,j=$i,X=mn;if($i=j||m,mn=X||R,rr(a,s),mn=X,$i=j,ir(s),f&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||R||$i||mn||Do(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){R=c=a;try{if(y=R.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=R.stateNode;var ne=R.memoizedProps.style,q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(Se){Ct(R,R.return,Se)}}}else if(a.tag===6){if(c===null){R=a;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch(Se){Ct(R,R.return,Se)}}}else if(a.tag===18){if(c===null){R=a;try{var Y=R.stateNode;m?RE(Y,!0):RE(R.stateNode,!1)}catch(Se){Ct(R,R.return,Se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,wd(s,c))));break;case 19:rr(a,s),ir(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,wd(s,f)));break;case 30:break;case 21:break;default:rr(a,s),ir(s)}}function ir(s){var a=s.flags;if(a&2){try{for(var c,f=s.return;f!==null;){if(_v(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var m=c.stateNode,y=Tm(s);bd(s,y,m);break;case 5:var S=c.stateNode;c.flags&32&&(qe(S,""),c.flags&=-33);var T=Tm(s);bd(s,T,S);break;case 3:case 4:var R=c.stateNode.containerInfo,j=Tm(s);Cm(s,j,R);break;default:throw Error(r(161))}}catch(X){Ct(s,s.return,X)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function $v(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;$v(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function qi(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)zv(s,a.alternate,a),a=a.sibling}function Do(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ts(4,a,a.return),Do(a);break;case 1:mi(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Rv(a,a.return,c),Do(a);break;case 27:gc(a.stateNode);case 26:case 5:mi(a,a.return),Do(a);break;case 22:a.memoizedState===null&&Do(a);break;case 30:Do(a);break;default:Do(a)}s=s.sibling}}function Fi(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,m=s,y=a,S=y.flags;switch(y.tag){case 0:case 11:case 15:Fi(m,y,c),oc(4,y);break;case 1:if(Fi(m,y,c),f=y,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(j){Ct(f,f.return,j)}if(f=y,m=f.updateQueue,m!==null){var T=f.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)bw(R[m],T)}catch(j){Ct(f,f.return,j)}}c&&S&64&&Ov(y),ac(y,y.return);break;case 27:Dv(y);case 26:case 5:Fi(m,y,c),c&&f===null&&S&4&&Nv(y),ac(y,y.return);break;case 12:Fi(m,y,c);break;case 31:Fi(m,y,c),c&&S&4&&Pv(m,y);break;case 13:Fi(m,y,c),c&&S&4&&Uv(m,y);break;case 22:y.memoizedState===null&&Fi(m,y,c),ac(y,y.return);break;case 30:break;default:Fi(m,y,c)}a=a.sibling}}function Am(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Gl(c))}function Om(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Gl(s))}function si(s,a,c,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)jv(s,a,c,f),a=a.sibling}function jv(s,a,c,f){var m=a.flags;switch(a.tag){case 0:case 11:case 15:si(s,a,c,f),m&2048&&oc(9,a);break;case 1:si(s,a,c,f);break;case 3:si(s,a,c,f),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Gl(s)));break;case 12:if(m&2048){si(s,a,c,f),s=a.stateNode;try{var y=a.memoizedProps,S=y.id,T=y.onPostCommit;typeof T=="function"&&T(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(R){Ct(a,a.return,R)}}else si(s,a,c,f);break;case 31:si(s,a,c,f);break;case 13:si(s,a,c,f);break;case 23:break;case 22:y=a.stateNode,S=a.alternate,a.memoizedState!==null?y._visibility&2?si(s,a,c,f):lc(s,a):y._visibility&2?si(s,a,c,f):(y._visibility|=2,Ia(s,a,c,f,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Am(S,a);break;case 24:si(s,a,c,f),m&2048&&Om(a.alternate,a);break;default:si(s,a,c,f)}}function Ia(s,a,c,f,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,S=a,T=c,R=f,j=S.flags;switch(S.tag){case 0:case 11:case 15:Ia(y,S,T,R,m),oc(8,S);break;case 23:break;case 22:var X=S.stateNode;S.memoizedState!==null?X._visibility&2?Ia(y,S,T,R,m):lc(y,S):(X._visibility|=2,Ia(y,S,T,R,m)),m&&j&2048&&Am(S.alternate,S);break;case 24:Ia(y,S,T,R,m),m&&j&2048&&Om(S.alternate,S);break;default:Ia(y,S,T,R,m)}a=a.sibling}}function lc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,f=a,m=f.flags;switch(f.tag){case 22:lc(c,f),m&2048&&Am(f.alternate,f);break;case 24:lc(c,f),m&2048&&Om(f.alternate,f);break;default:lc(c,f)}a=a.sibling}}var cc=8192;function Pa(s,a,c){if(s.subtreeFlags&cc)for(s=s.child;s!==null;)qv(s,a,c),s=s.sibling}function qv(s,a,c){switch(s.tag){case 26:Pa(s,a,c),s.flags&cc&&s.memoizedState!==null&&oR(c,ii,s.memoizedState,s.memoizedProps);break;case 5:Pa(s,a,c);break;case 3:case 4:var f=ii;ii=Dd(s.stateNode.containerInfo),Pa(s,a,c),ii=f;break;case 22:s.memoizedState===null&&(f=s.alternate,f!==null&&f.memoizedState!==null?(f=cc,cc=16777216,Pa(s,a,c),cc=f):Pa(s,a,c));break;default:Pa(s,a,c)}}function Fv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function uc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];xn=f,Kv(f,s)}Fv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vv(s),s=s.sibling}function Vv(s){switch(s.tag){case 0:case 11:case 15:uc(s),s.flags&2048&&Ts(9,s,s.return);break;case 3:uc(s);break;case 12:uc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,vd(s)):uc(s);break;default:uc(s)}}function vd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];xn=f,Kv(f,s)}Fv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ts(8,a,a.return),vd(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,vd(a));break;default:vd(a)}s=s.sibling}}function Kv(s,a){for(;xn!==null;){var c=xn;switch(c.tag){case 0:case 11:case 15:Ts(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Gl(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,xn=f;else e:for(c=s;xn!==null;){f=xn;var m=f.sibling,y=f.return;if(Bv(f),f===c){xn=null;break e}if(m!==null){m.return=y,xn=m;break e}xn=y}}}var EO={getCacheForType:function(s){var a=_n(fn),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return _n(fn).controller.signal}},SO=typeof WeakMap=="function"?WeakMap:Map,yt=0,_t=null,ot=null,ct=0,Tt=0,Sr=null,Cs=!1,Ua=!1,Rm=!1,Vi=0,Jt=0,Ms=0,Lo=0,Nm=0,xr=0,Ha=0,dc=null,sr=null,_m=!1,Ed=0,Gv=0,Sd=1/0,xd=null,As=null,wn=0,Os=null,$a=null,Ki=0,Dm=0,Lm=null,Yv=null,fc=0,zm=null;function kr(){return(yt&2)!==0&&ct!==0?ct&-ct:B.T!==null?$m():ue()}function Wv(){if(xr===0)if((ct&536870912)===0||dt){var s=Ri;Ri<<=1,(Ri&3932160)===0&&(Ri=262144),xr=s}else xr=536870912;return s=vr.current,s!==null&&(s.flags|=32),xr}function or(s,a,c){(s===_t&&(Tt===2||Tt===9)||s.cancelPendingCommit!==null)&&(ja(s,0),Rs(s,ct,xr,!1)),Et(s,c),((yt&2)===0||s!==_t)&&(s===_t&&((yt&2)===0&&(Lo|=c),Jt===4&&Rs(s,ct,xr,!1)),gi(s))}function Xv(s,a,c){if((yt&6)!==0)throw Error(r(327));var f=!c&&(a&127)===0&&(a&s.expiredLanes)===0||J(s,a),m=f?TO(s,a):Im(s,a,!0),y=f;do{if(m===0){Ua&&!f&&Rs(s,a,0,!1);break}else{if(c=s.current.alternate,y&&!xO(c)){m=Im(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var T=s;m=dc;var R=T.current.memoizedState.isDehydrated;if(R&&(ja(T,S).flags|=256),S=Im(T,S,!1),S!==2){if(Rm&&!R){T.errorRecoveryDisabledLanes|=y,Lo|=y,m=4;break e}y=sr,sr=m,y!==null&&(sr===null?sr=y:sr.push.apply(sr,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){ja(s,0),Rs(s,a,0,!0);break}e:{switch(f=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Rs(f,a,xr,!Cs);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=Ed+300-xt(),10<m)){if(Rs(f,a,xr,!Cs),N(f,0,!0)!==0)break e;Ki=a,f.timeoutHandle=ME(Zv.bind(null,f,c,sr,xd,_m,a,xr,Lo,Ha,Cs,y,"Throttled",-0,0),m);break e}Zv(f,c,sr,xd,_m,a,xr,Lo,Ha,Cs,y,null,-0,0)}}break}while(!0);gi(s)}function Zv(s,a,c,f,m,y,S,T,R,j,X,ne,q,Y){if(s.timeoutHandle=-1,ne=a.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:de},qv(a,y,ne);var Se=(y&62914560)===y?Ed-xt():(y&4194048)===y?Gv-xt():0;if(Se=aR(ne,Se),Se!==null){Ki=y,s.cancelPendingCommit=Se(sE.bind(null,s,a,y,c,f,m,S,T,R,X,ne,null,q,Y)),Rs(s,y,S,!j);return}}sE(s,a,y,c,f,m,S,T,R)}function xO(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var m=c[f],y=m.getSnapshot;m=m.value;try{if(!br(y(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Rs(s,a,c,f){a&=~Nm,a&=~Lo,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var m=a;0<m;){var y=31-vn(m),S=1<<y;f[y]=-1,m&=~S}c!==0&&we(s,c,a)}function kd(){return(yt&6)===0?(hc(0),!1):!0}function Bm(){if(ot!==null){if(Tt===0)var s=ot.return;else s=ot,zi=To=null,Jp(s),_a=null,Wl=0,s=ot;for(;s!==null;)Av(s.alternate,s),s=s.return;ot=null}}function ja(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,qO(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Ki=0,Bm(),_t=s,ot=c=Di(s.current,null),ct=a,Tt=0,Sr=null,Cs=!1,Ua=J(s,a),Rm=!1,Ha=xr=Nm=Lo=Ms=Jt=0,sr=dc=null,_m=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var m=31-vn(f),y=1<<m;a|=s[m],f&=~y}return Vi=a,Vu(),c}function Jv(s,a){Xe=null,B.H=rc,a===Na||a===Qu?(a=pw(),Tt=3):a===Hp?(a=pw(),Tt=4):Tt=a===pm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Sr=a,ot===null&&(Jt=1,hd(s,Pr(a,s.current)))}function Qv(){var s=vr.current;return s===null?!0:(ct&4194048)===ct?jr===null:(ct&62914560)===ct||(ct&536870912)!==0?s===jr:!1}function eE(){var s=B.H;return B.H=rc,s===null?rc:s}function tE(){var s=B.A;return B.A=EO,s}function Td(){Jt=4,Cs||(ct&4194048)!==ct&&vr.current!==null||(Ua=!0),(Ms&134217727)===0&&(Lo&134217727)===0||_t===null||Rs(_t,ct,xr,!1)}function Im(s,a,c){var f=yt;yt|=2;var m=eE(),y=tE();(_t!==s||ct!==a)&&(xd=null,ja(s,a)),a=!1;var S=Jt;e:do try{if(Tt!==0&&ot!==null){var T=ot,R=Sr;switch(Tt){case 8:Bm(),S=6;break e;case 3:case 2:case 9:case 6:vr.current===null&&(a=!0);var j=Tt;if(Tt=0,Sr=null,qa(s,T,R,j),c&&Ua){S=0;break e}break;default:j=Tt,Tt=0,Sr=null,qa(s,T,R,j)}}kO(),S=Jt;break}catch(X){Jv(s,X)}while(!0);return a&&s.shellSuspendCounter++,zi=To=null,yt=f,B.H=m,B.A=y,ot===null&&(_t=null,ct=0,Vu()),S}function kO(){for(;ot!==null;)nE(ot)}function TO(s,a){var c=yt;yt|=2;var f=eE(),m=tE();_t!==s||ct!==a?(xd=null,Sd=xt()+500,ja(s,a)):Ua=J(s,a);e:do try{if(Tt!==0&&ot!==null){a=ot;var y=Sr;t:switch(Tt){case 1:Tt=0,Sr=null,qa(s,a,y,1);break;case 2:case 9:if(fw(y)){Tt=0,Sr=null,rE(a);break}a=function(){Tt!==2&&Tt!==9||_t!==s||(Tt=7),gi(s)},y.then(a,a);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:fw(y)?(Tt=0,Sr=null,rE(a)):(Tt=0,Sr=null,qa(s,a,y,7));break;case 5:var S=null;switch(ot.tag){case 26:S=ot.memoizedState;case 5:case 27:var T=ot;if(S?jE(S):T.stateNode.complete){Tt=0,Sr=null;var R=T.sibling;if(R!==null)ot=R;else{var j=T.return;j!==null?(ot=j,Cd(j)):ot=null}break t}}Tt=0,Sr=null,qa(s,a,y,5);break;case 6:Tt=0,Sr=null,qa(s,a,y,6);break;case 8:Bm(),Jt=6;break e;default:throw Error(r(462))}}CO();break}catch(X){Jv(s,X)}while(!0);return zi=To=null,B.H=f,B.A=m,yt=c,ot!==null?0:(_t=null,ct=0,Vu(),Jt)}function CO(){for(;ot!==null&&!Rl();)nE(ot)}function nE(s){var a=Cv(s.alternate,s,Vi);s.memoizedProps=s.pendingProps,a===null?Cd(s):ot=a}function rE(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=vv(c,a,a.pendingProps,a.type,void 0,ct);break;case 11:a=vv(c,a,a.pendingProps,a.type.render,a.ref,ct);break;case 5:Jp(a);default:Av(c,a),a=ot=tw(a,Vi),a=Cv(c,a,Vi)}s.memoizedProps=s.pendingProps,a===null?Cd(s):ot=a}function qa(s,a,c,f){zi=To=null,Jp(a),_a=null,Wl=0;var m=a.return;try{if(pO(s,m,a,c,ct)){Jt=1,hd(s,Pr(c,s.current)),ot=null;return}}catch(y){if(m!==null)throw ot=m,y;Jt=1,hd(s,Pr(c,s.current)),ot=null;return}a.flags&32768?(dt||f===1?s=!0:Ua||(ct&536870912)!==0?s=!1:(Cs=s=!0,(f===2||f===9||f===3||f===6)&&(f=vr.current,f!==null&&f.tag===13&&(f.flags|=16384))),iE(a,s)):Cd(a)}function Cd(s){var a=s;do{if((a.flags&32768)!==0){iE(a,Cs);return}s=a.return;var c=yO(a.alternate,a,Vi);if(c!==null){ot=c;return}if(a=a.sibling,a!==null){ot=a;return}ot=a=s}while(a!==null);Jt===0&&(Jt=5)}function iE(s,a){do{var c=bO(s.alternate,s);if(c!==null){c.flags&=32767,ot=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){ot=s;return}ot=s=c}while(s!==null);Jt=6,ot=null}function sE(s,a,c,f,m,y,S,T,R){s.cancelPendingCommit=null;do Md();while(wn!==0);if((yt&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=Tp,ke(s,c,y,S,T,R),s===_t&&(ot=_t=null,ct=0),$a=a,Os=s,Ki=c,Dm=y,Lm=m,Yv=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,RO(On,function(){return uE(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,m=ie.p,ie.p=2,S=yt,yt|=4;try{wO(s,a,c)}finally{yt=S,ie.p=m,B.T=f}}wn=1,oE(),aE(),lE()}}function oE(){if(wn===1){wn=0;var s=Os,a=$a,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var f=ie.p;ie.p=2;var m=yt;yt|=4;try{Hv(a,s);var y=Wm,S=K0(s.containerInfo),T=y.focusedElem,R=y.selectionRange;if(S!==T&&T&&T.ownerDocument&&V0(T.ownerDocument.documentElement,T)){if(R!==null&&vp(T)){var j=R.start,X=R.end;if(X===void 0&&(X=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(X,T.value.length);else{var ne=T.ownerDocument||document,q=ne&&ne.defaultView||window;if(q.getSelection){var Y=q.getSelection(),Se=T.textContent.length,je=Math.min(R.start,Se),Nt=R.end===void 0?je:Math.min(R.end,Se);!Y.extend&&je>Nt&&(S=Nt,Nt=je,je=S);var I=F0(T,je),_=F0(T,Nt);if(I&&_&&(Y.rangeCount!==1||Y.anchorNode!==I.node||Y.anchorOffset!==I.offset||Y.focusNode!==_.node||Y.focusOffset!==_.offset)){var H=ne.createRange();H.setStart(I.node,I.offset),Y.removeAllRanges(),je>Nt?(Y.addRange(H),Y.extend(_.node,_.offset)):(H.setEnd(_.node,_.offset),Y.addRange(H))}}}}for(ne=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var Q=ne[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ud=!!Ym,Wm=Ym=null}finally{yt=m,ie.p=f,B.T=c}}s.current=a,wn=2}}function aE(){if(wn===2){wn=0;var s=Os,a=$a,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var f=ie.p;ie.p=2;var m=yt;yt|=4;try{zv(s,a.alternate,a)}finally{yt=m,ie.p=f,B.T=c}}wn=3}}function lE(){if(wn===4||wn===3){wn=0,ma();var s=Os,a=$a,c=Ki,f=Yv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?wn=5:(wn=0,$a=Os=null,cE(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(As=null),re(c),a=a.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Oi,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=B.T,m=ie.p,ie.p=2,B.T=null;try{for(var y=s.onRecoverableError,S=0;S<f.length;S++){var T=f[S];y(T.value,{componentStack:T.stack})}}finally{B.T=a,ie.p=m}}(Ki&3)!==0&&Md(),gi(s),m=s.pendingLanes,(c&261930)!==0&&(m&42)!==0?s===zm?fc++:(fc=0,zm=s):fc=0,hc(0)}}function cE(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Gl(a)))}function Md(){return oE(),aE(),lE(),uE()}function uE(){if(wn!==5)return!1;var s=Os,a=Dm;Dm=0;var c=re(Ki),f=B.T,m=ie.p;try{ie.p=32>c?32:c,B.T=null,c=Lm,Lm=null;var y=Os,S=Ki;if(wn=0,$a=Os=null,Ki=0,(yt&6)!==0)throw Error(r(331));var T=yt;if(yt|=4,Vv(y.current),jv(y,y.current,S,c),yt=T,hc(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Oi,y)}catch{}return!0}finally{ie.p=m,B.T=f,cE(s,a)}}function dE(s,a,c){a=Pr(c,a),a=hm(s.stateNode,a,2),s=Ss(s,a,2),s!==null&&(Et(s,2),gi(s))}function Ct(s,a,c){if(s.tag===3)dE(s,s,c);else for(;a!==null;){if(a.tag===3){dE(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(As===null||!As.has(f))){s=Pr(c,s),c=fv(2),f=Ss(a,c,2),f!==null&&(hv(c,f,a,s),Et(f,2),gi(f));break}}a=a.return}}function Pm(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new SO;var m=new Set;f.set(a,m)}else m=f.get(a),m===void 0&&(m=new Set,f.set(a,m));m.has(c)||(Rm=!0,m.add(c),s=MO.bind(null,s,a,c),a.then(s,s))}function MO(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,_t===s&&(ct&c)===c&&(Jt===4||Jt===3&&(ct&62914560)===ct&&300>xt()-Ed?(yt&2)===0&&ja(s,0):Nm|=c,Ha===ct&&(Ha=0)),gi(s)}function fE(s,a){a===0&&(a=$e()),s=So(s,a),s!==null&&(Et(s,a),gi(s))}function AO(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),fE(s,c)}function OO(s,a){var c=0;switch(s.tag){case 31:case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),fE(s,c)}function RO(s,a){return ds(s,a)}var Ad=null,Fa=null,Um=!1,Od=!1,Hm=!1,Ns=0;function gi(s){s!==Fa&&s.next===null&&(Fa===null?Ad=Fa=s:Fa=Fa.next=s),Od=!0,Um||(Um=!0,_O())}function hc(s,a){if(!Hm&&Od){Hm=!0;do for(var c=!1,f=Ad;f!==null;){if(s!==0){var m=f.pendingLanes;if(m===0)var y=0;else{var S=f.suspendedLanes,T=f.pingedLanes;y=(1<<31-vn(42|s)+1)-1,y&=m&~(S&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,gE(f,y))}else y=ct,y=N(f,f===_t?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||J(f,y)||(c=!0,gE(f,y));f=f.next}while(c);Hm=!1}}function NO(){hE()}function hE(){Od=Um=!1;var s=0;Ns!==0&&jO()&&(s=Ns);for(var a=xt(),c=null,f=Ad;f!==null;){var m=f.next,y=pE(f,a);y===0?(f.next=null,c===null?Ad=m:c.next=m,m===null&&(Fa=c)):(c=f,(s!==0||(y&3)!==0)&&(Od=!0)),f=m}wn!==0&&wn!==5||hc(s),Ns!==0&&(Ns=0)}function pE(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var S=31-vn(y),T=1<<S,R=m[S];R===-1?((T&c)===0||(T&f)!==0)&&(m[S]=pe(T,a)):R<=a&&(s.expiredLanes|=T),y&=~T}if(a=_t,c=ct,c=N(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,c===0||s===a&&(Tt===2||Tt===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&fo(f),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||J(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(f!==null&&fo(f),re(c)){case 2:case 8:c=ti;break;case 32:c=On;break;case 268435456:c=ho;break;default:c=On}return f=mE.bind(null,s),c=ds(c,f),s.callbackPriority=a,s.callbackNode=c,a}return f!==null&&f!==null&&fo(f),s.callbackPriority=2,s.callbackNode=null,2}function mE(s,a){if(wn!==0&&wn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Md()&&s.callbackNode!==c)return null;var f=ct;return f=N(s,s===_t?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(Xv(s,f,a),pE(s,xt()),s.callbackNode!=null&&s.callbackNode===c?mE.bind(null,s):null)}function gE(s,a){if(Md())return null;Xv(s,a,!0)}function _O(){FO(function(){(yt&6)!==0?ds(Lr,NO):hE()})}function $m(){if(Ns===0){var s=Oa;s===0&&(s=zr,zr<<=1,(zr&261888)===0&&(zr=256)),Ns=s}return Ns}function yE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ps(""+s)}function bE(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function DO(s,a,c,f,m){if(a==="submit"&&c&&c.stateNode===m){var y=yE((m[be]||null).action),S=f.submitter;S&&(a=(a=S[be]||null)?yE(a.formAction):S.getAttribute("formAction"),a!==null&&(y=a,S=null));var T=new $u("action","action",null,f,m);s.push({event:T,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ns!==0){var R=S?bE(m,S):new FormData(m);am(c,{pending:!0,data:R,method:m.method,action:y},null,R)}}else typeof y=="function"&&(T.preventDefault(),R=S?bE(m,S):new FormData(m),am(c,{pending:!0,data:R,method:m.method,action:y},y,R))},currentTarget:m}]})}}for(var jm=0;jm<kp.length;jm++){var qm=kp[jm],LO=qm.toLowerCase(),zO=qm[0].toUpperCase()+qm.slice(1);ri(LO,"on"+zO)}ri(W0,"onAnimationEnd"),ri(X0,"onAnimationIteration"),ri(Z0,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Z2,"onTransitionRun"),ri(J2,"onTransitionStart"),ri(Q2,"onTransitionCancel"),ri(J0,"onTransitionEnd"),oe("onMouseEnter",["mouseout","mouseover"]),oe("onMouseLeave",["mouseout","mouseover"]),oe("onPointerEnter",["pointerout","pointerover"]),oe("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function wE(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],m=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var S=f.length-1;0<=S;S--){var T=f[S],R=T.instance,j=T.currentTarget;if(T=T.listener,R!==y&&m.isPropagationStopped())break e;y=T,m.currentTarget=j;try{y(m)}catch(X){Fu(X)}m.currentTarget=null,y=R}else for(S=0;S<f.length;S++){if(T=f[S],R=T.instance,j=T.currentTarget,T=T.listener,R!==y&&m.isPropagationStopped())break e;y=T,m.currentTarget=j;try{y(m)}catch(X){Fu(X)}m.currentTarget=null,y=R}}}}function at(s,a){var c=a[He];c===void 0&&(c=a[He]=new Set);var f=s+"__bubble";c.has(f)||(vE(a,s,2,!1),c.add(f))}function Fm(s,a,c){var f=0;a&&(f|=4),vE(c,s,f,a)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function Vm(s){if(!s[Rd]){s[Rd]=!0,gr.forEach(function(c){c!=="selectionchange"&&(BO.has(c)||Fm(c,!1,s),Fm(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Rd]||(a[Rd]=!0,Fm("selectionchange",!1,a))}}function vE(s,a,c,f){switch(WE(a)){case 2:var m=uR;break;case 8:m=dR;break;default:m=og}c=m.bind(null,a,c,s),m=void 0,!dp||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function Km(s,a,c,f,m){var y=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var T=f.stateNode.containerInfo;if(T===m)break;if(S===4)for(S=f.return;S!==null;){var R=S.tag;if((R===3||R===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;T!==null;){if(S=gt(T),S===null)return;if(R=S.tag,R===5||R===6||R===26||R===27){f=y=S;continue e}T=T.parentNode}}f=f.return}Iu(function(){var j=y,X=We(c),ne=[];e:{var q=Q0.get(s);if(q!==void 0){var Y=$u,Se=s;switch(s){case"keypress":if(Uu(c)===0)break e;case"keydown":case"keyup":Y=O2;break;case"focusin":Se="focus",Y=mp;break;case"focusout":Se="blur",Y=mp;break;case"beforeblur":case"afterblur":Y=mp;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=A0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=y2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_2;break;case W0:case X0:case Z0:Y=v2;break;case J0:Y=L2;break;case"scroll":case"scrollend":Y=m2;break;case"wheel":Y=B2;break;case"copy":case"cut":case"paste":Y=S2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=R0;break;case"toggle":case"beforetoggle":Y=P2}var je=(a&4)!==0,Nt=!je&&(s==="scroll"||s==="scrollend"),I=je?q!==null?q+"Capture":null:q;je=[];for(var _=j,H;_!==null;){var Q=_;if(H=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||H===null||I===null||(Q=Bl(_,I),Q!=null&&je.push(mc(_,Q,H))),Nt)break;_=_.return}0<je.length&&(q=new Y(q,Se,null,c,X),ne.push({event:q,listeners:je}))}}if((a&7)===0){e:{if(q=s==="mouseover"||s==="pointerover",Y=s==="mouseout"||s==="pointerout",q&&c!==Oe&&(Se=c.relatedTarget||c.fromElement)&&(gt(Se)||Se[Me]))break e;if((Y||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(Se=c.relatedTarget||c.toElement,Y=j,Se=Se?gt(Se):null,Se!==null&&(Nt=o(Se),je=Se.tag,Se!==Nt||je!==5&&je!==27&&je!==6)&&(Se=null)):(Y=null,Se=j),Y!==Se)){if(je=A0,Q="onMouseLeave",I="onMouseEnter",_="mouse",(s==="pointerout"||s==="pointerover")&&(je=R0,Q="onPointerLeave",I="onPointerEnter",_="pointer"),Nt=Y==null?q:nn(Y),H=Se==null?q:nn(Se),q=new je(Q,_+"leave",Y,c,X),q.target=Nt,q.relatedTarget=H,Q=null,gt(X)===j&&(je=new je(I,_+"enter",Se,c,X),je.target=H,je.relatedTarget=Nt,Q=je),Nt=Q,Y&&Se)t:{for(je=IO,I=Y,_=Se,H=0,Q=I;Q;Q=je(Q))H++;Q=0;for(var Ue=_;Ue;Ue=je(Ue))Q++;for(;0<H-Q;)I=je(I),H--;for(;0<Q-H;)_=je(_),Q--;for(;H--;){if(I===_||_!==null&&I===_.alternate){je=I;break t}I=je(I),_=je(_)}je=null}else je=null;Y!==null&&EE(ne,q,Y,je,!1),Se!==null&&Nt!==null&&EE(ne,Nt,Se,je,!0)}}e:{if(q=j?nn(j):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var pt=P0;else if(B0(q))if(U0)pt=Y2;else{pt=K2;var Re=V2}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&hs(j.elementType)&&(pt=P0):pt=G2;if(pt&&(pt=pt(s,j))){I0(ne,pt,c,X);break e}Re&&Re(s,q,j),s==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&ba(q,"number",q.value)}switch(Re=j?nn(j):window,s){case"focusin":(B0(Re)||Re.contentEditable==="true")&&(Ea=Re,Ep=j,Fl=null);break;case"focusout":Fl=Ep=Ea=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,G0(ne,c,X);break;case"selectionchange":if(X2)break;case"keydown":case"keyup":G0(ne,c,X)}var Je;if(yp)e:{switch(s){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else va?L0(s,c)&&(ut="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ut="onCompositionStart");ut&&(N0&&c.locale!=="ko"&&(va||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&va&&(Je=C0()):(ms=X,fp="value"in ms?ms.value:ms.textContent,va=!0)),Re=Nd(j,ut),0<Re.length&&(ut=new O0(ut,s,null,c,X),ne.push({event:ut,listeners:Re}),Je?ut.data=Je:(Je=z0(c),Je!==null&&(ut.data=Je)))),(Je=H2?$2(s,c):j2(s,c))&&(ut=Nd(j,"onBeforeInput"),0<ut.length&&(Re=new O0("onBeforeInput","beforeinput",null,c,X),ne.push({event:Re,listeners:ut}),Re.data=Je)),DO(ne,s,j,c,X)}wE(ne,a)})}function mc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Nd(s,a){for(var c=a+"Capture",f=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Bl(s,c),m!=null&&f.unshift(mc(s,m,y)),m=Bl(s,a),m!=null&&f.push(mc(s,m,y))),s.tag===3)return f;s=s.return}return[]}function IO(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function EE(s,a,c,f,m){for(var y=a._reactName,S=[];c!==null&&c!==f;){var T=c,R=T.alternate,j=T.stateNode;if(T=T.tag,R!==null&&R===f)break;T!==5&&T!==26&&T!==27||j===null||(R=j,m?(j=Bl(c,y),j!=null&&S.unshift(mc(c,j,R))):m||(j=Bl(c,y),j!=null&&S.push(mc(c,j,R)))),c=c.return}S.length!==0&&s.push({event:a,listeners:S})}var PO=/\r\n?/g,UO=/\u0000|\uFFFD/g;function SE(s){return(typeof s=="string"?s:""+s).replace(PO,`
`).replace(UO,"")}function xE(s,a){return a=SE(a),SE(s)===a}function Rt(s,a,c,f,m,y){switch(c){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||qe(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&qe(s,""+f);break;case"className":un(s,"class",f);break;case"tabIndex":un(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":un(s,c,f);break;case"style":kt(s,f,y);break;case"data":if(a!=="object"){un(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=ps(""+f),s.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&Rt(s,a,"name",m.name,m,null),Rt(s,a,"formEncType",m.formEncType,m,null),Rt(s,a,"formMethod",m.formMethod,m,null),Rt(s,a,"formTarget",m.formTarget,m,null)):(Rt(s,a,"encType",m.encType,m,null),Rt(s,a,"method",m.method,m,null),Rt(s,a,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=ps(""+f),s.setAttribute(c,f);break;case"onClick":f!=null&&(s.onclick=de);break;case"onScroll":f!=null&&at("scroll",s);break;case"onScrollEnd":f!=null&&at("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}c=ps(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""+f):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":f===!0?s.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,f):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(c,f):s.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(c):s.setAttribute(c,f);break;case"popover":at("beforetoggle",s),at("toggle",s),ht(s,"popover",f);break;case"xlinkActuate":Xt(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Xt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Xt(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Xt(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Xt(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Xt(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Xt(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Xt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Xt(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ht(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ni.get(c)||c,ht(s,c,f))}}function Gm(s,a,c,f,m,y){switch(c){case"style":kt(s,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof f=="string"?qe(s,f):(typeof f=="number"||typeof f=="bigint")&&qe(s,""+f);break;case"onScroll":f!=null&&at("scroll",s);break;case"onScrollEnd":f!=null&&at("scrollend",s);break;case"onClick":f!=null&&(s.onclick=de);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!En.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),y=s[be]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof f=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,f,m);break e}c in s?s[c]=f:f===!0?s.setAttribute(c,""):ht(s,c,f)}}}function Ln(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",s),at("load",s);var f=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var S=c[y];if(S!=null)switch(y){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Rt(s,a,y,S,c,null)}}m&&Rt(s,a,"srcSet",c.srcSet,c,null),f&&Rt(s,a,"src",c.src,c,null);return;case"input":at("invalid",s);var T=y=S=m=null,R=null,j=null;for(f in c)if(c.hasOwnProperty(f)){var X=c[f];if(X!=null)switch(f){case"name":m=X;break;case"type":S=X;break;case"checked":R=X;break;case"defaultChecked":j=X;break;case"value":y=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:Rt(s,a,f,X,c,null)}}bo(s,y,T,R,j,S,m,!1);return;case"select":at("invalid",s),f=S=y=null;for(m in c)if(c.hasOwnProperty(m)&&(T=c[m],T!=null))switch(m){case"value":y=T;break;case"defaultValue":S=T;break;case"multiple":f=T;default:Rt(s,a,m,T,c,null)}a=y,c=S,s.multiple=!!f,a!=null?Rn(s,!!f,a,!1):c!=null&&Rn(s,!!f,c,!0);return;case"textarea":at("invalid",s),y=m=f=null;for(S in c)if(c.hasOwnProperty(S)&&(T=c[S],T!=null))switch(S){case"value":f=T;break;case"defaultValue":m=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Rt(s,a,S,T,c,null)}wa(s,f,m,y);return;case"option":for(R in c)if(c.hasOwnProperty(R)&&(f=c[R],f!=null))switch(R){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Rt(s,a,R,f,c,null)}return;case"dialog":at("beforetoggle",s),at("toggle",s),at("cancel",s),at("close",s);break;case"iframe":case"object":at("load",s);break;case"video":case"audio":for(f=0;f<pc.length;f++)at(pc[f],s);break;case"image":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"embed":case"source":case"link":at("error",s),at("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in c)if(c.hasOwnProperty(j)&&(f=c[j],f!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Rt(s,a,j,f,c,null)}return;default:if(hs(a)){for(X in c)c.hasOwnProperty(X)&&(f=c[X],f!==void 0&&Gm(s,a,X,f,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(f=c[T],f!=null&&Rt(s,a,T,f,c,null))}function HO(s,a,c,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,T=null,R=null,j=null,X=null;for(Y in c){var ne=c[Y];if(c.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=ne;default:f.hasOwnProperty(Y)||Rt(s,a,Y,null,f,ne)}}for(var q in f){var Y=f[q];if(ne=c[q],f.hasOwnProperty(q)&&(Y!=null||ne!=null))switch(q){case"type":y=Y;break;case"name":m=Y;break;case"checked":j=Y;break;case"defaultChecked":X=Y;break;case"value":S=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:Y!==ne&&Rt(s,a,q,Y,f,ne)}}Dl(s,S,T,R,j,X,y,m);return;case"select":Y=S=T=q=null;for(y in c)if(R=c[y],c.hasOwnProperty(y)&&R!=null)switch(y){case"value":break;case"multiple":Y=R;default:f.hasOwnProperty(y)||Rt(s,a,y,null,f,R)}for(m in f)if(y=f[m],R=c[m],f.hasOwnProperty(m)&&(y!=null||R!=null))switch(m){case"value":q=y;break;case"defaultValue":T=y;break;case"multiple":S=y;default:y!==R&&Rt(s,a,m,y,f,R)}a=T,c=S,f=Y,q!=null?Rn(s,!!c,q,!1):!!f!=!!c&&(a!=null?Rn(s,!!c,a,!0):Rn(s,!!c,c?[]:"",!1));return;case"textarea":Y=q=null;for(T in c)if(m=c[T],c.hasOwnProperty(T)&&m!=null&&!f.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Rt(s,a,T,null,f,m)}for(S in f)if(m=f[S],y=c[S],f.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":q=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&Rt(s,a,S,m,f,y)}zu(s,q,Y);return;case"option":for(var Se in c)if(q=c[Se],c.hasOwnProperty(Se)&&q!=null&&!f.hasOwnProperty(Se))switch(Se){case"selected":s.selected=!1;break;default:Rt(s,a,Se,null,f,q)}for(R in f)if(q=f[R],Y=c[R],f.hasOwnProperty(R)&&q!==Y&&(q!=null||Y!=null))switch(R){case"selected":s.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Rt(s,a,R,q,f,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in c)q=c[je],c.hasOwnProperty(je)&&q!=null&&!f.hasOwnProperty(je)&&Rt(s,a,je,null,f,q);for(j in f)if(q=f[j],Y=c[j],f.hasOwnProperty(j)&&q!==Y&&(q!=null||Y!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,a));break;default:Rt(s,a,j,q,f,Y)}return;default:if(hs(a)){for(var Nt in c)q=c[Nt],c.hasOwnProperty(Nt)&&q!==void 0&&!f.hasOwnProperty(Nt)&&Gm(s,a,Nt,void 0,f,q);for(X in f)q=f[X],Y=c[X],!f.hasOwnProperty(X)||q===Y||q===void 0&&Y===void 0||Gm(s,a,X,q,f,Y);return}}for(var I in c)q=c[I],c.hasOwnProperty(I)&&q!=null&&!f.hasOwnProperty(I)&&Rt(s,a,I,null,f,q);for(ne in f)q=f[ne],Y=c[ne],!f.hasOwnProperty(ne)||q===Y||q==null&&Y==null||Rt(s,a,ne,q,f,Y)}function kE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $O(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var m=c[f],y=m.transferSize,S=m.initiatorType,T=m.duration;if(y&&T&&kE(S)){for(S=0,T=m.responseEnd,f+=1;f<c.length;f++){var R=c[f],j=R.startTime;if(j>T)break;var X=R.transferSize,ne=R.initiatorType;X&&kE(ne)&&(R=R.responseEnd,S+=X*(R<T?1:(T-j)/(R-j)))}if(--f,a+=8*(y+S)/(m.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ym=null,Wm=null;function _d(s){return s.nodeType===9?s:s.ownerDocument}function TE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CE(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Xm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Zm=null;function jO(){var s=window.event;return s&&s.type==="popstate"?s===Zm?!1:(Zm=s,!0):(Zm=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,qO=typeof clearTimeout=="function"?clearTimeout:void 0,AE=typeof Promise=="function"?Promise:void 0,FO=typeof queueMicrotask=="function"?queueMicrotask:typeof AE<"u"?function(s){return AE.resolve(null).then(s).catch(VO)}:ME;function VO(s){setTimeout(function(){throw s})}function _s(s){return s==="head"}function OE(s,a){var c=a,f=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(f===0){s.removeChild(m),Ya(a);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")gc(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,gc(c);for(var y=c.firstChild;y;){var S=y.nextSibling,T=y.nodeName;y[Pt]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=S}}else c==="body"&&gc(s.ownerDocument.body);c=m}while(c);Ya(a)}function RE(s,a){var c=s;s=0;do{var f=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=f}while(c)}function Jm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Jm(c),qt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function KO(s,a,c,f){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Pt])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=qr(s.nextSibling),s===null)break}return null}function GO(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=qr(s.nextSibling),s===null))return null;return s}function NE(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=qr(s.nextSibling),s===null))return null;return s}function Qm(s){return s.data==="$?"||s.data==="$~"}function eg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function YO(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var f=function(){a(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function qr(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var tg=null;function _E(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return qr(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function DE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function LE(s,a,c){switch(a=_d(c),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function gc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);qt(s)}var Fr=new Map,zE=new Set;function Dd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Gi=ie.d;ie.d={f:WO,r:XO,D:ZO,C:JO,L:QO,m:eR,X:nR,S:tR,M:rR};function WO(){var s=Gi.f(),a=kd();return s||a}function XO(s){var a=rt(s);a!==null&&a.tag===5&&a.type==="form"?Jw(a):Gi.r(s)}var Va=typeof document>"u"?null:document;function BE(s,a,c){var f=Va;if(f&&typeof a=="string"&&a){var m=er(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),zE.has(m)||(zE.add(m),s={rel:s,crossOrigin:c,href:a},f.querySelector(m)===null&&(a=f.createElement("link"),Ln(a,"link",s),zt(a),f.head.appendChild(a)))}}function ZO(s){Gi.D(s),BE("dns-prefetch",s,null)}function JO(s,a){Gi.C(s,a),BE("preconnect",s,a)}function QO(s,a,c){Gi.L(s,a,c);var f=Va;if(f&&s&&a){var m='link[rel="preload"][as="'+er(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+er(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+er(c.imageSizes)+'"]')):m+='[href="'+er(s)+'"]';var y=m;switch(a){case"style":y=Ka(s);break;case"script":y=Ga(s)}Fr.has(y)||(s=g({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Fr.set(y,s),f.querySelector(m)!==null||a==="style"&&f.querySelector(yc(y))||a==="script"&&f.querySelector(bc(y))||(a=f.createElement("link"),Ln(a,"link",s),zt(a),f.head.appendChild(a)))}}function eR(s,a){Gi.m(s,a);var c=Va;if(c&&s){var f=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+er(f)+'"][href="'+er(s)+'"]',y=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ga(s)}if(!Fr.has(y)&&(s=g({rel:"modulepreload",href:s},a),Fr.set(y,s),c.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bc(y)))return}f=c.createElement("link"),Ln(f,"link",s),zt(f),c.head.appendChild(f)}}}function tR(s,a,c){Gi.S(s,a,c);var f=Va;if(f&&s){var m=Un(f).hoistableStyles,y=Ka(s);a=a||"default";var S=m.get(y);if(!S){var T={loading:0,preload:null};if(S=f.querySelector(yc(y)))T.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Fr.get(y))&&ng(s,c);var R=S=f.createElement("link");zt(R),Ln(R,"link",s),R._p=new Promise(function(j,X){R.onload=j,R.onerror=X}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ld(S,a,f)}S={type:"stylesheet",instance:S,count:1,state:T},m.set(y,S)}}}function nR(s,a){Gi.X(s,a);var c=Va;if(c&&s){var f=Un(c).hoistableScripts,m=Ga(s),y=f.get(m);y||(y=c.querySelector(bc(m)),y||(s=g({src:s,async:!0},a),(a=Fr.get(m))&&rg(s,a),y=c.createElement("script"),zt(y),Ln(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function rR(s,a){Gi.M(s,a);var c=Va;if(c&&s){var f=Un(c).hoistableScripts,m=Ga(s),y=f.get(m);y||(y=c.querySelector(bc(m)),y||(s=g({src:s,async:!0,type:"module"},a),(a=Fr.get(m))&&rg(s,a),y=c.createElement("script"),zt(y),Ln(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function IE(s,a,c,f){var m=(m=Ve.current)?Dd(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Ka(c.href),c=Un(m).hoistableStyles,f=c.get(a),f||(f={type:"style",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Ka(c.href);var y=Un(m).hoistableStyles,S=y.get(s);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,S),(y=m.querySelector(yc(s)))&&!y._p&&(S.instance=y,S.state.loading=5),Fr.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Fr.set(s,c),y||iR(m,s,c,S.state))),a&&f===null)throw Error(r(528,""));return S}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ga(c),c=Un(m).hoistableScripts,f=c.get(a),f||(f={type:"script",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ka(s){return'href="'+er(s)+'"'}function yc(s){return'link[rel="stylesheet"]['+s+"]"}function PE(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function iR(s,a,c,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Ln(a,"link",c),zt(a),s.head.appendChild(a))}function Ga(s){return'[src="'+er(s)+'"]'}function bc(s){return"script[async]"+s}function UE(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+er(c.href)+'"]');if(f)return a.instance=f,zt(f),f;var m=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),zt(f),Ln(f,"style",m),Ld(f,c.precedence,s),a.instance=f;case"stylesheet":m=Ka(c.href);var y=s.querySelector(yc(m));if(y)return a.state.loading|=4,a.instance=y,zt(y),y;f=PE(c),(m=Fr.get(m))&&ng(f,m),y=(s.ownerDocument||s).createElement("link"),zt(y);var S=y;return S._p=new Promise(function(T,R){S.onload=T,S.onerror=R}),Ln(y,"link",f),a.state.loading|=4,Ld(y,c.precedence,s),a.instance=y;case"script":return y=Ga(c.src),(m=s.querySelector(bc(y)))?(a.instance=m,zt(m),m):(f=c,(m=Fr.get(y))&&(f=g({},c),rg(f,m)),s=s.ownerDocument||s,m=s.createElement("script"),zt(m),Ln(m,"link",f),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Ld(f,c.precedence,s));return a.instance}function Ld(s,a,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,y=m,S=0;S<f.length;S++){var T=f[S];if(T.dataset.precedence===a)y=T;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function ng(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function rg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var zd=null;function HE(s,a,c){if(zd===null){var f=new Map,m=zd=new Map;m.set(c,f)}else m=zd,f=m.get(c),f||(f=new Map,m.set(c,f));if(f.has(s))return f;for(f.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var y=c[m];if(!(y[Pt]||y[me]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(a)||"";S=s+S;var T=f.get(S);T?T.push(y):f.set(S,[y])}}return f}function $E(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function sR(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function jE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function oR(s,a,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=Ka(f.href),y=a.querySelector(yc(m));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Bd.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=y,zt(y);return}y=a.ownerDocument||a,f=PE(f),(m=Fr.get(m))&&ng(f,m),y=y.createElement("link"),zt(y);var S=y;S._p=new Promise(function(T,R){S.onload=T,S.onerror=R}),Ln(y,"link",f),c.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Bd.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var ig=0;function aR(s,a){return s.stylesheets&&s.count===0&&Pd(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var f=setTimeout(function(){if(s.stylesheets&&Pd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&ig===0&&(ig=62500*$O());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Pd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>ig?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(f),clearTimeout(m)}}:null}function Bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Id=null;function Pd(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Id=new Map,a.forEach(lR,s),Id=null,Bd.call(s))}function lR(s,a){if(!(a.state.loading&4)){var c=Id.get(s);if(c)var f=c.get(null);else{c=new Map,Id.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),f=S)}f&&c.set(null,f)}m=a.instance,S=m.getAttribute("data-precedence"),y=c.get(S)||f,y===f&&c.set(null,m),c.set(S,m),this.count++,f=Bd.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var wc={$$typeof:L,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function cR(s,a,c,f,m,y,S,T,R){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.hiddenUpdates=vt(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function qE(s,a,c,f,m,y,S,T,R,j,X,ne){return s=new cR(s,a,c,S,R,j,X,ne,T),a=1,y===!0&&(a|=24),y=wr(3,null,null,a),s.current=y,y.stateNode=s,a=Ip(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:f,isDehydrated:c,cache:a},$p(y),s}function FE(s){return s?(s=ka,s):ka}function VE(s,a,c,f,m,y){m=FE(m),f.context===null?f.context=m:f.pendingContext=m,f=Es(a),f.payload={element:c},y=y===void 0?null:y,y!==null&&(f.callback=y),c=Ss(s,f,a),c!==null&&(or(c,s,a),Zl(c,s,a))}function KE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function sg(s,a){KE(s,a),(s=s.alternate)&&KE(s,a)}function GE(s){if(s.tag===13||s.tag===31){var a=So(s,67108864);a!==null&&or(a,s,67108864),sg(s,67108864)}}function YE(s){if(s.tag===13||s.tag===31){var a=kr();a=U(a);var c=So(s,a);c!==null&&or(c,s,a),sg(s,a)}}var Ud=!0;function uR(s,a,c,f){var m=B.T;B.T=null;var y=ie.p;try{ie.p=2,og(s,a,c,f)}finally{ie.p=y,B.T=m}}function dR(s,a,c,f){var m=B.T;B.T=null;var y=ie.p;try{ie.p=8,og(s,a,c,f)}finally{ie.p=y,B.T=m}}function og(s,a,c,f){if(Ud){var m=ag(f);if(m===null)Km(s,a,f,Hd,c),XE(s,f);else if(hR(m,s,a,c,f))f.stopPropagation();else if(XE(s,f),a&4&&-1<fR.indexOf(s)){for(;m!==null;){var y=rt(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Pn(y.pendingLanes);if(S!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var R=1<<31-vn(S);T.entanglements[1]|=R,S&=~R}gi(y),(yt&6)===0&&(Sd=xt()+500,hc(0))}}break;case 31:case 13:T=So(y,2),T!==null&&or(T,y,2),kd(),sg(y,2)}if(y=ag(f),y===null&&Km(s,a,f,Hd,c),y===m)break;m=y}m!==null&&f.stopPropagation()}else Km(s,a,f,null,c)}}function ag(s){return s=We(s),lg(s)}var Hd=null;function lg(s){if(Hd=null,s=gt(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Hd=s,null}function WE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fi()){case Lr:return 2;case ti:return 8;case On:case pr:return 32;case ho:return 268435456;default:return 32}default:return 32}}var cg=!1,Ds=null,Ls=null,zs=null,vc=new Map,Ec=new Map,Bs=[],fR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XE(s,a){switch(s){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":vc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(a.pointerId)}}function Sc(s,a,c,f,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},a!==null&&(a=rt(a),a!==null&&GE(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function hR(s,a,c,f,m){switch(a){case"focusin":return Ds=Sc(Ds,s,a,c,f,m),!0;case"dragenter":return Ls=Sc(Ls,s,a,c,f,m),!0;case"mouseover":return zs=Sc(zs,s,a,c,f,m),!0;case"pointerover":var y=m.pointerId;return vc.set(y,Sc(vc.get(y)||null,s,a,c,f,m)),!0;case"gotpointercapture":return y=m.pointerId,Ec.set(y,Sc(Ec.get(y)||null,s,a,c,f,m)),!0}return!1}function ZE(s){var a=gt(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,Ce(s.priority,function(){YE(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,Ce(s.priority,function(){YE(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $d(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=ag(s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Oe=f,c.target.dispatchEvent(f),Oe=null}else return a=rt(c),a!==null&&GE(a),s.blockedOn=c,!1;a.shift()}return!0}function JE(s,a,c){$d(s)&&c.delete(a)}function pR(){cg=!1,Ds!==null&&$d(Ds)&&(Ds=null),Ls!==null&&$d(Ls)&&(Ls=null),zs!==null&&$d(zs)&&(zs=null),vc.forEach(JE),Ec.forEach(JE)}function jd(s,a){s.blockedOn===a&&(s.blockedOn=null,cg||(cg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pR)))}var qd=null;function QE(s){qd!==s&&(qd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qd===s&&(qd=null);for(var a=0;a<s.length;a+=3){var c=s[a],f=s[a+1],m=s[a+2];if(typeof f!="function"){if(lg(f||c)===null)continue;break}var y=rt(c);y!==null&&(s.splice(a,3),a-=3,am(y,{pending:!0,data:m,method:c.method,action:f},f,m))}}))}function Ya(s){function a(R){return jd(R,s)}Ds!==null&&jd(Ds,s),Ls!==null&&jd(Ls,s),zs!==null&&jd(zs,s),vc.forEach(a),Ec.forEach(a);for(var c=0;c<Bs.length;c++){var f=Bs[c];f.blockedOn===s&&(f.blockedOn=null)}for(;0<Bs.length&&(c=Bs[0],c.blockedOn===null);)ZE(c),c.blockedOn===null&&Bs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var m=c[f],y=c[f+1],S=m[be]||null;if(typeof y=="function")S||QE(c);else if(S){var T=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[be]||null)T=S.formAction;else if(lg(m)!==null)continue}else T=S.action;typeof T=="function"?c[f+1]=T:(c.splice(f,3),f-=3),QE(c)}}}function eS(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function ug(s){this._internalRoot=s}Fd.prototype.render=ug.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var c=a.current,f=kr();VE(c,f,s,a,null,null)},Fd.prototype.unmount=ug.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;VE(s.current,2,null,s,null,null),kd(),a[Me]=null}};function Fd(s){this._internalRoot=s}Fd.prototype.unstable_scheduleHydration=function(s){if(s){var a=ue();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Bs.length&&a!==0&&a<Bs[c].priority;c++);Bs.splice(c,0,s),c===0&&ZE(s)}};var tS=e.version;if(tS!=="19.2.3")throw Error(r(527,tS,"19.2.3"));ie.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var mR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{Oi=Vd.inject(mR),Lt=Vd}catch{}}return kc.createRoot=function(s,a){if(!i(s))throw Error(r(299));var c=!1,f="",m=lv,y=cv,S=uv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=qE(s,1,!1,null,null,c,f,null,m,y,S,eS),s[Me]=a.current,Vm(s),new ug(a)},kc.hydrateRoot=function(s,a,c){if(!i(s))throw Error(r(299));var f=!1,m="",y=lv,S=cv,T=uv,R=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.formState!==void 0&&(R=c.formState)),a=qE(s,1,!0,a,c??null,f,m,R,y,S,T,eS),a.context=FE(null),c=a.current,f=kr(),f=U(f),m=Es(f),m.callback=null,Ss(c,m,f),c=f,a.current.lanes=c,Et(a,c),gi(a),s[Me]=a.current,Vm(s),new Fd(a)},kc.version="19.2.3",kc}var dS;function CR(){if(dS)return hg.exports;dS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hg.exports=TR(),hg.exports}var MR=CR();const AR=Ah(MR);var lk=t=>{throw TypeError(t)},OR=(t,e,n)=>e.has(t)||lk("Cannot "+n),yg=(t,e,n)=>(OR(t,e,"read from private field"),n?n.call(t):e.get(t)),RR=(t,e,n)=>e.has(t)?lk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fS="popstate";function NR(t={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return Qc("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ki(i)}return DR(e,n,null,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _R(){return Math.random().toString(36).substring(2,10)}function hS(t,e){return{usr:t.state,key:t.key,idx:e}}function Qc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?so(e):e,state:n,key:e&&e.key||r||_R()}}function ki({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function so(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function DR(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let x=p(),k=x==null?null:x-h;h=x,d&&d({action:u,location:E.location,delta:k})}function b(x,k){u="PUSH";let A=Qc(E.location,x,k);h=p()+1;let L=hS(A,h),$=E.createHref(A);try{l.pushState(L,"",$)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign($)}o&&d&&d({action:u,location:E.location,delta:1})}function w(x,k){u="REPLACE";let A=Qc(E.location,x,k);h=p();let L=hS(A,h),$=E.createHref(A);l.replaceState(L,"",$),o&&d&&d({action:u,location:E.location,delta:0})}function v(x){return ck(x)}let E={get action(){return u},get location(){return t(i,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(fS,g),d=x,()=>{i.removeEventListener(fS,g),d=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let k=v(x);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:w,go(x){return l.go(x)}};return E}function ck(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ki(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Lc,pS=class{constructor(t){if(RR(this,Lc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(yg(this,Lc).has(t))return yg(this,Lc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){yg(this,Lc).set(t,e)}};Lc=new WeakMap;var LR=new Set(["lazy","caseSensitive","path","id","index","children"]);function zR(t){return LR.has(t)}var BR=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function IR(t){return BR.has(t)}function PR(t){return t.index===!0}function eu(t,e,n=[],r={},i=!1){return t.map((o,l)=>{let u=[...n,String(l)],d=typeof o.id=="string"?o.id:u.join("-");if(nt(o.index!==!0||!o.children,"Cannot specify children on an index route"),nt(i||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),PR(o)){let h={...o,id:d};return r[d]=mS(h,e(h)),h}else{let h={...o,id:d,children:void 0};return r[d]=mS(h,e(h)),o.children&&(h.children=eu(o.children,e,u,r,i)),h}})}function mS(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function qs(t,e,n="/"){return zc(t,e,n,!1)}function zc(t,e,n,r){let i=typeof e=="string"?so(e):e,o=Jr(i.pathname||"/",n);if(o==null)return null;let l=uk(t);HR(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=ZR(o);u=WR(l[d],h,r)}return u}function UR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function uk(t,e=[],n=[],r="",i=!1){let o=(l,u,d=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;nt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=xi([r,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),uk(l.children,e,b,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:GR(g,l.index),routesMeta:b})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of dk(l.path))o(l,u,!0,d)}),e}function dk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=dk(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function HR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $R=/^:[\w-]+$/,jR=3,qR=2,FR=1,VR=10,KR=-2,gS=t=>t==="*";function GR(t,e){let n=t.split("/"),r=n.length;return n.some(gS)&&(r+=KR),e&&(r+=qR),n.filter(i=>!gS(i)).reduce((i,o)=>i+($R.test(o)?jR:o===""?FR:VR),r)}function YR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WR(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=Tf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),b=d.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Tf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:xi([o,g.pathname]),pathnameBase:eN(xi([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=xi([o,g.pathnameBase]))}return l}function Tf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let v=u[b]||"";l=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=u[b];return g&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function XR(t,e=!1,n=!0){tn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JR({basename:t,pathname:e}){return e==="/"?t:xi([t,e])}var fk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oh=t=>fk.test(t);function QR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?so(t):t,o;if(n)if(Oh(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),tn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?o=yS(n.substring(1),"/"):o=yS(n,e)}else o=e;return{pathname:o,search:tN(r),hash:nN(i)}}function yS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rh(t){let e=hk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Nh(t,e,n,r=!1){let i;typeof t=="string"?i=so(t):(i={...t},nt(!i.pathname||!i.pathname.includes("?"),bg("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),bg("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),bg("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}u=g>=0?e[g]:"/"}let d=QR(i,u),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var xi=t=>t.join("/").replace(/\/\/+/g,"/"),eN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,pu=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function tu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function mu(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function mk(t,e){let n=t;if(typeof n!="string"||!fk.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(pk)try{let o=new URL(window.location.href),l=n.startsWith("//")?new URL(o.protocol+n):new URL(n),u=Jr(l.pathname,e);l.origin===o.origin&&u!=null?n=u+l.search+l.hash:i=!0}catch{tn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}var Gs=Symbol("Uninstrumented");function rN(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(o){let l=Object.keys(n);for(let u of l)o[u]&&n[u].push(o[u])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let i=rl(n.lazy,e.lazy,()=>{});i&&(r.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(o=>{let l=i[o],u=n[`lazy.${o}`];if(typeof l=="function"&&u.length>0){let d=rl(u,l,()=>{});d&&(r.lazy=Object.assign(r.lazy||{},{[o]:d}))}})}return["loader","action"].forEach(i=>{let o=e[i];if(typeof o=="function"&&n[i].length>0){let l=o[Gs]??o,u=rl(n[i],l,(...d)=>bS(d[0]));u&&(u[Gs]=l,r[i]=u)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(i=>{let o=i[Gs]??i,l=rl(n.middleware,o,(...u)=>bS(u[0]));return l?(l[Gs]=o,l):i})),r}function iN(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(i){let o=Object.keys(i);for(let l of o)i[l]&&n[l].push(i[l])}})),n.navigate.length>0){let r=t.navigate[Gs]??t.navigate,i=rl(n.navigate,r,(...o)=>{let[l,u]=o;return{to:typeof l=="number"||typeof l=="string"?l:l?ki(l):".",...wS(t,u??{})}});i&&(i[Gs]=r,t.navigate=i)}if(n.fetch.length>0){let r=t.fetch[Gs]??t.fetch,i=rl(n.fetch,r,(...o)=>{let[l,,u,d]=o;return{href:u??".",fetcherKey:l,...wS(t,d??{})}});i&&(i[Gs]=r,t.fetch=i)}return t}function rl(t,e,n){return t.length===0?null:async(...r)=>{let i=await gk(t,n(...r),()=>e(...r),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function gk(t,e,n,r){let i=t[r],o;if(i){let l,u=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=gk(t,e,n,r-1),o=await l,nt(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await i(u,e)}catch(d){console.error("An instrumentation function threw an error:",d)}l||await u(),await l}else try{o={type:"success",value:await n()}}catch(l){o={type:"error",value:l}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function bS(t){let{request:e,context:n,params:r,unstable_pattern:i}=t;return{request:sN(e),params:{...r},unstable_pattern:i,context:oN(n)}}function wS(t,e){return{currentUrl:ki(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function sN(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function oN(t){if(lN(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var aN=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lN(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===aN}var yk=["POST","PUT","PATCH","DELETE"],cN=new Set(yk),uN=["GET",...yk],dN=new Set(uN),bk=new Set([301,302,303,307,308]),fN=new Set([307,308]),wg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),wk="remix-router-transitions",vk=Symbol("ResetLoaderData");function mN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";nt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||pN,o=i;if(t.unstable_instrumentations){let C=t.unstable_instrumentations;o=D=>({...i(D),...rN(C.map(U=>U.route).filter(Boolean),D)})}let l={},u=eu(t.routes,o,void 0,l),d,h=t.basename||"/";h.startsWith("/")||(h=`/${h}`);let p=t.dataStrategy||vN,g={...t.future},b=null,w=new Set,v=null,E=null,x=null,k=t.hydrationData!=null,A=qs(u,t.history.location,h),L=!1,$=null,P;if(A==null&&!t.patchRoutesOnNavigation){let C=Gr(404,{pathname:t.history.location.pathname}),{matches:D,route:U}=Kd(u);P=!0,A=D,$={[U.id]:C}}else if(A&&!t.hydrationData&&$e(A,u,t.history.location.pathname).active&&(A=null),A)if(A.some(C=>C.route.lazy))P=!1;else if(!A.some(C=>tb(C.route)))P=!0;else{let C=t.hydrationData?t.hydrationData.loaderData:null,D=t.hydrationData?t.hydrationData.errors:null;if(D){let U=A.findIndex(re=>D[re.route.id]!==void 0);P=A.slice(0,U+1).every(re=>!uy(re.route,C,D))}else P=A.every(U=>!uy(U.route,C,D))}else{P=!1,A=[];let C=$e(null,u,t.history.location.pathname);C.active&&C.matches&&(L=!0,A=C.matches)}let V,M={historyAction:t.history.action,location:t.history.location,matches:A,initialized:P,navigation:wg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||$,fetchers:new Map,blockers:new Map},Z="POP",se=null,De=!1,Ie,te=!1,xe=new Map,he=null,ge=!1,B=!1,ie=new Set,ee=new Map,Ee=0,Le=-1,O=new Map,K=new Set,le=new Map,fe=new Map,Ae=new Set,Ve=new Map,it,Gt=null;function jt(){if(b=t.history.listen(({action:C,location:D,delta:U})=>{if(it){it(),it=void 0;return}tn(Ve.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=Ri({currentLocation:M.location,nextLocation:D,historyAction:C});if(re&&U!=null){let ue=new Promise(Ce=>{it=Ce});t.history.go(U*-1),zr(re,{state:"blocked",location:D,proceed(){zr(re,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),ue.then(()=>t.history.go(U))},reset(){let Ce=new Map(M.blockers);Ce.set(re,Tc),Wt({blockers:Ce})}}),se?.resolve(),se=null;return}return hr(C,D)}),n){PN(e,xe);let C=()=>UN(e,xe);e.addEventListener("pagehide",C),he=()=>e.removeEventListener("pagehide",C)}return M.initialized||hr("POP",M.location,{initialHydration:!0}),V}function _r(){b&&b(),he&&he(),w.clear(),Ie&&Ie.abort(),M.fetchers.forEach((C,D)=>po(D)),M.blockers.forEach((C,D)=>go(D))}function cs(C){return w.add(C),()=>w.delete(C)}function Wt(C,D={}){C.matches&&(C.matches=C.matches.map(ue=>{let Ce=l[ue.route.id],ye=ue.route;return ye.element!==Ce.element||ye.errorElement!==Ce.errorElement||ye.hydrateFallbackElement!==Ce.hydrateFallbackElement?{...ue,route:Ce}:ue})),M={...M,...C};let U=[],re=[];M.fetchers.forEach((ue,Ce)=>{ue.state==="idle"&&(Ae.has(Ce)?U.push(Ce):re.push(Ce))}),Ae.forEach(ue=>{!M.fetchers.has(ue)&&!ee.has(ue)&&U.push(ue)}),[...w].forEach(ue=>ue(M,{deletedFetchers:U,newErrors:C.errors??null,viewTransitionOpts:D.viewTransitionOpts,flushSync:D.flushSync===!0})),U.forEach(ue=>po(ue)),re.forEach(ue=>M.fetchers.delete(ue))}function ei(C,D,{flushSync:U}={}){let re=M.actionData!=null&&M.navigation.formMethod!=null&&jn(M.navigation.formMethod)&&M.navigation.state==="loading"&&C.state?._isRedirect!==!0,ue;D.actionData?Object.keys(D.actionData).length>0?ue=D.actionData:ue=null:re?ue=M.actionData:ue=null;let Ce=D.loaderData?OS(M.loaderData,D.loaderData,D.matches||[],D.errors):M.loaderData,ye=M.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((He,Ne)=>ye.set(Ne,Tc)));let me=ge?!1:pe(C,D.matches||M.matches),be=De===!0||M.navigation.formMethod!=null&&jn(M.navigation.formMethod)&&C.state?._isRedirect!==!0;d&&(u=d,d=void 0),ge||Z==="POP"||(Z==="PUSH"?t.history.push(C,C.state):Z==="REPLACE"&&t.history.replace(C,C.state));let Me;if(Z==="POP"){let He=xe.get(M.location.pathname);He&&He.has(C.pathname)?Me={currentLocation:M.location,nextLocation:C}:xe.has(C.pathname)&&(Me={currentLocation:C,nextLocation:M.location})}else if(te){let He=xe.get(M.location.pathname);He?He.add(C.pathname):(He=new Set([C.pathname]),xe.set(M.location.pathname,He)),Me={currentLocation:M.location,nextLocation:C}}Wt({...D,actionData:ue,loaderData:Ce,historyAction:Z,location:C,initialized:!0,navigation:wg,revalidation:"idle",restoreScrollPosition:me,preventScrollReset:be,blockers:ye},{viewTransitionOpts:Me,flushSync:U===!0}),Z="POP",De=!1,te=!1,ge=!1,B=!1,se?.resolve(),se=null,Gt?.resolve(),Gt=null}async function Dr(C,D){if(se?.resolve(),se=null,typeof C=="number"){se||(se=DS());let st=se.promise;return t.history.go(C),st}let U=cy(M.location,M.matches,h,C,D?.fromRouteId,D?.relative),{path:re,submission:ue,error:Ce}=vS(!1,U,D),ye=M.location,me=Qc(M.location,re,D&&D.state);me={...me,...t.history.encodeLocation(me)};let be=D&&D.replace!=null?D.replace:void 0,Me="PUSH";be===!0?Me="REPLACE":be===!1||ue!=null&&jn(ue.formMethod)&&ue.formAction===M.location.pathname+M.location.search&&(Me="REPLACE");let He=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,Ne=(D&&D.flushSync)===!0,tt=Ri({currentLocation:ye,nextLocation:me,historyAction:Me});if(tt){zr(tt,{state:"blocked",location:me,proceed(){zr(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Dr(C,D)},reset(){let st=new Map(M.blockers);st.set(tt,Tc),Wt({blockers:st})}});return}await hr(Me,me,{submission:ue,pendingError:Ce,preventScrollReset:He,replace:D&&D.replace,enableViewTransition:D&&D.viewTransition,flushSync:Ne,callSiteDefaultShouldRevalidate:D&&D.unstable_defaultShouldRevalidate})}function uo(){Gt||(Gt=DS()),ti(),Wt({revalidation:"loading"});let C=Gt.promise;return M.navigation.state==="submitting"?C:M.navigation.state==="idle"?(hr(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),C):(hr(Z||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:te===!0}),C)}async function hr(C,D,U){Ie&&Ie.abort(),Ie=null,Z=C,ge=(U&&U.startUninterruptedRevalidation)===!0,J(M.location,M.matches),De=(U&&U.preventScrollReset)===!0,te=(U&&U.enableViewTransition)===!0;let re=d||u,ue=U&&U.overrideNavigation,Ce=U?.initialHydration&&M.matches&&M.matches.length>0&&!L?M.matches:qs(re,D,h),ye=(U&&U.flushSync)===!0;if(Ce&&M.initialized&&!B&&AN(M.location,D)&&!(U&&U.submission&&jn(U.submission.formMethod))){ei(D,{matches:Ce},{flushSync:ye});return}let me=$e(Ce,re,D.pathname);if(me.active&&me.matches&&(Ce=me.matches),!Ce){let{error:qt,notFoundMatches:gt,route:rt}=ni(D.pathname);ei(D,{matches:gt,loaderData:{},errors:{[rt.id]:qt}},{flushSync:ye});return}Ie=new AbortController;let be=Za(t.history,D,Ie.signal,U&&U.submission),Me=t.getContext?await t.getContext():new pS,He;if(U&&U.pendingError)He=[Fs(Ce).route.id,{type:"error",error:U.pendingError}];else if(U&&U.submission&&jn(U.submission.formMethod)){let qt=await Ol(be,D,U.submission,Ce,Me,me.active,U&&U.initialHydration===!0,{replace:U.replace,flushSync:ye});if(qt.shortCircuited)return;if(qt.pendingActionResult){let[gt,rt]=qt.pendingActionResult;if(Tr(rt)&&tu(rt.error)&&rt.error.status===404){Ie=null,ei(D,{matches:qt.matches,loaderData:{},errors:{[gt]:rt.error}});return}}Ce=qt.matches||Ce,He=qt.pendingActionResult,ue=vg(D,U.submission),ye=!1,me.active=!1,be=Za(t.history,be.url,be.signal)}let{shortCircuited:Ne,matches:tt,loaderData:st,errors:Pt}=await pa(be,D,Ce,Me,me.active,ue,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,ye,He,U&&U.callSiteDefaultShouldRevalidate);Ne||(Ie=null,ei(D,{matches:tt||Ce,...RS(He),loaderData:st,errors:Pt}))}async function Ol(C,D,U,re,ue,Ce,ye,me={}){ti();let be=BN(D,U);if(Wt({navigation:be},{flushSync:me.flushSync===!0}),Ce){let Ne=await vt(re,D.pathname,C.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){if(Ne.partialMatches.length===0){let{matches:st,route:Pt}=Kd(u);return{matches:st,pendingActionResult:[Pt.id,{type:"error",error:Ne.error}]}}let tt=Fs(Ne.partialMatches).route.id;return{matches:Ne.partialMatches,pendingActionResult:[tt,{type:"error",error:Ne.error}]}}else if(Ne.matches)re=Ne.matches;else{let{notFoundMatches:tt,error:st,route:Pt}=ni(D.pathname);return{matches:tt,pendingActionResult:[Pt.id,{type:"error",error:st}]}}}let Me,He=hf(re,D);if(!He.route.action&&!He.route.lazy)Me={type:"error",error:Gr(405,{method:C.method,pathname:D.pathname,routeId:He.route.id})};else{let Ne=sl(o,l,C,re,He,ye?[]:r,ue),tt=await fi(C,Ne,ue,null);if(Me=tt[He.route.id],!Me){for(let st of re)if(tt[st.route.id]){Me=tt[st.route.id];break}}if(C.signal.aborted)return{shortCircuited:!0}}if(Uo(Me)){let Ne;return me&&me.replace!=null?Ne=me.replace:Ne=CS(Me.response.headers.get("Location"),new URL(C.url),h)===M.location.pathname+M.location.search,await xt(C,Me,!0,{submission:U,replace:Ne}),{shortCircuited:!0}}if(Tr(Me)){let Ne=Fs(re,He.route.id);return(me&&me.replace)!==!0&&(Z="PUSH"),{matches:re,pendingActionResult:[Ne.route.id,Me,He.route.id]}}return{matches:re,pendingActionResult:[He.route.id,Me]}}async function pa(C,D,U,re,ue,Ce,ye,me,be,Me,He,Ne,tt){let st=Ce||vg(D,ye),Pt=ye||me||_S(st),qt=!ge&&!Me;if(ue){if(qt){let ht=us(Ne);Wt({navigation:st,...ht!==void 0?{actionData:ht}:{}},{flushSync:He})}let Pe=await vt(U,D.pathname,C.signal);if(Pe.type==="aborted")return{shortCircuited:!0};if(Pe.type==="error"){if(Pe.partialMatches.length===0){let{matches:un,route:Xt}=Kd(u);return{matches:un,loaderData:{},errors:{[Xt.id]:Pe.error}}}let ht=Fs(Pe.partialMatches).route.id;return{matches:Pe.partialMatches,loaderData:{},errors:{[ht]:Pe.error}}}else if(Pe.matches)U=Pe.matches;else{let{error:ht,notFoundMatches:un,route:Xt}=ni(D.pathname);return{matches:un,loaderData:{},errors:{[Xt.id]:ht}}}}let gt=d||u,{dsMatches:rt,revalidatingFetchers:nn}=ES(C,re,o,l,t.history,M,U,Pt,D,Me?[]:r,Me===!0,B,ie,Ae,le,K,gt,h,t.patchRoutesOnNavigation!=null,Ne,tt);if(Le=++Ee,!t.dataStrategy&&!rt.some(Pe=>Pe.shouldLoad)&&!rt.some(Pe=>Pe.route.middleware&&Pe.route.middleware.length>0)&&nn.length===0){let Pe=vn();return ei(D,{matches:U,loaderData:{},errors:Ne&&Tr(Ne[1])?{[Ne[0]]:Ne[1].error}:null,...RS(Ne),...Pe?{fetchers:new Map(M.fetchers)}:{}},{flushSync:He}),{shortCircuited:!0}}if(qt){let Pe={};if(!ue){Pe.navigation=st;let ht=us(Ne);ht!==void 0&&(Pe.actionData=ht)}nn.length>0&&(Pe.fetchers=ds(nn)),Wt(Pe,{flushSync:He})}nn.forEach(Pe=>{Lt(Pe.key),Pe.controller&&ee.set(Pe.key,Pe.controller)});let Un=()=>nn.forEach(Pe=>Lt(Pe.key));Ie&&Ie.signal.addEventListener("abort",Un);let{loaderResults:zt,fetcherResults:gr}=await Lr(rt,nn,C,re);if(C.signal.aborted)return{shortCircuited:!0};Ie&&Ie.signal.removeEventListener("abort",Un),nn.forEach(Pe=>ee.delete(Pe.key));let En=Gd(zt);if(En)return await xt(C,En.result,!0,{replace:be}),{shortCircuited:!0};if(En=Gd(gr),En)return K.add(En.key),await xt(C,En.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:yr,errors:oe}=AS(M,U,zt,Ne,nn,gr);Me&&M.errors&&(oe={...M.errors,...oe});let Te=vn(),Ye=ga(Le),ft=Te||Ye||nn.length>0;return{matches:U,loaderData:yr,errors:oe,...ft?{fetchers:new Map(M.fetchers)}:{}}}function us(C){if(C&&!Tr(C[1]))return{[C[0]]:C[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function ds(C){return C.forEach(D=>{let U=M.fetchers.get(D.key),re=Cc(void 0,U?U.data:void 0);M.fetchers.set(D.key,re)}),new Map(M.fetchers)}async function fo(C,D,U,re){Lt(C);let ue=(re&&re.flushSync)===!0,Ce=d||u,ye=cy(M.location,M.matches,h,U,D,re?.relative),me=qs(Ce,ye,h),be=$e(me,Ce,ye);if(be.active&&be.matches&&(me=be.matches),!me){pr(C,D,Gr(404,{pathname:ye}),{flushSync:ue});return}let{path:Me,submission:He,error:Ne}=vS(!0,ye,re);if(Ne){pr(C,D,Ne,{flushSync:ue});return}let tt=t.getContext?await t.getContext():new pS,st=(re&&re.preventScrollReset)===!0;if(He&&jn(He.formMethod)){await Rl(C,D,Me,me,tt,be.active,ue,st,He,re&&re.unstable_defaultShouldRevalidate);return}le.set(C,{routeId:D,path:Me}),await ma(C,D,Me,me,tt,be.active,ue,st,He)}async function Rl(C,D,U,re,ue,Ce,ye,me,be,Me){ti(),le.delete(C);let He=M.fetchers.get(C);On(C,IN(be,He),{flushSync:ye});let Ne=new AbortController,tt=Za(t.history,U,Ne.signal,be);if(Ce){let Fe=await vt(re,new URL(tt.url).pathname,tt.signal,C);if(Fe.type==="aborted")return;if(Fe.type==="error"){pr(C,D,Fe.error,{flushSync:ye});return}else if(Fe.matches)re=Fe.matches;else{pr(C,D,Gr(404,{pathname:U}),{flushSync:ye});return}}let st=hf(re,U);if(!st.route.action&&!st.route.lazy){let Fe=Gr(405,{method:be.formMethod,pathname:U,routeId:D});pr(C,D,Fe,{flushSync:ye});return}ee.set(C,Ne);let Pt=Ee,qt=sl(o,l,tt,re,st,r,ue),gt=await fi(tt,qt,ue,C),rt=gt[st.route.id];if(!rt){for(let Fe of qt)if(gt[Fe.route.id]){rt=gt[Fe.route.id];break}}if(tt.signal.aborted){ee.get(C)===Ne&&ee.delete(C);return}if(Ae.has(C)){if(Uo(rt)||Tr(rt)){On(C,Zi(void 0));return}}else{if(Uo(rt))if(ee.delete(C),Le>Pt){On(C,Zi(void 0));return}else return K.add(C),On(C,Cc(be)),xt(tt,rt,!1,{fetcherSubmission:be,preventScrollReset:me});if(Tr(rt)){pr(C,D,rt.error);return}}let nn=M.navigation.location||M.location,Un=Za(t.history,nn,Ne.signal),zt=d||u,gr=M.navigation.state!=="idle"?qs(zt,M.navigation.location,h):M.matches;nt(gr,"Didn't find any matches after fetcher action");let En=++Ee;O.set(C,En);let yr=Cc(be,rt.data);M.fetchers.set(C,yr);let{dsMatches:oe,revalidatingFetchers:Te}=ES(Un,ue,o,l,t.history,M,gr,be,nn,r,!1,B,ie,Ae,le,K,zt,h,t.patchRoutesOnNavigation!=null,[st.route.id,rt],Me);Te.filter(Fe=>Fe.key!==C).forEach(Fe=>{let Sn=Fe.key,yo=M.fetchers.get(Sn),fs=Cc(void 0,yo?yo.data:void 0);M.fetchers.set(Sn,fs),Lt(Sn),Fe.controller&&ee.set(Sn,Fe.controller)}),Wt({fetchers:new Map(M.fetchers)});let Ye=()=>Te.forEach(Fe=>Lt(Fe.key));Ne.signal.addEventListener("abort",Ye);let{loaderResults:ft,fetcherResults:Pe}=await Lr(oe,Te,Un,ue);if(Ne.signal.aborted)return;if(Ne.signal.removeEventListener("abort",Ye),O.delete(C),ee.delete(C),Te.forEach(Fe=>ee.delete(Fe.key)),M.fetchers.has(C)){let Fe=Zi(rt.data);M.fetchers.set(C,Fe)}let ht=Gd(ft);if(ht)return xt(Un,ht.result,!1,{preventScrollReset:me});if(ht=Gd(Pe),ht)return K.add(ht.key),xt(Un,ht.result,!1,{preventScrollReset:me});let{loaderData:un,errors:Xt}=AS(M,gr,ft,void 0,Te,Pe);ga(En),M.navigation.state==="loading"&&En>Le?(nt(Z,"Expected pending action"),Ie&&Ie.abort(),ei(M.navigation.location,{matches:gr,loaderData:un,errors:Xt,fetchers:new Map(M.fetchers)})):(Wt({errors:Xt,loaderData:OS(M.loaderData,un,gr,Xt),fetchers:new Map(M.fetchers)}),B=!1)}async function ma(C,D,U,re,ue,Ce,ye,me,be){let Me=M.fetchers.get(C);On(C,Cc(be,Me?Me.data:void 0),{flushSync:ye});let He=new AbortController,Ne=Za(t.history,U,He.signal);if(Ce){let rt=await vt(re,new URL(Ne.url).pathname,Ne.signal,C);if(rt.type==="aborted")return;if(rt.type==="error"){pr(C,D,rt.error,{flushSync:ye});return}else if(rt.matches)re=rt.matches;else{pr(C,D,Gr(404,{pathname:U}),{flushSync:ye});return}}let tt=hf(re,U);ee.set(C,He);let st=Ee,Pt=sl(o,l,Ne,re,tt,r,ue),gt=(await fi(Ne,Pt,ue,C))[tt.route.id];if(ee.get(C)===He&&ee.delete(C),!Ne.signal.aborted){if(Ae.has(C)){On(C,Zi(void 0));return}if(Uo(gt))if(Le>st){On(C,Zi(void 0));return}else{K.add(C),await xt(Ne,gt,!1,{preventScrollReset:me});return}if(Tr(gt)){pr(C,D,gt.error);return}On(C,Zi(gt.data))}}async function xt(C,D,U,{submission:re,fetcherSubmission:ue,preventScrollReset:Ce,replace:ye}={}){U||(se?.resolve(),se=null),D.response.headers.has("X-Remix-Revalidate")&&(B=!0);let me=D.response.headers.get("Location");nt(me,"Expected a Location header on the redirect Response"),me=CS(me,new URL(C.url),h);let be=Qc(M.location,me,{_isRedirect:!0});if(n){let Pt=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Pt=!0;else if(Oh(me)){const qt=ck(me,!0);Pt=qt.origin!==e.location.origin||Jr(qt.pathname,h)==null}if(Pt){ye?e.location.replace(me):e.location.assign(me);return}}Ie=null;let Me=ye===!0||D.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:He,formAction:Ne,formEncType:tt}=M.navigation;!re&&!ue&&He&&Ne&&tt&&(re=_S(M.navigation));let st=re||ue;if(fN.has(D.response.status)&&st&&jn(st.formMethod))await hr(Me,be,{submission:{...st,formAction:me},preventScrollReset:Ce||De,enableViewTransition:U?te:void 0});else{let Pt=vg(be,re);await hr(Me,be,{overrideNavigation:Pt,fetcherSubmission:ue,preventScrollReset:Ce||De,enableViewTransition:U?te:void 0})}}async function fi(C,D,U,re){let ue,Ce={};try{ue=await SN(p,C,D,re,U,!1)}catch(ye){return D.filter(me=>me.shouldLoad).forEach(me=>{Ce[me.route.id]={type:"error",error:ye}}),Ce}if(C.signal.aborted)return Ce;if(!jn(C.method))for(let ye of D){if(ue[ye.route.id]?.type==="error")break;!ue.hasOwnProperty(ye.route.id)&&!M.loaderData.hasOwnProperty(ye.route.id)&&(!M.errors||!M.errors.hasOwnProperty(ye.route.id))&&ye.shouldCallHandler()&&(ue[ye.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ye.route.id}`)})}for(let[ye,me]of Object.entries(ue))if(_N(me)){let be=me.result;Ce[ye]={type:"redirect",response:CN(be,C,ye,D,h)}}else Ce[ye]=await TN(me);return Ce}async function Lr(C,D,U,re){let ue=fi(U,C,re,null),Ce=Promise.all(D.map(async be=>{if(be.matches&&be.match&&be.request&&be.controller){let He=(await fi(be.request,be.matches,re,be.key))[be.match.route.id];return{[be.key]:He}}else return Promise.resolve({[be.key]:{type:"error",error:Gr(404,{pathname:be.path})}})})),ye=await ue,me=(await Ce).reduce((be,Me)=>Object.assign(be,Me),{});return{loaderResults:ye,fetcherResults:me}}function ti(){B=!0,le.forEach((C,D)=>{ee.has(D)&&ie.add(D),Lt(D)})}function On(C,D,U={}){M.fetchers.set(C,D),Wt({fetchers:new Map(M.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function pr(C,D,U,re={}){let ue=Fs(M.matches,D);po(C),Wt({errors:{[ue.route.id]:U},fetchers:new Map(M.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function ho(C){return fe.set(C,(fe.get(C)||0)+1),Ae.has(C)&&Ae.delete(C),M.fetchers.get(C)||hN}function Nl(C,D){Lt(C,D?.reason),On(C,Zi(null))}function po(C){let D=M.fetchers.get(C);ee.has(C)&&!(D&&D.state==="loading"&&O.has(C))&&Lt(C),le.delete(C),O.delete(C),K.delete(C),Ae.delete(C),ie.delete(C),M.fetchers.delete(C)}function Oi(C){let D=(fe.get(C)||0)-1;D<=0?(fe.delete(C),Ae.add(C)):fe.set(C,D),Wt({fetchers:new Map(M.fetchers)})}function Lt(C,D){let U=ee.get(C);U&&(U.abort(D),ee.delete(C))}function mr(C){for(let D of C){let U=ho(D),re=Zi(U.data);M.fetchers.set(D,re)}}function vn(){let C=[],D=!1;for(let U of K){let re=M.fetchers.get(U);nt(re,`Expected fetcher: ${U}`),re.state==="loading"&&(K.delete(U),C.push(U),D=!0)}return mr(C),D}function ga(C){let D=[];for(let[U,re]of O)if(re<C){let ue=M.fetchers.get(U);nt(ue,`Expected fetcher: ${U}`),ue.state==="loading"&&(Lt(U),O.delete(U),D.push(U))}return mr(D),D.length>0}function mo(C,D){let U=M.blockers.get(C)||Tc;return Ve.get(C)!==D&&Ve.set(C,D),U}function go(C){M.blockers.delete(C),Ve.delete(C)}function zr(C,D){let U=M.blockers.get(C)||Tc;nt(U.state==="unblocked"&&D.state==="blocked"||U.state==="blocked"&&D.state==="blocked"||U.state==="blocked"&&D.state==="proceeding"||U.state==="blocked"&&D.state==="unblocked"||U.state==="proceeding"&&D.state==="unblocked",`Invalid blocker state transition: ${U.state} -> ${D.state}`);let re=new Map(M.blockers);re.set(C,D),Wt({blockers:re})}function Ri({currentLocation:C,nextLocation:D,historyAction:U}){if(Ve.size===0)return;Ve.size>1&&tn(!1,"A router only supports one blocker at a time");let re=Array.from(Ve.entries()),[ue,Ce]=re[re.length-1],ye=M.blockers.get(ue);if(!(ye&&ye.state==="proceeding")&&Ce({currentLocation:C,nextLocation:D,historyAction:U}))return ue}function ni(C){let D=Gr(404,{pathname:C}),U=d||u,{matches:re,route:ue}=Kd(U);return{notFoundMatches:re,route:ue,error:D}}function Pn(C,D,U){if(v=C,x=D,E=U||null,!k&&M.navigation===wg){k=!0;let re=pe(M.location,M.matches);re!=null&&Wt({restoreScrollPosition:re})}return()=>{v=null,x=null,E=null}}function N(C,D){return E&&E(C,D.map(re=>UR(re,M.loaderData)))||C.key}function J(C,D){if(v&&x){let U=N(C,D);v[U]=x()}}function pe(C,D){if(v){let U=N(C,D),re=v[U];if(typeof re=="number")return re}return null}function $e(C,D,U){if(t.patchRoutesOnNavigation)if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:zc(D,U,h,!0)}}else return{active:!0,matches:zc(D,U,h,!0)||[]};return{active:!1,matches:null}}async function vt(C,D,U,re){if(!t.patchRoutesOnNavigation)return{type:"success",matches:C};let ue=C;for(;;){let Ce=d==null,ye=d||u,me=l;try{await t.patchRoutesOnNavigation({signal:U,path:D,matches:ue,fetcherKey:re,patch:(He,Ne)=>{U.aborted||SS(He,Ne,ye,me,o,!1)}})}catch(He){return{type:"error",error:He,partialMatches:ue}}finally{Ce&&!U.aborted&&(u=[...u])}if(U.aborted)return{type:"aborted"};let be=qs(ye,D,h),Me=null;if(be){if(Object.keys(be[0].params).length===0)return{type:"success",matches:be};if(Me=zc(ye,D,h,!0),!(Me&&ue.length<Me.length&&Et(ue,Me.slice(0,ue.length))))return{type:"success",matches:be}}if(Me||(Me=zc(ye,D,h,!0)),!Me||Et(ue,Me))return{type:"success",matches:null};ue=Me}}function Et(C,D){return C.length===D.length&&C.every((U,re)=>U.route.id===D[re].route.id)}function ke(C){l={},d=eu(C,o,void 0,l)}function we(C,D,U=!1){let re=d==null;SS(C,D,d||u,l,o,U),re&&(u=[...u],Wt({}))}return V={get basename(){return h},get future(){return g},get state(){return M},get routes(){return u},get window(){return e},initialize:jt,subscribe:cs,enableScrollRestoration:Pn,navigate:Dr,fetch:fo,revalidate:uo,createHref:C=>t.history.createHref(C),encodeLocation:C=>t.history.encodeLocation(C),getFetcher:ho,resetFetcher:Nl,deleteFetcher:Oi,dispose:_r,getBlocker:mo,deleteBlocker:go,patchRoutes:we,_internalFetchControllers:ee,_internalSetRoutes:ke,_internalSetStateDoNotUseOrYouWillBreakYourApp(C){Wt(C)}},t.unstable_instrumentations&&(V=iN(V,t.unstable_instrumentations.map(C=>C.router).filter(Boolean))),V}function gN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function cy(t,e,n,r,i,o){let l,u;if(i){l=[];for(let h of e)if(l.push(h),h.route.id===i){u=h;break}}else l=e,u=e[e.length-1];let d=Nh(r||".",Rh(l),Jr(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&u){let h=rb(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(d.search),g=p.getAll("index");p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let b=p.toString();d.search=b?`?${b}`:""}}return n!=="/"&&(d.pathname=JR({basename:n,pathname:d.pathname})),ki(d)}function vS(t,e,n){if(!n||!gN(n))return{path:e};if(n.formMethod&&!zN(n.formMethod))return{path:e,error:Gr(405,{method:n.formMethod})};let r=()=>({path:e,error:Gr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=Ck(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!jn(o))return r();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[w,v])=>`${b}${w}=${v}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!jn(o))return r();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return r()}}}nt(typeof FormData=="function","FormData is not available in this environment");let u,d;if(n.formData)u=fy(n.formData),d=n.formData;else if(n.body instanceof FormData)u=fy(n.body),d=n.body;else if(n.body instanceof URLSearchParams)u=n.body,d=MS(u);else if(n.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(n.body),d=MS(u)}catch{return r()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(jn(h.formMethod))return{path:e,submission:h};let p=so(e);return t&&p.search&&rb(p.search)&&u.append("index",""),p.search=`?${u}`,{path:ki(p),submission:h}}function ES(t,e,n,r,i,o,l,u,d,h,p,g,b,w,v,E,x,k,A,L,$){let P=L?Tr(L[1])?L[1].error:L[1].data:void 0,V=i.createURL(o.location),M=i.createURL(d),Z;if(p&&o.errors){let ge=Object.keys(o.errors)[0];Z=l.findIndex(B=>B.route.id===ge)}else if(L&&Tr(L[1])){let ge=L[0];Z=l.findIndex(B=>B.route.id===ge)-1}let se=L?L[1].statusCode:void 0,De=se&&se>=400,Ie={currentUrl:V,currentParams:o.matches[0]?.params||{},nextUrl:M,nextParams:l[0].params,...u,actionResult:P,actionStatus:se},te=mu(l),xe=l.map((ge,B)=>{let{route:ie}=ge,ee=null;if(Z!=null&&B>Z?ee=!1:ie.lazy?ee=!0:tb(ie)?p?ee=uy(ie,o.loaderData,o.errors):yN(o.loaderData,o.matches[B],ge)&&(ee=!0):ee=!1,ee!==null)return dy(n,r,t,te,ge,h,e,ee);let Ee=!1;typeof $=="boolean"?Ee=$:De?Ee=!1:(g||V.pathname+V.search===M.pathname+M.search||V.search!==M.search||bN(o.matches[B],ge))&&(Ee=!0);let Le={...Ie,defaultShouldRevalidate:Ee},O=$c(ge,Le);return dy(n,r,t,te,ge,h,e,O,Le,$)}),he=[];return v.forEach((ge,B)=>{if(p||!l.some(fe=>fe.route.id===ge.routeId)||w.has(B))return;let ie=o.fetchers.get(B),ee=ie&&ie.state!=="idle"&&ie.data===void 0,Ee=qs(x,ge.path,k);if(!Ee){if(A&&ee)return;he.push({key:B,routeId:ge.routeId,path:ge.path,matches:null,match:null,request:null,controller:null});return}if(E.has(B))return;let Le=hf(Ee,ge.path),O=new AbortController,K=Za(i,ge.path,O.signal),le=null;if(b.has(B))b.delete(B),le=sl(n,r,K,Ee,Le,h,e);else if(ee)g&&(le=sl(n,r,K,Ee,Le,h,e));else{let fe;typeof $=="boolean"?fe=$:De?fe=!1:fe=g;let Ae={...Ie,defaultShouldRevalidate:fe};$c(Le,Ae)&&(le=sl(n,r,K,Ee,Le,h,e,Ae))}le&&he.push({key:B,routeId:ge.routeId,path:ge.path,matches:le,match:Le,request:K,controller:O})}),{dsMatches:xe,revalidatingFetchers:he}}function tb(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function uy(t,e,n){if(t.lazy)return!0;if(!tb(t))return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function yN(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function bN(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function $c(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function SS(t,e,n,r,i,o){let l;if(t){let h=r[t];nt(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),l=h.children}else l=n;let u=[],d=[];if(e.forEach(h=>{let p=l.find(g=>Ek(h,g));p?d.push({existingRoute:p,newRoute:h}):u.push(h)}),u.length>0){let h=eu(u,i,[t||"_","patch",String(l?.length||"0")],r);l.push(...h)}if(o&&d.length>0)for(let h=0;h<d.length;h++){let{existingRoute:p,newRoute:g}=d[h],b=p,[w]=eu([g],i,[],{},!0);Object.assign(b,{element:w.element?w.element:b.element,errorElement:w.errorElement?w.errorElement:b.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:b.hydrateFallbackElement})}}function Ek(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>Ek(n,i))):!1}var xS=new WeakMap,Sk=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(nt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[t];if(!o)return;let l=xS.get(i);l||(l={},xS.set(i,l));let u=l[t];if(u)return u;let d=(async()=>{let h=zR(t),g=i[t]!==void 0&&t!=="hasErrorBoundary";if(h)tn(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(g)tn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let b=await o();b!=null&&(Object.assign(i,{[t]:b}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(b=>b===void 0)&&(i.lazy=void 0))})();return l[t]=d,d},kS=new WeakMap;function wN(t,e,n,r,i){let o=n[t.id];if(nt(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=kS.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=(async()=>{nt(typeof t.lazy=="function","No lazy route function found");let b=await t.lazy(),w={};for(let v in b){let E=b[v];if(E===void 0)continue;let x=IR(v),A=o[v]!==void 0&&v!=="hasErrorBoundary";x?tn(!x,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?tn(!A,`Route "${o.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):w[v]=E}Object.assign(o,w),Object.assign(o,{...r(o),lazy:void 0})})();return kS.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(t.lazy),u=[],d;for(let p of l){if(i&&i.includes(p))continue;let g=Sk({key:p,route:t,manifest:n,mapRouteProperties:r});g&&(u.push(g),p===e&&(d=g))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:d}}async function TS(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function vN(t){return t.matches.some(e=>e.route.middleware)?xk(t,()=>TS(t)):TS(t)}function xk(t,e){return EN(t,e,r=>{if(LN(r))throw r;return r},RN,n);function n(r,i,o){if(o)return Promise.resolve(Object.assign(o.value,{[i]:{type:"error",result:r}}));{let{matches:l}=t,u=Math.min(Math.max(l.findIndex(h=>h.route.id===i),0),Math.max(l.findIndex(h=>h.shouldCallHandler()),0)),d=Fs(l,l[u].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function EN(t,e,n,r,i){let{matches:o,request:l,params:u,context:d,unstable_pattern:h}=t,p=o.flatMap(b=>b.route.middleware?b.route.middleware.map(w=>[b.route.id,w]):[]);return await kk({request:l,params:u,context:d,unstable_pattern:h},p,e,n,r,i)}async function kk(t,e,n,r,i,o,l=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let d=e[l];if(!d)return await n();let[h,p]=d,g,b=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await kk(t,e,n,r,i,o,l+1)},g.value}catch(w){return g={value:await o(w,h,g)},g.value}};try{let w=await p(t,b),v=w!=null?r(w):void 0;return i(v)?v:g?v??g.value:(g={value:await b()},g.value)}catch(w){return await o(w,h,g)}}function Tk(t,e,n,r,i){let o=Sk({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=wN(r.route,jn(n.method)?"action":"loader",e,t,i);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function dy(t,e,n,r,i,o,l,u,d=null,h){let p=!1,g=Tk(t,e,n,i,o);return{...i,_lazyPromises:g,shouldLoad:u,shouldRevalidateArgs:d,shouldCallHandler(b){return p=!0,d?typeof h=="boolean"?$c(i,{...d,defaultShouldRevalidate:h}):typeof b=="boolean"?$c(i,{...d,defaultShouldRevalidate:b}):$c(i,d):u},resolve(b){let{lazy:w,loader:v,middleware:E}=i.route,x=p||u||b&&!jn(n.method)&&(w||v),k=E&&E.length>0&&!v&&!w;return x&&(jn(n.method)||!k)?xN({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:b,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function sl(t,e,n,r,i,o,l,u=null){return r.map(d=>d.route.id!==i.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:u,shouldCallHandler:()=>!1,_lazyPromises:Tk(t,e,n,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:dy(t,e,n,mu(r),d,o,l,!0,u))}async function SN(t,e,n,r,i,o){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let l={request:e,unstable_pattern:mu(n),params:n[0].params,context:i,matches:n},d=await t({...l,fetcherKey:r,runClientMiddleware:h=>{let p=l;return xk(p,()=>h({...p,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return d}async function xN({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:o,scopedContext:l}){let u,d,h=jn(t.method),p=h?"action":"loader",g=b=>{let w,v=new Promise((k,A)=>w=A);d=()=>w(),t.signal.addEventListener("abort",d);let E=k=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${n.route.id}]`)):b({request:t,unstable_pattern:e,params:n.params,context:l},...k!==void 0?[k]:[]),x=(async()=>{try{return{type:"data",result:await(o?o(A=>E(A)):E())}}catch(k){return{type:"error",result:k}}})();return Promise.race([x,v])};try{let b=h?n.route.action:n.route.loader;if(r||i)if(b){let w,[v]=await Promise.all([g(b).catch(E=>{w=E}),r,i]);if(w!==void 0)throw w;u=v}else{await r;let w=h?n.route.action:n.route.loader;if(w)[u]=await Promise.all([g(w),i]);else if(p==="action"){let v=new URL(t.url),E=v.pathname+v.search;throw Gr(405,{method:t.method,pathname:E,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(b)u=await g(b);else{let w=new URL(t.url),v=w.pathname+w.search;throw Gr(404,{pathname:v})}}catch(b){return{type:"error",result:b}}finally{d&&t.signal.removeEventListener("abort",d)}return u}async function kN(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function TN(t){let{result:e,type:n}=t;if(nb(e)){let r;try{r=await kN(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new pu(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?NS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:ON(e),statusCode:tu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:tu(e)?e.status:void 0}:NS(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function CN(t,e,n,r,i){let o=t.headers.get("Location");if(nt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Oh(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=cy(new URL(e.url),l,i,o),t.headers.set("Location",o)}return t}function CS(t,e,n){if(Oh(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Jr(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Za(t,e,n,r){let i=t.createURL(Ck(e)).toString(),o={signal:n};if(r&&jn(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=fy(r.formData):o.body=r.formData}return new Request(i,o)}function fy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function MS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function MN(t,e,n,r=!1,i=!1){let o={},l=null,u,d=!1,h={},p=n&&Tr(n[1])?n[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let b=g.route.id,w=e[b];if(nt(!Uo(w),"Cannot handle redirect results in processLoaderData"),Tr(w)){let v=w.error;if(p!==void 0&&(v=p,p=void 0),l=l||{},i)l[b]=v;else{let E=Fs(t,b);l[E.route.id]==null&&(l[E.route.id]=v)}r||(o[b]=vk),d||(d=!0,u=tu(w.error)?w.error.status:500),w.headers&&(h[b]=w.headers)}else o[b]=w.data,w.statusCode&&w.statusCode!==200&&!d&&(u=w.statusCode),w.headers&&(h[b]=w.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:h}}function AS(t,e,n,r,i,o){let{loaderData:l,errors:u}=MN(e,n,r);return i.filter(d=>!d.matches||d.matches.some(h=>h.shouldLoad)).forEach(d=>{let{key:h,match:p,controller:g}=d;if(g&&g.signal.aborted)return;let b=o[h];if(nt(b,"Did not find corresponding fetcher result"),Tr(b)){let w=Fs(t.matches,p?.route.id);u&&u[w.route.id]||(u={...u,[w.route.id]:b.error}),t.fetchers.delete(h)}else if(Uo(b))nt(!1,"Unhandled fetcher revalidation redirect");else{let w=Zi(b.data);t.fetchers.set(h,w)}}),{loaderData:l,errors:u}}function OS(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==vk).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of n){let l=o.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&o.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function RS(t){return t?Tr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Kd(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Gr(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",u=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new pu(t||500,l,new Error(u),!0)}function Gd(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Uo(i))return{key:r,result:i}}}function Ck(t){let e=typeof t=="string"?so(t):t;return ki({...e,hash:""})}function AN(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ON(t){return new pu(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function RN(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&NN(n))}function NN(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function _N(t){return nb(t.result)&&bk.has(t.result.status)}function Tr(t){return t.type==="error"}function Uo(t){return(t&&t.type)==="redirect"}function NS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function nb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function DN(t){return bk.has(t)}function LN(t){return nb(t)&&DN(t.status)&&t.headers.has("Location")}function zN(t){return dN.has(t.toUpperCase())}function jn(t){return cN.has(t.toUpperCase())}function rb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function hf(t,e){let n=typeof e=="string"?so(e).search:e.search;if(t[t.length-1].route.index&&rb(n||""))return t[t.length-1];let r=hk(t);return r[r.length-1]}function _S(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function vg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function BN(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Cc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IN(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Zi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function PN(t,e){try{let n=t.sessionStorage.getItem(wk);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function UN(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(wk,JSON.stringify(n))}catch(r){tn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function DS(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var oa=z.createContext(null);oa.displayName="DataRouter";var gu=z.createContext(null);gu.displayName="DataRouterState";var Mk=z.createContext(!1);function HN(){return z.useContext(Mk)}var ib=z.createContext({isTransitioning:!1});ib.displayName="ViewTransition";var Ak=z.createContext(new Map);Ak.displayName="Fetchers";var $N=z.createContext(null);$N.displayName="Await";var Or=z.createContext(null);Or.displayName="Navigation";var _h=z.createContext(null);_h.displayName="Location";var ui=z.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var sb=z.createContext(null);sb.displayName="RouteError";var Ok="REACT_ROUTER_ERROR",jN="REDIRECT",qN="ROUTE_ERROR_RESPONSE";function FN(t){if(t.startsWith(`${Ok}:${jN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function VN(t){if(t.startsWith(`${Ok}:${qN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new pu(e.status,e.statusText,e.data)}catch{}}function KN(t,{relative:e}={}){nt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(Or),{hash:i,pathname:o,search:l}=yu(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:xi([n,o])),r.createHref({pathname:u,search:l,hash:i})}function El(){return z.useContext(_h)!=null}function oo(){return nt(El(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(_h).location}var Rk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nk(t){z.useContext(Or).static||z.useLayoutEffect(t)}function aa(){let{isDataRoute:t}=z.useContext(ui);return t?a_():GN()}function GN(){nt(El(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(oa),{basename:e,navigator:n}=z.useContext(Or),{matches:r}=z.useContext(ui),{pathname:i}=oo(),o=JSON.stringify(Rh(r)),l=z.useRef(!1);return Nk(()=>{l.current=!0}),z.useCallback((d,h={})=>{if(tn(l.current,Rk),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=Nh(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:xi([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,i,t])}var YN=z.createContext(null);function WN(t){let e=z.useContext(ui).outlet;return z.useMemo(()=>e&&z.createElement(YN.Provider,{value:t},e),[e,t])}function yu(t,{relative:e}={}){let{matches:n}=z.useContext(ui),{pathname:r}=oo(),i=JSON.stringify(Rh(n));return z.useMemo(()=>Nh(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function XN(t,e,n,r,i){nt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Or),{matches:l}=z.useContext(ui),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let A=g&&g.path||"";Dk(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=oo(),w;w=b;let v=w.pathname||"/",E=v;if(p!=="/"){let A=p.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=qs(t,{pathname:E});return tn(g||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),tn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),t_(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:xi([p,o.encodeLocation?o.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:xi([p,o.encodeLocation?o.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,n,r,i)}function ZN(){let t=o_(),e=tu(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,l)}var JN=z.createElement(ZN,null),_k=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=VN(t.digest);n&&(t=n)}let e=t!==void 0?z.createElement(ui.Provider,{value:this.props.routeContext},z.createElement(sb.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?z.createElement(QN,{error:t},e):e}};_k.contextType=Mk;var Eg=new WeakMap;function QN({children:t,error:e}){let{basename:n}=z.useContext(Or);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=FN(e.digest);if(r){let i=Eg.get(e);if(i)throw i;let o=mk(r.location,n);if(pk&&!Eg.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Eg.set(e,l),l}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function e_({routeContext:t,match:e,children:n}){let r=z.useContext(oa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ui.Provider,{value:t},n)}function t_(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:b,errors:w}=n,v=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let h=n&&r?(p,g)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:mu(n.matches),errorInfo:g})}:void 0;return o.reduceRight((p,g,b)=>{let w,v=!1,E=null,x=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,E=g.route.errorElement||JN,u&&(d<0&&b===0?(Dk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):d===b&&(v=!0,x=g.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,b+1)),A=()=>{let L;return w?L=E:v?L=x:g.route.Component?L=z.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=p,z.createElement(e_,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:L})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?z.createElement(_k,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:A(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:h}):A()},null)}function ob(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n_(t){let e=z.useContext(oa);return nt(e,ob(t)),e}function r_(t){let e=z.useContext(gu);return nt(e,ob(t)),e}function i_(t){let e=z.useContext(ui);return nt(e,ob(t)),e}function ab(t){let e=i_(t),n=e.matches[e.matches.length-1];return nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function s_(){return ab("useRouteId")}function o_(){let t=z.useContext(sb),e=r_("useRouteError"),n=ab("useRouteError");return t!==void 0?t:e.errors?.[n]}function a_(){let{router:t}=n_("useNavigate"),e=ab("useNavigate"),n=z.useRef(!1);return Nk(()=>{n.current=!0}),z.useCallback(async(i,o={})=>{tn(n.current,Rk),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var LS={};function Dk(t,e,n){!e&&!LS[t]&&(LS[t]=!0,tn(!1,n))}var zS={};function BS(t,e){!t&&!zS[e]&&(zS[e]=!0,console.warn(e))}var l_="useOptimistic",IS=ER[l_],c_=()=>{};function u_(t){return IS?IS(t):[t,c_]}function d_(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&tn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:z.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&tn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:z.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&tn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:z.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var f_=["HydrateFallback","hydrateFallbackElement"],h_=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function p_({router:t,flushSync:e,onError:n,unstable_useTransitions:r}){r=HN()||r;let[o,l]=z.useState(t.state),[u,d]=u_(o),[h,p]=z.useState(),[g,b]=z.useState({isTransitioning:!1}),[w,v]=z.useState(),[E,x]=z.useState(),[k,A]=z.useState(),L=z.useRef(new Map),$=z.useCallback((Z,{deletedFetchers:se,newErrors:De,flushSync:Ie,viewTransitionOpts:te})=>{De&&n&&Object.values(De).forEach(he=>n(he,{location:Z.location,params:Z.matches[0]?.params??{},unstable_pattern:mu(Z.matches)})),Z.fetchers.forEach((he,ge)=>{he.data!==void 0&&L.current.set(ge,he.data)}),se.forEach(he=>L.current.delete(he)),BS(Ie===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let xe=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(BS(te==null||xe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!te||!xe){e&&Ie?e(()=>l(Z)):r===!1?l(Z):z.startTransition(()=>{r===!0&&d(he=>PS(he,Z)),l(Z)});return}if(e&&Ie){e(()=>{E&&(w?.resolve(),E.skipTransition()),b({isTransitioning:!0,flushSync:!0,currentLocation:te.currentLocation,nextLocation:te.nextLocation})});let he=t.window.document.startViewTransition(()=>{e(()=>l(Z))});he.finished.finally(()=>{e(()=>{v(void 0),x(void 0),p(void 0),b({isTransitioning:!1})})}),e(()=>x(he));return}E?(w?.resolve(),E.skipTransition(),A({state:Z,currentLocation:te.currentLocation,nextLocation:te.nextLocation})):(p(Z),b({isTransitioning:!0,flushSync:!1,currentLocation:te.currentLocation,nextLocation:te.nextLocation}))},[t.window,e,E,w,r,d,n]);z.useLayoutEffect(()=>t.subscribe($),[t,$]),z.useEffect(()=>{g.isTransitioning&&!g.flushSync&&v(new h_)},[g]),z.useEffect(()=>{if(w&&h&&t.window){let Z=h,se=w.promise,De=t.window.document.startViewTransition(async()=>{r===!1?l(Z):z.startTransition(()=>{r===!0&&d(Ie=>PS(Ie,Z)),l(Z)}),await se});De.finished.finally(()=>{v(void 0),x(void 0),p(void 0),b({isTransitioning:!1})}),x(De)}},[h,w,t.window,r,d]),z.useEffect(()=>{w&&h&&u.location.key===h.location.key&&w.resolve()},[w,E,u.location,h]),z.useEffect(()=>{!g.isTransitioning&&k&&(p(k.state),b({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),A(void 0))},[g.isTransitioning,k]);let P=z.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:Z=>t.navigate(Z),push:(Z,se,De)=>t.navigate(Z,{state:se,preventScrollReset:De?.preventScrollReset}),replace:(Z,se,De)=>t.navigate(Z,{replace:!0,state:se,preventScrollReset:De?.preventScrollReset})}),[t]),V=t.basename||"/",M=z.useMemo(()=>({router:t,navigator:P,static:!1,basename:V,onError:n}),[t,P,V,n]);return z.createElement(z.Fragment,null,z.createElement(oa.Provider,{value:M},z.createElement(gu.Provider,{value:u},z.createElement(Ak.Provider,{value:L.current},z.createElement(ib.Provider,{value:g},z.createElement(y_,{basename:V,location:u.location,navigationType:u.historyAction,navigator:P,unstable_useTransitions:r},z.createElement(m_,{routes:t.routes,future:t.future,state:u,onError:n})))))),null)}function PS(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var m_=z.memo(g_);function g_({routes:t,future:e,state:n,onError:r}){return XN(t,void 0,n,r,e)}function Lk({to:t,replace:e,state:n,relative:r}){nt(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=z.useContext(Or);tn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=z.useContext(ui),{pathname:l}=oo(),u=aa(),d=Nh(t,Rh(o),l,r==="path"),h=JSON.stringify(d);return z.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function zk(t){return WN(t.context)}function y_({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){nt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[u,i,o,l]);typeof n=="string"&&(n=so(n));let{pathname:h="/",search:p="",hash:g="",state:b=null,key:w="default"}=n,v=z.useMemo(()=>{let E=Jr(h,u);return E==null?null:{location:{pathname:E,search:p,hash:g,state:b,key:w},navigationType:r}},[u,h,p,g,b,w,r]);return tn(v!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:z.createElement(Or.Provider,{value:d},z.createElement(_h.Provider,{children:e,value:v}))}var pf="get",mf="application/x-www-form-urlencoded";function Dh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function b_(t){return Dh(t)&&t.tagName.toLowerCase()==="button"}function w_(t){return Dh(t)&&t.tagName.toLowerCase()==="form"}function v_(t){return Dh(t)&&t.tagName.toLowerCase()==="input"}function E_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function S_(t,e){return t.button===0&&(!e||e==="_self")&&!E_(t)}var Yd=null;function x_(){if(Yd===null)try{new FormData(document.createElement("form"),0),Yd=!1}catch{Yd=!0}return Yd}var k_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sg(t){return t!=null&&!k_.has(t)?(tn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mf}"`),null):t}function T_(t,e){let n,r,i,o,l;if(w_(t)){let u=t.getAttribute("action");r=u?Jr(u,e):null,n=t.getAttribute("method")||pf,i=Sg(t.getAttribute("enctype"))||mf,o=new FormData(t)}else if(b_(t)||v_(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?Jr(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||pf,i=Sg(t.getAttribute("formenctype"))||Sg(u.getAttribute("enctype"))||mf,o=new FormData(u,t),!x_()){let{name:h,type:p,value:g}=t;if(p==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,g)}}else{if(Dh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pf,r=null,i=mf,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C_(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Jr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function M_(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function O_(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await M_(o,n);return l.links?l.links():[]}return[]}));return D_(r.flat(1).filter(A_).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function US(t,e,n,r,i,o){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):o==="data"?e.filter((d,h)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function R_(t,e,{includeHydrateFallback:n}={}){return N_(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function N_(t){return[...new Set(t)]}function __(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function D_(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(__(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function Bk(){let t=z.useContext(oa);return lb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function L_(){let t=z.useContext(gu);return lb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cb=z.createContext(void 0);cb.displayName="FrameworkContext";function Ik(){let t=z.useContext(cb);return lb(t,"You must render this element inside a <HydratedRouter> element"),t}function z_(t,e){let n=z.useContext(cb),[r,i]=z.useState(!1),[o,l]=z.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,b=z.useRef(null);z.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=k=>{k.forEach(A=>{l(A.isIntersecting)})},x=new IntersectionObserver(E,{threshold:.5});return b.current&&x.observe(b.current),()=>{x.disconnect()}}},[t]),z.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{i(!0)},v=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Mc(u,w),onBlur:Mc(d,v),onMouseEnter:Mc(h,w),onMouseLeave:Mc(p,v),onTouchStart:Mc(g,w)}]:[!1,b,{}]}function Mc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function B_({page:t,...e}){let{router:n}=Bk(),r=z.useMemo(()=>qs(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?z.createElement(P_,{page:t,matches:r,...e}):null}function I_(t){let{manifest:e,routeModules:n}=Ik(),[r,i]=z.useState([]);return z.useEffect(()=>{let o=!1;return O_(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function P_({page:t,matches:e,...n}){let r=oo(),{manifest:i,routeModules:o}=Ik(),{basename:l}=Bk(),{loaderData:u,matches:d}=L_(),h=z.useMemo(()=>US(t,e,d,i,r,"data"),[t,e,d,i,r]),p=z.useMemo(()=>US(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,E=!1;if(e.forEach(k=>{let A=i.routes[k.route.id];!A||!A.hasLoader||(!h.some(L=>L.route.id===k.route.id)&&k.route.id in u&&o[k.route.id]?.shouldRevalidate||A.hasClientLoader?E=!0:v.add(k.route.id))}),v.size===0)return[];let x=C_(t,l,"data");return E&&v.size>0&&x.searchParams.set("_routes",e.filter(k=>v.has(k.route.id)).map(k=>k.route.id).join(",")),[x.pathname+x.search]},[l,u,r,i,h,e,t,o]),b=z.useMemo(()=>R_(p,i),[p,i]),w=I_(p);return z.createElement(z.Fragment,null,g.map(v=>z.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),b.map(v=>z.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),w.map(({key:v,link:E})=>z.createElement("link",{key:v,nonce:n.nonce,...E})))}function U_(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H_&&(window.__reactRouterVersion="7.11.0")}catch{}function $_(t,e){return mN({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:NR({window:e?.window}),hydrationData:j_(),routes:t,mapRouteProperties:d_,hydrationRouteProperties:f_,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function j_(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:q_(t.errors)}),t}function q_(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new pu(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var Pk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bu=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b,...w},v){let{basename:E,unstable_useTransitions:x}=z.useContext(Or),k=typeof h=="string"&&Pk.test(h),A=mk(h,E);h=A.to;let L=KN(h,{relative:i}),[$,P,V]=z_(r,w),M=K_(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g,unstable_defaultShouldRevalidate:b,unstable_useTransitions:x});function Z(De){e&&e(De),De.defaultPrevented||M(De)}let se=z.createElement("a",{...w,...V,href:A.absoluteURL||L,onClick:A.isExternal||o?e:Z,ref:U_(v,P),target:d,"data-discover":!k&&n==="render"?"true":void 0});return $&&!k?z.createElement(z.Fragment,null,se,z.createElement(B_,{page:L})):se});bu.displayName="Link";var Io=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...h},p){let g=yu(l,{relative:h.relative}),b=oo(),w=z.useContext(gu),{navigator:v,basename:E}=z.useContext(Or),x=w!=null&&Z_(g)&&u===!0,k=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,A=b.pathname,L=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(A=A.toLowerCase(),L=L?L.toLowerCase():null,k=k.toLowerCase()),L&&E&&(L=Jr(L,E)||L);const $=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let P=A===k||!i&&A.startsWith(k)&&A.charAt($)==="/",V=L!=null&&(L===k||!i&&L.startsWith(k)&&L.charAt(k.length)==="/"),M={isActive:P,isPending:V,isTransitioning:x},Z=P?e:void 0,se;typeof r=="function"?se=r(M):se=[r,P?"active":null,V?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let De=typeof o=="function"?o(M):o;return z.createElement(bu,{...h,"aria-current":Z,className:se,ref:p,style:De,to:l,viewTransition:u},typeof d=="function"?d(M):d)});Io.displayName="NavLink";var F_=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=pf,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b,...w},v)=>{let{unstable_useTransitions:E}=z.useContext(Or),x=W_(),k=X_(u,{relative:h}),A=l.toLowerCase()==="get"?"get":"post",L=typeof u=="string"&&Pk.test(u),$=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let V=P.nativeEvent.submitter,M=V?.getAttribute("formmethod")||l,Z=()=>x(V||P.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b});E&&n!==!1?z.startTransition(()=>Z()):Z()};return z.createElement("form",{ref:v,method:A,action:k,onSubmit:r?d:$,...w,"data-discover":!L&&t==="render"?"true":void 0})});F_.displayName="Form";function V_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uk(t){let e=z.useContext(oa);return nt(e,V_(t)),e}function K_(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let h=aa(),p=oo(),g=yu(t,{relative:o});return z.useCallback(b=>{if(S_(b,e)){b.preventDefault();let w=n!==void 0?n:ki(p)===ki(g),v=()=>h(t,{replace:w,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?z.startTransition(()=>v()):v()}},[p,h,g,n,r,e,t,i,o,l,u,d])}var G_=0,Y_=()=>`__${String(++G_)}__`;function W_(){let{router:t}=Uk("useSubmit"),{basename:e}=z.useContext(Or),n=s_(),r=t.fetch,i=t.navigate;return z.useCallback(async(o,l={})=>{let{action:u,method:d,encType:h,formData:p,body:g}=T_(o,e);if(l.navigate===!1){let b=l.fetcherKey||Y_();await r(b,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function X_(t,{relative:e}={}){let{basename:n}=z.useContext(Or),r=z.useContext(ui);nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...yu(t||".",{relative:e})},l=oo();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:xi([n,o.pathname])),ki(o)}function Z_(t,{relative:e}={}){let n=z.useContext(ib);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Uk("useViewTransitionState"),i=yu(t,{relative:e});if(!n.isTransitioning)return!1;let o=Jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tf(i.pathname,l)!=null||Tf(i.pathname,o)!=null}var ub=ak();const J_=Ah(ub);function Q_(t){return z.createElement(p_,{flushSync:ub.flushSync,...t})}function Hk(t,e){return function(){return t.apply(e,arguments)}}const{toString:eD}=Object.prototype,{getPrototypeOf:db}=Object,{iterator:Lh,toStringTag:$k}=Symbol,zh=(t=>e=>{const n=eD.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),di=t=>(t=t.toLowerCase(),e=>zh(e)===t),Bh=t=>e=>typeof e===t,{isArray:Sl}=Array,ul=Bh("undefined");function wu(t){return t!==null&&!ul(t)&&t.constructor!==null&&!ul(t.constructor)&&lr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jk=di("ArrayBuffer");function tD(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jk(t.buffer),e}const nD=Bh("string"),lr=Bh("function"),qk=Bh("number"),vu=t=>t!==null&&typeof t=="object",rD=t=>t===!0||t===!1,gf=t=>{if(zh(t)!=="object")return!1;const e=db(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($k in t)&&!(Lh in t)},iD=t=>{if(!vu(t)||wu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},sD=di("Date"),oD=di("File"),aD=di("Blob"),lD=di("FileList"),cD=t=>vu(t)&&lr(t.pipe),uD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||lr(t.append)&&((e=zh(t))==="formdata"||e==="object"&&lr(t.toString)&&t.toString()==="[object FormData]"))},dD=di("URLSearchParams"),[fD,hD,pD,mD]=["ReadableStream","Request","Response","Headers"].map(di),gD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Sl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(wu(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,t[u],u,t)}}function Fk(t,e){if(wu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ho=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vk=t=>!ul(t)&&t!==Ho;function hy(){const{caseless:t,skipUndefined:e}=Vk(this)&&this||{},n={},r=(i,o)=>{const l=t&&Fk(n,o)||o;gf(n[l])&&gf(i)?n[l]=hy(n[l],i):gf(i)?n[l]=hy({},i):Sl(i)?n[l]=i.slice():(!e||!ul(i))&&(n[l]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Eu(arguments[i],r);return n}const yD=(t,e,n,{allOwnKeys:r}={})=>(Eu(e,(i,o)=>{n&&lr(i)?t[o]=Hk(i,n):t[o]=i},{allOwnKeys:r}),t),bD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wD=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},vD=(t,e,n,r)=>{let i,o,l;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&db(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ED=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},SD=t=>{if(!t)return null;if(Sl(t))return t;let e=t.length;if(!qk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},xD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&db(Uint8Array)),kD=(t,e)=>{const r=(t&&t[Lh]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},TD=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},CD=di("HTMLFormElement"),MD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),HS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),AD=di("RegExp"),Kk=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Eu(n,(i,o)=>{let l;(l=e(i,o,t))!==!1&&(r[o]=l||i)}),Object.defineProperties(t,r)},OD=t=>{Kk(t,(e,n)=>{if(lr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(lr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RD=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Sl(t)?r(t):r(String(t).split(e)),n},ND=()=>{},_D=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function DD(t){return!!(t&&lr(t.append)&&t[$k]==="FormData"&&t[Lh])}const LD=t=>{const e=new Array(10),n=(r,i)=>{if(vu(r)){if(e.indexOf(r)>=0)return;if(wu(r))return r;if(!("toJSON"in r)){e[i]=r;const o=Sl(r)?[]:{};return Eu(r,(l,u)=>{const d=n(l,i+1);!ul(d)&&(o[u]=d)}),e[i]=void 0,o}}return r};return n(t,0)},zD=di("AsyncFunction"),BD=t=>t&&(vu(t)||lr(t))&&lr(t.then)&&lr(t.catch),Gk=((t,e)=>t?setImmediate:e?((n,r)=>(Ho.addEventListener("message",({source:i,data:o})=>{i===Ho&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ho.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",lr(Ho.postMessage)),ID=typeof queueMicrotask<"u"?queueMicrotask.bind(Ho):typeof process<"u"&&process.nextTick||Gk,PD=t=>t!=null&&lr(t[Lh]),G={isArray:Sl,isArrayBuffer:jk,isBuffer:wu,isFormData:uD,isArrayBufferView:tD,isString:nD,isNumber:qk,isBoolean:rD,isObject:vu,isPlainObject:gf,isEmptyObject:iD,isReadableStream:fD,isRequest:hD,isResponse:pD,isHeaders:mD,isUndefined:ul,isDate:sD,isFile:oD,isBlob:aD,isRegExp:AD,isFunction:lr,isStream:cD,isURLSearchParams:dD,isTypedArray:xD,isFileList:lD,forEach:Eu,merge:hy,extend:yD,trim:gD,stripBOM:bD,inherits:wD,toFlatObject:vD,kindOf:zh,kindOfTest:di,endsWith:ED,toArray:SD,forEachEntry:kD,matchAll:TD,isHTMLForm:CD,hasOwnProperty:HS,hasOwnProp:HS,reduceDescriptors:Kk,freezeMethods:OD,toObjectSet:RD,toCamelCase:MD,noop:ND,toFiniteNumber:_D,findKey:Fk,global:Ho,isContextDefined:Vk,isSpecCompliantForm:DD,toJSONObject:LD,isAsyncFn:zD,isThenable:BD,setImmediate:Gk,asap:ID,isIterable:PD};function Ze(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Yk=Ze.prototype,Wk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Wk[t]={value:t}});Object.defineProperties(Ze,Wk);Object.defineProperty(Yk,"isAxiosError",{value:!0});Ze.from=(t,e,n,r,i,o)=>{const l=Object.create(Yk);G.toFlatObject(t,l,function(p){return p!==Error.prototype},h=>h!=="isAxiosError");const u=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return Ze.call(l,u,d,n,r,i),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",o&&Object.assign(l,o),l};const UD=null;function py(t){return G.isPlainObject(t)||G.isArray(t)}function Xk(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function $S(t,e,n){return t?t.concat(e).map(function(i,o){return i=Xk(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function HD(t){return G.isArray(t)&&!t.some(py)}const $D=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function Ih(t,e,n){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,x){return!G.isUndefined(x[E])});const r=n.metaTokens,i=n.visitor||p,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(G.isDate(v))return v.toISOString();if(G.isBoolean(v))return v.toString();if(!d&&G.isBlob(v))throw new Ze("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(v)||G.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,E,x){let k=v;if(v&&!x&&typeof v=="object"){if(G.endsWith(E,"{}"))E=r?E:E.slice(0,-2),v=JSON.stringify(v);else if(G.isArray(v)&&HD(v)||(G.isFileList(v)||G.endsWith(E,"[]"))&&(k=G.toArray(v)))return E=Xk(E),k.forEach(function(L,$){!(G.isUndefined(L)||L===null)&&e.append(l===!0?$S([E],$,o):l===null?E:E+"[]",h(L))}),!1}return py(v)?!0:(e.append($S(x,E,o),h(v)),!1)}const g=[],b=Object.assign($D,{defaultVisitor:p,convertValue:h,isVisitable:py});function w(v,E){if(!G.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+E.join("."));g.push(v),G.forEach(v,function(k,A){(!(G.isUndefined(k)||k===null)&&i.call(e,k,G.isString(A)?A.trim():A,E,b))===!0&&w(k,E?E.concat(A):[A])}),g.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return w(t),e}function jS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function fb(t,e){this._pairs=[],t&&Ih(t,this,e)}const Zk=fb.prototype;Zk.append=function(e,n){this._pairs.push([e,n])};Zk.toString=function(e){const n=e?function(r){return e.call(this,r,jS)}:jS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function jD(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Jk(t,e,n){if(!e)return t;const r=n&&n.encode||jD;G.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=G.isURLSearchParams(e)?e.toString():new fb(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class qS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Qk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qD=typeof URLSearchParams<"u"?URLSearchParams:fb,FD=typeof FormData<"u"?FormData:null,VD=typeof Blob<"u"?Blob:null,KD={isBrowser:!0,classes:{URLSearchParams:qD,FormData:FD,Blob:VD},protocols:["http","https","file","blob","url","data"]},hb=typeof window<"u"&&typeof document<"u",my=typeof navigator=="object"&&navigator||void 0,GD=hb&&(!my||["ReactNative","NativeScript","NS"].indexOf(my.product)<0),YD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WD=hb&&window.location.href||"http://localhost",XD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hb,hasStandardBrowserEnv:GD,hasStandardBrowserWebWorkerEnv:YD,navigator:my,origin:WD},Symbol.toStringTag,{value:"Module"})),qn={...XD,...KD};function ZD(t,e){return Ih(t,new qn.classes.URLSearchParams,{visitor:function(n,r,i,o){return qn.isNode&&G.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function JD(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function QD(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function eT(t){function e(n,r,i,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=n.length;return l=!l&&G.isArray(i)?i.length:l,d?(G.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!G.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],o)&&G.isArray(i[l])&&(i[l]=QD(i[l])),!u)}if(G.isFormData(t)&&G.isFunction(t.entries)){const n={};return G.forEachEntry(t,(r,i)=>{e(JD(r),i,n,0)}),n}return null}function eL(t,e,n){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Su={transitional:Qk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=G.isObject(e);if(o&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i?JSON.stringify(eT(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ZD(e,this.formSerializer).toString();if((u=G.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ih(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),eL(e)):e}],transformResponse:[function(e){const n=this.transitional||Su.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Ze.from(u,Ze.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{Su.headers[t]={}});const tL=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nL=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&tL[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},FS=Symbol("internals");function Ac(t){return t&&String(t).trim().toLowerCase()}function yf(t){return t===!1||t==null?t:G.isArray(t)?t.map(yf):String(t)}function rL(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const iL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xg(t,e,n,r,i){if(G.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!G.isString(e)){if(G.isString(r))return e.indexOf(r)!==-1;if(G.isRegExp(r))return r.test(e)}}function sL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function oL(t,e){const n=G.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let cr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(u,d,h){const p=Ac(d);if(!p)throw new Error("header name must be a non-empty string");const g=G.findKey(i,p);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||d]=yf(u))}const l=(u,d)=>G.forEach(u,(h,p)=>o(h,p,d));if(G.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(G.isString(e)&&(e=e.trim())&&!iL(e))l(nL(e),n);else if(G.isObject(e)&&G.isIterable(e)){let u={},d,h;for(const p of e){if(!G.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(d=u[h])?G.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Ac(e),e){const r=G.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return rL(i);if(G.isFunction(n))return n.call(this,i,r);if(G.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ac(e),e){const r=G.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||xg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(l){if(l=Ac(l),l){const u=G.findKey(r,l);u&&(!n||xg(r,r[u],u,n))&&(delete r[u],i=!0)}}return G.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||xg(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return G.forEach(this,(i,o)=>{const l=G.findKey(r,o);if(l){n[l]=yf(i),delete n[o];return}const u=e?sL(o):String(o).trim();u!==o&&delete n[o],n[u]=yf(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return G.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&G.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[FS]=this[FS]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=Ac(l);r[u]||(oL(i,l),r[u]=!0)}return G.isArray(e)?e.forEach(o):o(e),this}};cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(cr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});G.freezeMethods(cr);function kg(t,e){const n=this||Su,r=e||n,i=cr.from(r.headers);let o=r.data;return G.forEach(t,function(u){o=u.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function tT(t){return!!(t&&t.__CANCEL__)}function xl(t,e,n){Ze.call(this,t??"canceled",Ze.ERR_CANCELED,e,n),this.name="CanceledError"}G.inherits(xl,Ze,{__CANCEL__:!0});function nT(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ze("Request failed with status code "+n.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function aL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function lL(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),p=r[o];l||(l=h),n[i]=d,r[i]=h;let g=o,b=0;for(;g!==i;)b+=n[g++],g=g%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),h-l<e)return;const w=p&&h-p;return w?Math.round(b*1e3/w):void 0}}function cL(t,e){let n=0,r=1e3/e,i,o;const l=(h,p=Date.now())=>{n=p,i=null,o&&(clearTimeout(o),o=null),t(...h)};return[(...h)=>{const p=Date.now(),g=p-n;g>=r?l(h,p):(i=h,o||(o=setTimeout(()=>{o=null,l(i)},r-g)))},()=>i&&l(i)]}const Cf=(t,e,n=3)=>{let r=0;const i=lL(50,250);return cL(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-r,h=i(d),p=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&p?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},VS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},KS=t=>(...e)=>G.asap(()=>t(...e)),uL=qn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,qn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,dL=qn.hasStandardBrowserEnv?{write(t,e,n,r,i,o,l){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];G.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),G.isString(r)&&u.push(`path=${r}`),G.isString(i)&&u.push(`domain=${i}`),o===!0&&u.push("secure"),G.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function fL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function hL(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function rT(t,e,n){let r=!fL(e);return t&&(r||n==!1)?hL(t,e):e}const GS=t=>t instanceof cr?{...t}:t;function Jo(t,e){e=e||{};const n={};function r(h,p,g,b){return G.isPlainObject(h)&&G.isPlainObject(p)?G.merge.call({caseless:b},h,p):G.isPlainObject(p)?G.merge({},p):G.isArray(p)?p.slice():p}function i(h,p,g,b){if(G.isUndefined(p)){if(!G.isUndefined(h))return r(void 0,h,g,b)}else return r(h,p,g,b)}function o(h,p){if(!G.isUndefined(p))return r(void 0,p)}function l(h,p){if(G.isUndefined(p)){if(!G.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function u(h,p,g){if(g in e)return r(h,p);if(g in t)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,p,g)=>i(GS(h),GS(p),g,!0)};return G.forEach(Object.keys({...t,...e}),function(p){const g=d[p]||i,b=g(t[p],e[p],p);G.isUndefined(b)&&g!==u||(n[p]=b)}),n}const iT=t=>{const e=Jo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=e;if(e.headers=l=cr.from(l),e.url=Jk(rT(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),G.isFormData(n)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(G.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([p,g])=>{h.includes(p.toLowerCase())&&l.set(p,g)})}}if(qn.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(e)),r||r!==!1&&uL(e.url))){const d=i&&o&&dL.read(o);d&&l.set(i,d)}return e},pL=typeof XMLHttpRequest<"u",mL=pL&&function(t){return new Promise(function(n,r){const i=iT(t);let o=i.data;const l=cr.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,p,g,b,w,v;function E(){w&&w(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function k(){if(!x)return;const L=cr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),P={data:!u||u==="text"||u==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:L,config:t,request:x};nT(function(M){n(M),E()},function(M){r(M),E()},P),x=null}"onloadend"in x?x.onloadend=k:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(k)},x.onabort=function(){x&&(r(new Ze("Request aborted",Ze.ECONNABORTED,t,x)),x=null)},x.onerror=function($){const P=$&&$.message?$.message:"Network Error",V=new Ze(P,Ze.ERR_NETWORK,t,x);V.event=$||null,r(V),x=null},x.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||Qk;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new Ze($,P.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,t,x)),x=null},o===void 0&&l.setContentType(null),"setRequestHeader"in x&&G.forEach(l.toJSON(),function($,P){x.setRequestHeader(P,$)}),G.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),u&&u!=="json"&&(x.responseType=i.responseType),h&&([b,v]=Cf(h,!0),x.addEventListener("progress",b)),d&&x.upload&&([g,w]=Cf(d),x.upload.addEventListener("progress",g),x.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(p=L=>{x&&(r(!L||L.type?new xl(null,t,x):L),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const A=aL(i.url);if(A&&qn.protocols.indexOf(A)===-1){r(new Ze("Unsupported protocol "+A+":",Ze.ERR_BAD_REQUEST,t));return}x.send(o||null)})},gL=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(h){if(!i){i=!0,u();const p=h instanceof Error?h:this.reason;r.abort(p instanceof Ze?p:new xl(p instanceof Error?p.message:p))}};let l=e&&setTimeout(()=>{l=null,o(new Ze(`timeout ${e} of ms exceeded`,Ze.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>G.asap(u),d}},yL=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},bL=async function*(t,e){for await(const n of wL(t))yield*yL(n,e)},wL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},YS=(t,e,n,r)=>{const i=bL(t,e);let o=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:p}=await i.next();if(h){u(),d.close();return}let g=p.byteLength;if(n){let b=o+=g;n(b)}d.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},WS=64*1024,{isFunction:Wd}=G,vL=(({Request:t,Response:e})=>({Request:t,Response:e}))(G.global),{ReadableStream:XS,TextEncoder:ZS}=G.global,JS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},EL=t=>{t=G.merge.call({skipUndefined:!0},vL,t);const{fetch:e,Request:n,Response:r}=t,i=e?Wd(e):typeof fetch=="function",o=Wd(n),l=Wd(r);if(!i)return!1;const u=i&&Wd(XS),d=i&&(typeof ZS=="function"?(v=>E=>v.encode(E))(new ZS):async v=>new Uint8Array(await new n(v).arrayBuffer())),h=o&&u&&JS(()=>{let v=!1;const E=new n(qn.origin,{body:new XS,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!E}),p=l&&u&&JS(()=>G.isReadableStream(new r("").body)),g={stream:p&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!g[v]&&(g[v]=(E,x)=>{let k=E&&E[v];if(k)return k.call(E);throw new Ze(`Response type '${v}' is not supported`,Ze.ERR_NOT_SUPPORT,x)})});const b=async v=>{if(v==null)return 0;if(G.isBlob(v))return v.size;if(G.isSpecCompliantForm(v))return(await new n(qn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(G.isArrayBufferView(v)||G.isArrayBuffer(v))return v.byteLength;if(G.isURLSearchParams(v)&&(v=v+""),G.isString(v))return(await d(v)).byteLength},w=async(v,E)=>{const x=G.toFiniteNumber(v.getContentLength());return x??b(E)};return async v=>{let{url:E,method:x,data:k,signal:A,cancelToken:L,timeout:$,onDownloadProgress:P,onUploadProgress:V,responseType:M,headers:Z,withCredentials:se="same-origin",fetchOptions:De}=iT(v),Ie=e||fetch;M=M?(M+"").toLowerCase():"text";let te=gL([A,L&&L.toAbortSignal()],$),xe=null;const he=te&&te.unsubscribe&&(()=>{te.unsubscribe()});let ge;try{if(V&&h&&x!=="get"&&x!=="head"&&(ge=await w(Z,k))!==0){let O=new n(E,{method:"POST",body:k,duplex:"half"}),K;if(G.isFormData(k)&&(K=O.headers.get("content-type"))&&Z.setContentType(K),O.body){const[le,fe]=VS(ge,Cf(KS(V)));k=YS(O.body,WS,le,fe)}}G.isString(se)||(se=se?"include":"omit");const B=o&&"credentials"in n.prototype,ie={...De,signal:te,method:x.toUpperCase(),headers:Z.normalize().toJSON(),body:k,duplex:"half",credentials:B?se:void 0};xe=o&&new n(E,ie);let ee=await(o?Ie(xe,De):Ie(E,ie));const Ee=p&&(M==="stream"||M==="response");if(p&&(P||Ee&&he)){const O={};["status","statusText","headers"].forEach(Ae=>{O[Ae]=ee[Ae]});const K=G.toFiniteNumber(ee.headers.get("content-length")),[le,fe]=P&&VS(K,Cf(KS(P),!0))||[];ee=new r(YS(ee.body,WS,le,()=>{fe&&fe(),he&&he()}),O)}M=M||"text";let Le=await g[G.findKey(g,M)||"text"](ee,v);return!Ee&&he&&he(),await new Promise((O,K)=>{nT(O,K,{data:Le,headers:cr.from(ee.headers),status:ee.status,statusText:ee.statusText,config:v,request:xe})})}catch(B){throw he&&he(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,v,xe),{cause:B.cause||B}):Ze.from(B,B&&B.code,v,xe)}}},SL=new Map,sT=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let l=o.length,u=l,d,h,p=SL;for(;u--;)d=o[u],h=p.get(d),h===void 0&&p.set(d,h=u?new Map:EL(e)),p=h;return h};sT();const pb={http:UD,xhr:mL,fetch:{get:sT}};G.forEach(pb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const QS=t=>`- ${t}`,xL=t=>G.isFunction(t)||t===null||t===!1;function kL(t,e){t=G.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let l=0;l<n;l++){r=t[l];let u;if(i=r,!xL(r)&&(i=pb[(u=String(r)).toLowerCase()],i===void 0))throw new Ze(`Unknown adapter '${u}'`);if(i&&(G.isFunction(i)||(i=i.get(e))))break;o[u||"#"+l]=i}if(!i){const l=Object.entries(o).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?l.length>1?`since :
`+l.map(QS).join(`
`):" "+QS(l[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const oT={getAdapter:kL,adapters:pb};function Tg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xl(null,t)}function ex(t){return Tg(t),t.headers=cr.from(t.headers),t.data=kg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),oT.getAdapter(t.adapter||Su.adapter,t)(t).then(function(r){return Tg(t),r.data=kg.call(t,t.transformResponse,r),r.headers=cr.from(r.headers),r},function(r){return tT(r)||(Tg(t),r&&r.response&&(r.response.data=kg.call(t,t.transformResponse,r.response),r.response.headers=cr.from(r.response.headers))),Promise.reject(r)})}const aT="1.13.2",Ph={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ph[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const tx={};Ph.transitional=function(e,n,r){function i(o,l){return"[Axios v"+aT+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new Ze(i(l," has been removed"+(n?" in "+n:"")),Ze.ERR_DEPRECATED);return n&&!tx[l]&&(tx[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};Ph.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function TL(t,e,n){if(typeof t!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const u=t[o],d=u===void 0||l(u,o,t);if(d!==!0)throw new Ze("option "+o+" must be "+d,Ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ze("Unknown option "+o,Ze.ERR_BAD_OPTION)}}const bf={assertOptions:TL,validators:Ph},yi=bf.validators;let Vo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new qS,response:new qS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Jo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&bf.assertOptions(r,{silentJSONParsing:yi.transitional(yi.boolean),forcedJSONParsing:yi.transitional(yi.boolean),clarifyTimeoutError:yi.transitional(yi.boolean)},!1),i!=null&&(G.isFunction(i)?n.paramsSerializer={serialize:i}:bf.assertOptions(i,{encode:yi.function,serialize:yi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),bf.assertOptions(n,{baseUrl:yi.spelling("baseURL"),withXsrfToken:yi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&G.merge(o.common,o[n.method]);o&&G.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),n.headers=cr.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(d=d&&E.synchronous,u.unshift(E.fulfilled,E.rejected))});const h=[];this.interceptors.response.forEach(function(E){h.push(E.fulfilled,E.rejected)});let p,g=0,b;if(!d){const v=[ex.bind(this),void 0];for(v.unshift(...u),v.push(...h),b=v.length,p=Promise.resolve(n);g<b;)p=p.then(v[g++],v[g++]);return p}b=u.length;let w=n;for(;g<b;){const v=u[g++],E=u[g++];try{w=v(w)}catch(x){E.call(this,x);break}}try{p=ex.call(this,w)}catch(v){return Promise.reject(v)}for(g=0,b=h.length;g<b;)p=p.then(h[g++],h[g++]);return p}getUri(e){e=Jo(this.defaults,e);const n=rT(e.baseURL,e.url,e.allowAbsoluteUrls);return Jk(n,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){Vo.prototype[e]=function(n,r){return this.request(Jo(r||{},{method:e,url:n,data:(r||{}).data}))}});G.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,u){return this.request(Jo(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Vo.prototype[e]=n(),Vo.prototype[e+"Form"]=n(!0)});let CL=class lT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new xl(o,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new lT(function(i){e=i}),cancel:e}}};function ML(t){return function(n){return t.apply(null,n)}}function AL(t){return G.isObject(t)&&t.isAxiosError===!0}const gy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(gy).forEach(([t,e])=>{gy[e]=t});function cT(t){const e=new Vo(t),n=Hk(Vo.prototype.request,e);return G.extend(n,Vo.prototype,e,{allOwnKeys:!0}),G.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return cT(Jo(t,i))},n}const an=cT(Su);an.Axios=Vo;an.CanceledError=xl;an.CancelToken=CL;an.isCancel=tT;an.VERSION=aT;an.toFormData=Ih;an.AxiosError=Ze;an.Cancel=an.CanceledError;an.all=function(e){return Promise.all(e)};an.spread=ML;an.isAxiosError=AL;an.mergeConfig=Jo;an.AxiosHeaders=cr;an.formToJSON=t=>eT(G.isHTMLForm(t)?new FormData(t):t);an.getAdapter=oT.getAdapter;an.HttpStatusCode=gy;an.default=an;const{Axios:hq,AxiosError:pq,CanceledError:mq,isCancel:gq,CancelToken:yq,VERSION:bq,all:wq,Cancel:vq,isAxiosError:Eq,spread:Sq,toFormData:xq,AxiosHeaders:kq,HttpStatusCode:Tq,formToJSON:Cq,getAdapter:Mq,mergeConfig:Aq}=an,uT="http://localhost:8080",OL=t=>t?t.startsWith("http")?t:`${uT}${t}`:null,Ai=an.create({baseURL:uT,headers:{"Content-Type":"application/json"}});Ai.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Ai.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)));const RL=t=>Ai.post("/api/auth/signup",t).then(e=>e.data),NL=t=>Ai.post("/api/auth/login",t),mb=()=>Ai.get("/api/auth/me"),_L=t=>Ai.post("/api/auth/logout",t),DL=t=>Ai.post("/api/auth/kakao",{code:t}),nx=(t=0,e=10)=>Ai.get(`/api/posts?page=${t}&size=${e}`),LL=t=>Ai.post("/api/posts",t),zL=t=>{const e=new FormData;return e.append("file",t),Ai.post("/api/files/upload",e,{headers:{"Content-Type":"multipart/form-data"}})},dT=z.createContext(null),BL=({children:t})=>{const[e,n]=z.useState(null),[r,i]=z.useState(!0),o=aa();z.useEffect(()=>{localStorage.getItem("token")?mb().then(p=>{n(p.data.data)}).catch(()=>{localStorage.removeItem("token")}).finally(()=>{i(!1)}):i(!1)},[]);const d={user:e,setUser:n,loading:r,isAuthenticated:!!e,login:(h,p)=>{localStorage.setItem("token",h),n(p)},logout:async()=>{try{await _L()}catch(h){console.error("  :",h)}finally{localStorage.removeItem("token"),n(null),alert(" ."),o("/login")}}};return F.jsx(dT.Provider,{value:d,children:t})},xu=()=>{const t=z.useContext(dT);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};function IL(){const{isAuthenticated:t,logout:e,user:n}=xu(),r=({isActive:o})=>({marginRight:"15px",fontWeight:o?"bold":"normal",color:o?"blue":"black",textDecoration:"none"}),i={marginRight:"15px",fontWeight:"normal",color:"black",background:"none",border:"none",cursor:"pointer",padding:0,fontFamily:"inherit",fontSize:"inherit"};return F.jsxs("div",{children:[F.jsxs("nav",{style:{padding:"10px",backgroundColor:"#eee"},children:[F.jsx(Io,{to:"/",style:r,children:"SNS"}),F.jsx(Io,{to:"/posts",style:r,children:""}),t?F.jsxs(F.Fragment,{children:[F.jsx(Io,{to:"/profile",style:r,children:""}),F.jsx(Io,{to:"/posts/new",style:r,children:"  "}),F.jsx("button",{onClick:e,style:i,children:""})]}):F.jsxs(F.Fragment,{children:[F.jsx(Io,{to:"/login",style:r,children:""}),F.jsx(Io,{to:"/signup",style:r,children:""})]})]}),F.jsx("div",{style:{padding:"20px"},children:F.jsx(zk,{})})]})}const PL=()=>{const t=aa(),[e,n]=z.useState({username:"",password:"",passwordConfirm:"",name:"",phone:""}),[r,i]=z.useState(""),[o,l]=z.useState(!1),u=h=>{const{name:p,value:g}=h.target;n(b=>({...b,[p]:g})),i("")},d=async h=>{h.preventDefault(),i("");const p=["username","password","passwordConfirm","name","phone"];for(const g of p)if(!e[g]){i("   .");return}if(e.password!==e.passwordConfirm){i("    .");return}if(e.password.length<8){i("  8  .");return}if(e.username.length<3||e.username.length>20){i(" 3 ~ 20 .");return}try{await RL(e),alert(" . ."),t("/login")}catch(g){i(g.response?.data?.error?.message||" .")}finally{l(!1)}};return F.jsx("div",{className:"auth-container",children:F.jsxs("div",{className:"auth-box",children:[F.jsx("h1",{className:"auth-logo",children:"DEVSO"}),F.jsx("p",{className:"auth-subtitle",children:" SNS"}),F.jsxs("form",{onSubmit:d,className:"auth-form",children:[F.jsx("input",{type:"text",name:"username",placeholder:" (3~20, )",value:e.username,onChange:u,required:!0,minLength:3,maxLength:20}),F.jsx("input",{type:"password",name:"password",placeholder:" (8 , )",value:e.password,onChange:u,required:!0,minLength:8}),F.jsx("input",{type:"password",name:"passwordConfirm",placeholder:"  ()",value:e.passwordConfirm,onChange:u,required:!0,minLength:8}),F.jsx("input",{type:"text",name:"name",placeholder:" ()",value:e.name,onChange:u,required:!0}),F.jsx("input",{type:"tel",name:"phone",placeholder:" ()",value:e.phone,onChange:u,required:!0,maxLength:30,pattern:"[0-9]{2,3}-[0-9]{3,4}-[0-9]{4}"}),r&&F.jsx("p",{className:"error-message",children:r}),F.jsx("button",{type:"submit",disabled:o,children:o?" ...":""})]}),F.jsxs("p",{className:"auth-link",children:[" ? ",F.jsx(bu,{to:"/login",children:""})]})]})})},UL=()=>{const t=aa(),{login:e}=xu(),[n,r]=z.useState({username:"",password:""}),[i,o]=z.useState(""),[l,u]=z.useState(!1),d=()=>{const g="https://kauth.kakao.com/oauth/authorize?client_id=undefined&redirect_uri=undefined&response_type=code";window.location.href=g},h=g=>{const{name:b,value:w}=g.target;r(v=>({...v,[b]:w})),o("")},p=async g=>{g.preventDefault(),u(!0),o("");try{const b=await NL(n),{accessToken:w}=b.data.data;localStorage.setItem("token",w);const v=await mb();e(w,v.data.data),t("/")}catch(b){o(b.response?.data?.error?.message||" .")}finally{u(!1)}};return F.jsx("div",{className:"auth-container",children:F.jsxs("div",{className:"auth-box",children:[F.jsx("h1",{className:"auth-logo",children:"DEVSO"}),F.jsxs("form",{onSubmit:p,className:"auth-form",children:[F.jsx("input",{type:"text",name:"username",placeholder:"",value:n.username,onChange:h,required:!0}),F.jsx("input",{type:"password",name:"password",placeholder:"",value:n.password,onChange:h,required:!0}),i&&F.jsx("p",{className:"error-message",children:i}),F.jsx("button",{type:"submit",disabled:l,children:l?" ...":""})]}),F.jsx("div",{className:"divider",children:F.jsx("span",{children:""})}),F.jsxs("button",{type:"button",onClick:d,className:"kakao-login-btn",children:[F.jsx("span",{className:"kakao-icon",children:"K"})," "]}),F.jsxs("p",{className:"auth-link",children:[" ? ",F.jsx(bu,{to:"/signup",children:""})]})]})})},HL=()=>{const t=aa(),{login:e}=xu(),[n,r]=z.useState(""),i=z.useRef(!1);z.useEffect(()=>{if(i.current)return;const l=new URLSearchParams(window.location.search).get("code");if(new URLSearchParams(window.location.search).get("error")){t("/login");return}l&&(i.current=!0,o(l))},[]);const o=async l=>{try{const u=await DL(l),{accessToken:d}=u.data.data;localStorage.setItem("token",d);const h=await mb();e(d,h.data.data),t("/")}catch(u){console.error("  :",u),r("  ."),setTimeout(()=>t("/login"),2e3)}};return n?F.jsx("div",{className:"auth-container",children:F.jsx("div",{className:"auth-box",children:F.jsx("p",{className:"error-message",children:n})})}):F.jsx("div",{className:"auth-container",children:F.jsx("div",{className:"auth-box",children:F.jsx("p",{children:"  ..."})})})};var Cg={exports:{}},Mg={};var rx;function $L(){if(rx)return Mg;rx=1;var t=hu();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var w=b(),v=r({inst:{value:w,getSnapshot:b}}),E=v[0].inst,x=v[1];return o(function(){E.value=w,E.getSnapshot=b,d(E)&&x({inst:E})},[g,w,b]),i(function(){return d(E)&&x({inst:E}),g(function(){d(E)&&x({inst:E})})},[g]),l(w),w}function d(g){var b=g.getSnapshot;g=g.value;try{var w=b();return!n(g,w)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Mg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Mg}var ix;function fT(){return ix||(ix=1,Cg.exports=$L()),Cg.exports}var hT=fT();function zn(t){this.content=t}zn.prototype={constructor:zn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new zn(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new zn(n)},addToStart:function(t,e){return new zn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new zn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new zn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=zn.from(t),t.size?new zn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=zn.from(t),t.size?new zn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=zn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};zn.from=function(t){if(t instanceof zn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new zn(e)};function pT(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let l=0;i.text[l]==o.text[l];l++)n++;return n}if(i.content.size||o.content.size){let l=pT(i.content,o.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function mT(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let l=t.child(--i),u=e.child(--o),d=l.nodeSize;if(l==u){n-=d,r-=d;continue}if(!l.sameMarkup(u))return{a:n,b:r};if(l.isText&&l.text!=u.text){let h=0,p=Math.min(l.text.length,u.text.length);for(;h<p&&l.text[l.text.length-h-1]==u.text[u.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(l.content.size||u.content.size){let h=mT(l.content,u.content,n-1,r-1);if(h)return h}n-=d,r-=d}}class ae{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let l=0,u=0;u<n;l++){let d=this.content[l],h=u+d.nodeSize;if(h>e&&r(d,i+u,o||null,l)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,i+p)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",l=!0;return this.nodesBetween(e,n,(u,d)=>{let h=u.isText?u.text.slice(Math.max(e,d)-d,n-d):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(l?l=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new ae(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,l=0;l<n;o++){let u=this.content[o],d=l+u.nodeSize;d>e&&((l<e||d>n)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,n-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,n-l-1))),r.push(u),i+=u.nodeSize),l=d}return new ae(r,i)}cutByIndex(e,n){return e==n?ae.empty:e==0&&n==this.content.length?this:new ae(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ae(i,o)}addToStart(e){return new ae([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ae(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return pT(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return mT(this,e,n,r)}findIndex(e){if(e==0)return Xd(0,e);if(e==this.size)return Xd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e?Xd(n+1,o):Xd(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ae.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ae(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ae.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new ae(n||e,r)}static from(e){if(!e)return ae.empty;if(e instanceof ae)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ae([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ae.empty=new ae([],0);const Ag={index:0,offset:0};function Xd(t,e){return Ag.index=t,Ag.offset=e,Ag}function Mf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Mf(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Mf(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Dt=class yy{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Mf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return yy.none;if(e instanceof yy)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Dt.none=[];class Af extends Error{}class ve{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=yT(this.content,e+this.openStart,n);return r&&new ve(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ve(gT(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ve.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ve(ae.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new ve(e,r,i)}}ve.empty=new ve(ae.empty,0,0);function gT(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:l,offset:u}=t.findIndex(n);if(i==e||o.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(gT(o.content,e-i-1,n-i-1)))}function yT(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),l=t.maybeChild(i);if(o==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=yT(l.content,e-o-1,n,l);return u&&t.replaceChild(i,l.copy(u))}function jL(t,e,n){if(n.openStart>t.depth)throw new Af("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Af("Inconsistent open depths");return bT(t,e,n,0)}function bT(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=bT(t,e,n,r+1);return o.copy(o.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,u=l.content;return Go(l,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:l,end:u}=qL(n,t);return Go(o,vT(t,l,u,e,r))}else return Go(o,Of(t,e,r))}function wT(t,e){if(!e.type.compatibleContent(t.type))throw new Af("Cannot join "+e.type.name+" onto "+t.type.name)}function by(t,e,n){let r=t.node(n);return wT(r,e.node(n)),r}function Ko(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function jc(t,e,n,r){let i=(e||t).node(n),o=0,l=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Ko(t.nodeAfter,r),o++));for(let u=o;u<l;u++)Ko(i.child(u),r);e&&e.depth==n&&e.textOffset&&Ko(e.nodeBefore,r)}function Go(t,e){return t.type.checkContent(e),t.copy(e)}function vT(t,e,n,r,i){let o=t.depth>i&&by(t,e,i+1),l=r.depth>i&&by(n,r,i+1),u=[];return jc(null,t,i,u),o&&l&&e.index(i)==n.index(i)?(wT(o,l),Ko(Go(o,vT(t,e,n,r,i+1)),u)):(o&&Ko(Go(o,Of(t,e,i+1)),u),jc(e,n,i,u),l&&Ko(Go(l,Of(n,r,i+1)),u)),jc(r,null,i,u),new ae(u)}function Of(t,e,n){let r=[];if(jc(null,t,n,r),t.depth>n){let i=by(t,e,n+1);Ko(Go(i,Of(t,e,n+1)),r)}return jc(e,null,n,r),new ae(r)}function qL(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(ae.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class nu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Dt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let u=r;r=i,i=u}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!i||!o[l].isInSet(i.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Rf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let l=e;;){let{index:u,offset:d}=l.content.findIndex(o),h=o-d;if(r.push(l,u,i+d),!h||(l=l.child(u),l.isText))break;o=h-1,i+=d+1}return new nu(n,r,o)}static resolveCached(e,n){let r=sx.get(e);if(r)for(let o=0;o<r.elts.length;o++){let l=r.elts[o];if(l.pos==n)return l}else sx.set(e,r=new FL);let i=r.elts[r.i]=nu.resolve(e,n);return r.i=(r.i+1)%VL,i}}class FL{constructor(){this.elts=[],this.i=0}}const VL=12,sx=new WeakMap;class Rf{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const KL=Object.create(null);class ci{constructor(e,n,r,i=Dt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ae.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Mf(this.attrs,n||e.defaultAttrs||KL)&&Dt.sameSet(this.marks,r||Dt.none)}copy(e=null){return e==this.content?this:new ci(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ci(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ve.empty;let i=this.resolve(e),o=this.resolve(n),l=r?0:i.sharedDepth(n),u=i.start(l),h=i.node(l).content.cut(i.pos-u,o.pos-u);return new ve(h,i.depth-l,o.depth-l)}replace(e,n,r){return jL(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return nu.resolveCached(this,e)}resolveNoCache(e){return nu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ET(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ae.empty,i=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,o),u=l&&l.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let d=i;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Dt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Dt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ae.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}}ci.prototype.text=void 0;class Nf extends ci{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ET(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Nf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Nf(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function ET(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Qo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new GL(e,n);if(r.next==null)return Qo.empty;let i=ST(r);r.next&&r.err("Unexpected trailing text");let o=ez(QL(i));return tz(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(l,u){let d=l.matchFragment(e,r);if(d&&(!n||d.validEnd))return ae.from(u.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:p,next:g}=l.next[h];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(g)==-1){i.push(g);let b=o(g,u.concat(p));if(b)return b}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let l=[];for(let u=i;u.type;u=u.via)l.push(u.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:u,next:d}=o.next[l];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!i.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:i}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}Qo.empty=new Qo(!0);class GL{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function ST(t){let e=[];do e.push(YL(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function YL(t){let e=[];do e.push(WL(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function WL(t){let e=JL(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=XL(t,e);else break;return e}function ox(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function XL(t,e){let n=ox(t),r=n;return t.eat(",")&&(t.next!="}"?r=ox(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function ZL(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let l=n[o];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function JL(t){if(t.eat("(")){let e=ST(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=ZL(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function QL(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(l,u,d){let h={term:d,to:u};return e[l].push(h),h}function i(l,u){l.forEach(d=>d.to=u)}function o(l,u){if(l.type=="choice")return l.exprs.reduce((d,h)=>d.concat(o(h,u)),[]);if(l.type=="seq")for(let d=0;;d++){let h=o(l.exprs[d],u);if(d==l.exprs.length-1)return h;i(h,u=n())}else if(l.type=="star"){let d=n();return r(u,d),i(o(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=n();return i(o(l.expr,u),d),i(o(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(u)].concat(o(l.expr,u));if(l.type=="range"){let d=u;for(let h=0;h<l.min;h++){let p=n();i(o(l.expr,d),p),d=p}if(l.max==-1)i(o(l.expr,d),d);else for(let h=l.min;h<l.max;h++){let p=n();r(d,p),i(o(l.expr,d),p),d=p}return[r(d)]}else{if(l.type=="name")return[r(u,void 0,l.value)];throw new Error("Unknown expr type")}}}}function xT(t,e){return e-t}function ax(t,e){let n=[];return r(e),n.sort(xT);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let l=0;l<o.length;l++){let{term:u,to:d}=o[l];!u&&n.indexOf(d)==-1&&r(d)}}}function ez(t){let e=Object.create(null);return n(ax(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:u,to:d})=>{if(!u)return;let h;for(let p=0;p<i.length;p++)i[p][0]==u&&(h=i[p][1]);ax(t,d).forEach(p=>{h||i.push([u,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let o=e[r.join(",")]=new Qo(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let u=i[l][1].sort(xT);o.next.push({type:i[l][0],next:e[u.join(",")]||n(u)})}return o}}function tz(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,l=[];for(let u=0;u<i.next.length;u++){let{type:d,next:h}=i.next[u];l.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kT(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function TT(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function CT(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function MT(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new rz(t,r,e[r]);return n}let lx=class AT{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=MT(e,r.attrs),this.defaultAttrs=kT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:TT(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ci(this,this.computeAttrs(e),ae.from(n),Dt.setFrom(r))}createChecked(e=null,n,r){return n=ae.from(n),this.checkContent(n),new ci(this,this.computeAttrs(e),n,Dt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ae.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(ae.empty,!0);return o?new ci(this,e,n.append(o),Dt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){CT(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Dt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,l)=>r[o]=new AT(o,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function nz(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class rz{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?nz(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Uh{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=MT(e,i.attrs),this.excluded=null;let o=kT(this.attrs);this.instance=o?new Dt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Dt(this,TT(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,l)=>r[o]=new Uh(o,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){CT(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class OT{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=zn.from(e.nodes),n.marks=zn.from(e.marks||{}),this.nodes=lx.compile(this.spec.nodes,this),this.marks=Uh.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],l=o.spec.content||"",u=o.spec.marks;if(o.contentMatch=r[l]||(r[l]=Qo.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=u=="_"?null:u?cx(this,u.split(" ")):u==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:cx(this,l.split(" "))}this.nodeFromJSON=i=>ci.fromJSON(this,i),this.markFromJSON=i=>Dt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof lx){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Nf(r,r.defaultAttrs,e,Dt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function cx(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],l=o;if(o)n.push(o);else for(let u in t.marks){let d=t.marks[u];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function iz(t){return t.tag!=null}function sz(t){return t.style!=null}let ol=class wy{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(iz(i))this.tags.push(i);else if(sz(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new dx(this,n,!1);return r.addAll(e,Dt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new dx(this,n,!0);return r.addAll(e,Dt.none,n.from,n.to),ve.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(lz(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let l=this.styles[o],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let u=n[l];if((u.priority==null?50:u.priority)<o)break}n.splice(l,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(l=>{r(l=fx(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(l=>{r(l=fx(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new wy(e,wy.schemaRules(e)))}};const RT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},oz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},NT={ol:!0,ul:!0},ru=1,vy=2,qc=4;function ux(t,e,n){return e!=null?(e?ru:0)|(e==="full"?vy:0):t&&t.whitespace=="pre"?ru|vy:n&~qc}class Zd{constructor(e,n,r,i,o,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=Dt.none,this.match=o||(l&qc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ae.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ru)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=ae.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ae.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!RT.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class dx{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,l=ux(null,n.preserveWhitespace,0)|(r?qc:0);i?o=new Zd(i.type,i.attrs,Dt.none,!0,n.topMatch||i.type.contentMatch,l):r?o=new Zd(null,null,Dt.none,!0,null,l):o=new Zd(e.schema.topNodeType,null,Dt.none,!0,null,l),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&vy?"full":this.localPreserveWS||(i.options&ru)>0,{schema:l}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let u=r.split(/\r?\n|\r/);for(let d=0;d<u.length;d++)d&&this.insertNode(l.linebreakReplacement.create(),n,!0),u[d]&&this.insertNode(l.text(u[d]),n,!/\S/.test(u[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=i.content[i.content.length-1],d=e.previousSibling;(!u||d&&d.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),u;NT.hasOwnProperty(l)&&this.parser.normalizeLists&&az(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(d?d.ignore:oz.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,p=this.needsBlock;if(RT.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=d&&d.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),h&&this.sync(o),this.needsBlock=p}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,d,h,d.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],l=r.getPropertyValue(o);if(l)for(let u=void 0;;){let d=this.parser.matchStyle(o,l,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(h=>!d.clearMark(h)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return n}addElementByRule(e,n,r,i){let o,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(l,n.attrs||null,r,n.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let u=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(u)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let l=r?e.childNodes[r]:e.firstChild,u=i==null?null:e.childNodes[i];l!=u;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,n);this.findAtPoint(e,o)}findPlace(e,n,r){let i,o;for(let l=this.open,u=0;l>=0;l--){let d=this.nodes[l],h=d.findWrapping(e);if(h&&(!i||i.length>h.length+u)&&(i=h,o=d,!h.length))break;if(d.solid){if(r)break;u+=2}}if(!i)return null;this.sync(o);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=Dt.none;for(let u of i.concat(e.marks))(o.type?o.type.allowsMarkType(u.type):hx(u.type,e.type))&&(l=u.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let u=ux(e,o,l.options);l.options&qc&&l.content.length==0&&(u|=qc);let d=Dt.none;return r=r.filter(h=>(l.type?l.type.allowsMarkType(h.type):hx(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Zd(e,n,d,i,null,u)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ru)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),l=(u,d)=>{for(;u>=0;u--){let h=n[u];if(h==""){if(u==n.length-1||u==0)continue;for(;d>=o;d--)if(l(u-1,d))return!0;return!1}else{let p=d>0||d==0&&i?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function az(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&NT.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function lz(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function fx(t){let e={};for(let n in t)e[n]=t[n];return e}function hx(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],l=u=>{o.push(u);for(let d=0;d<u.edgeCount;d++){let{type:h,next:p}=u.edge(d);if(h==e||o.indexOf(p)<0&&l(p))return!0}};if(l(i.contentMatch))return!0}}class la{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Og(n).createDocumentFragment());let i=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let u=0,d=0;for(;u<o.length&&d<l.marks.length;){let h=l.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(o[u][0])||h.type.spec.spanning===!1)break;u++,d++}for(;u<o.length;)i=o.pop()[1];for(;d<l.marks.length;){let h=l.marks[d++],p=this.serializeMark(h,l.isInline,n);p&&(o.push([h,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=wf(Og(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&wf(Og(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return wf(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new la(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=px(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return px(e.marks)}}function px(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Og(t){return t.document||window.document}const mx=new WeakMap;function cz(t){let e=mx.get(t);return e===void 0&&mx.set(t,e=uz(t)),e}function uz(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function wf(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=cz(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let u,d=n?t.createElementNS(n,i):t.createElement(i),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let g in h)if(h[g]!=null){let b=g.indexOf(" ");b>0?d.setAttributeNS(g.slice(0,b),g.slice(b+1),h[g]):g=="style"&&d.style?d.style.cssText=h[g]:d.setAttribute(g,h[g])}}for(let g=p;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:w,contentDOM:v}=wf(t,b,n,r);if(d.appendChild(w),v){if(u)throw new RangeError("Multiple content holes");u=v}}}return{dom:d,contentDOM:u}}const _T=65535,DT=Math.pow(2,16);function dz(t,e){return t+e*DT}function gx(t){return t&_T}function fz(t){return(t-(t&_T))/DT}const LT=1,zT=2,vf=4,BT=8;class Ey{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&BT)>0}get deletedBefore(){return(this.delInfo&(LT|vf))>0}get deletedAfter(){return(this.delInfo&(zT|vf))>0}get deletedAcross(){return(this.delInfo&vf)>0}}class Cr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Cr.empty)return Cr.empty}recover(e){let n=0,r=gx(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+fz(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?i:0);if(d>e)break;let h=this.ranges[u+o],p=this.ranges[u+l],g=d+h;if(e<=g){let b=h?e==d?-1:e==g?1:n:n,w=d+i+(b<0?0:p);if(r)return w;let v=e==(n<0?d:g)?null:dz(u/3,e-d),E=e==d?zT:e==g?LT:vf;return(n<0?e!=d:e!=g)&&(E|=BT),new Ey(w,E,v)}i+=p-h}return r?e+i:new Ey(e+i,0,null)}touches(e,n){let r=0,i=gx(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[u+o],p=d+h;if(e<=p&&u==i*3)return!0;r+=this.ranges[u+l]-h}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],u=l-(this.inverted?o:0),d=l+(this.inverted?0:o),h=this.ranges[i+n],p=this.ranges[i+r];e(u,u+h,d,d+p),o+=p-h}}invert(){return new Cr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Cr.empty:new Cr(e<0?[0,-e,0]:[0,0,e])}}Cr.empty=new Cr([]);class iu{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new iu(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new iu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let l=this._maps[o],u=l.mapResult(e,n);if(u.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return r?e:new Ey(e,i,null)}}const Rg=Object.create(null);class Gn{getMap(){return Cr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Rg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Rg)throw new RangeError("Duplicate use of step JSON ID "+e);return Rg[e]=n,n.prototype.jsonID=e,n}}class gn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new gn(e,null)}static fail(e){return new gn(null,e)}static fromReplace(e,n,r,i){try{return gn.ok(e.replace(n,r,i))}catch(o){if(o instanceof Af)return gn.fail(o.message);throw o}}}function gb(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(gb(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return ae.fromArray(r)}class Ys extends Gn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new ve(gb(n.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return gn.fromReplace(e,this.from,this.to,o)}invert(){return new li(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ys(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ys&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ys(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ys(n.from,n.to,e.markFromJSON(n.mark))}}Gn.jsonID("addMark",Ys);class li extends Gn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ve(gb(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return gn.fromReplace(e,this.from,this.to,r)}invert(){return new Ys(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new li(n.pos,r.pos,this.mark)}merge(e){return e instanceof li&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new li(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new li(n.from,n.to,e.markFromJSON(n.mark))}}Gn.jsonID("removeMark",li);class Ws extends Gn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return gn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return gn.fromReplace(e,this.pos,this.pos+1,new ve(ae.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ws(this.pos,n.marks[i]);return new Ws(this.pos,this.mark)}}return new ea(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ws(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ws(n.pos,e.markFromJSON(n.mark))}}Gn.jsonID("addNodeMark",Ws);class ea extends Gn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return gn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return gn.fromReplace(e,this.pos,this.pos+1,new ve(ae.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ws(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ea(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ea(n.pos,e.markFromJSON(n.mark))}}Gn.jsonID("removeNodeMark",ea);class kn extends Gn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Sy(e,this.from,this.to)?gn.fail("Structure replace would overwrite content"):gn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Cr([this.from,this.to-this.from,this.slice.size])}invert(e){return new kn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new kn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof kn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ve.empty:new ve(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new kn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ve.empty:new ve(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new kn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new kn(n.from,n.to,ve.fromJSON(e,n.slice),!!n.structure)}}Gn.jsonID("replace",kn);class Cn extends Gn{constructor(e,n,r,i,o,l,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=u}apply(e){if(this.structure&&(Sy(e,this.from,this.gapFrom)||Sy(e,this.gapTo,this.to)))return gn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return gn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?gn.fromReplace(e,this.from,this.to,r):gn.fail("Content does not fit in gap")}getMap(){return new Cr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Cn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Cn(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Cn(n.from,n.to,n.gapFrom,n.gapTo,ve.fromJSON(e,n.slice),n.insert,!!n.structure)}}Gn.jsonID("replaceAround",Cn);function Sy(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function hz(t,e,n,r){let i=[],o=[],l,u;t.doc.nodesBetween(e,n,(d,h,p)=>{if(!d.isInline)return;let g=d.marks;if(!r.isInSet(g)&&p.type.allowsMarkType(r.type)){let b=Math.max(h,e),w=Math.min(h+d.nodeSize,n),v=r.addToSet(g);for(let E=0;E<g.length;E++)g[E].isInSet(v)||(l&&l.to==b&&l.mark.eq(g[E])?l.to=w:i.push(l=new li(b,w,g[E])));u&&u.to==b?u.to=w:o.push(u=new Ys(b,w,r))}}),i.forEach(d=>t.step(d)),o.forEach(d=>t.step(d))}function pz(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(l,u)=>{if(!l.isInline)return;o++;let d=null;if(r instanceof Uh){let h=l.marks,p;for(;p=r.isInSet(h);)(d||(d=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let h=Math.min(u+l.nodeSize,n);for(let p=0;p<d.length;p++){let g=d[p],b;for(let w=0;w<i.length;w++){let v=i[w];v.step==o-1&&g.eq(i[w].style)&&(b=v)}b?(b.to=h,b.step=o):i.push({style:g,from:Math.max(u,e),to:h,step:o})}}}),i.forEach(l=>t.step(new li(l.from,l.to,l.style)))}function yb(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),l=[],u=e+1;for(let d=0;d<o.childCount;d++){let h=o.child(d),p=u+h.nodeSize,g=r.matchType(h.type);if(!g)l.push(new kn(u,p,ve.empty));else{r=g;for(let b=0;b<h.marks.length;b++)n.allowsMarkType(h.marks[b].type)||t.step(new li(u,p,h.marks[b]));if(i&&h.isText&&n.whitespace!="pre"){let b,w=/\r?\n|\r/g,v;for(;b=w.exec(h.text);)v||(v=new ve(ae.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),l.push(new kn(u+b.index,u+b.index+b[0].length,v))}}u=p}if(!r.validEnd){let d=r.fillBefore(ae.empty,!0);t.replace(u,u,new ve(d,0,0))}for(let d=l.length-1;d>=0;d--)t.step(l[d])}function mz(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function kl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,o=0;;--r){let l=t.$from.node(r),u=t.$from.index(r)+i,d=t.$to.indexAfter(r)-o;if(r<t.depth&&l.canReplace(u,d,n))return r;if(r==0||l.type.spec.isolating||!mz(l,u,d))break;u&&(i=1),d<l.childCount&&(o=1)}return null}function gz(t,e,n){let{$from:r,$to:i,depth:o}=e,l=r.before(o+1),u=i.after(o+1),d=l,h=u,p=ae.empty,g=0;for(let v=o,E=!1;v>n;v--)E||r.index(v)>0?(E=!0,p=ae.from(r.node(v).copy(p)),g++):d--;let b=ae.empty,w=0;for(let v=o,E=!1;v>n;v--)E||i.after(v+1)<i.end(v)?(E=!0,b=ae.from(i.node(v).copy(b)),w++):h++;t.step(new Cn(d,h,l,u,new ve(p.append(b),g,w),p.size-g,!0))}function bb(t,e,n=null,r=t){let i=yz(t,e),o=i&&bz(r,e);return o?i.map(yx).concat({type:e,attrs:n}).concat(o.map(yx)):null}function yx(t){return{type:t,attrs:null}}function yz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return n.canReplaceWith(r,i,l)?o:null}function bz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let h=r;d&&h<i;h++)d=d.matchType(n.child(h).type);return!d||!d.validEnd?null:l}function wz(t,e,n){let r=ae.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let u=n[l].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ae.from(n[l].type.create(n[l].attrs,r))}let i=e.start,o=e.end;t.step(new Cn(i,o,i,o,new ve(r,0,0),n.length,!0))}function vz(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(l,u)=>{let d=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,d)&&Ez(t.doc,t.mapping.slice(o).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let w=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);w&&!v?h=!1:!w&&v&&(h=!0)}h===!1&&PT(t,l,u,o),yb(t,t.mapping.slice(o).map(u,1),r,void 0,h===null);let p=t.mapping.slice(o),g=p.map(u,1),b=p.map(u+l.nodeSize,1);return t.step(new Cn(g,b,g+1,b-1,new ve(ae.from(r.create(d,null,l.marks)),0,0),1,!0)),h===!0&&IT(t,l,u,o),!1}})}function IT(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let l,u=/\r?\n|\r/g;for(;l=u.exec(i.text);){let d=t.mapping.slice(r).map(n+1+o+l.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function PT(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+o);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function Ez(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Sz(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let l=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,l);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Cn(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ve(ae.from(l),0,0),1,!0))}function rs(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,p=n-2;h>o;h--,p--){let g=i.node(h),b=i.index(h);if(g.type.spec.isolating)return!1;let w=g.content.cutByIndex(b,g.childCount),v=r&&r[p+1];v&&(w=w.replaceChild(0,v.type.create(v.attrs)));let E=r&&r[p]||g;if(!g.canReplace(b+1,g.childCount)||!E.type.validContent(w))return!1}let u=i.indexAfter(o),d=r&&r[0];return i.node(o).canReplaceWith(u,u,d?d.type:i.node(o+1).type)}function xz(t,e,n=1,r){let i=t.doc.resolve(e),o=ae.empty,l=ae.empty;for(let u=i.depth,d=i.depth-n,h=n-1;u>d;u--,h--){o=ae.from(i.node(u).copy(o));let p=r&&r[h];l=ae.from(p?p.type.create(p.attrs,l):i.node(u).copy(l))}t.step(new kn(e,e,new ve(o.append(l),n,n),!0))}function ao(t,e){let n=t.resolve(e),r=n.index();return UT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function kz(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),l=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function UT(t,e){return!!(t&&e&&!t.isLeaf&&kz(t,e))}function Hh(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,l,u=r.index(i);if(i==r.depth?(o=r.nodeBefore,l=r.nodeAfter):n>0?(o=r.node(i+1),u++,l=r.node(i).maybeChild(u)):(o=r.node(i).maybeChild(u-1),l=r.node(i+1)),o&&!o.isTextblock&&UT(o,l)&&r.node(i).canReplace(u,u+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Tz(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),l=o.node().type;if(i&&l.inlineContent){let p=l.whitespace=="pre",g=!!l.contentMatch.matchType(i);p&&!g?r=!1:!p&&g&&(r=!0)}let u=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);PT(t,p.node(),p.before(),u)}l.inlineContent&&yb(t,e+n-1,l,o.node().contentMatchAt(o.index()),r==null);let d=t.mapping.slice(u),h=d.map(e-n);if(t.step(new kn(h,d.map(e+n,-1),ve.empty,!0)),r===!0){let p=t.doc.resolve(h);IT(t,p.node(),p.before(),t.steps.length)}return t}function Cz(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function HT(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let l=r.depth;l>=0;l--){let u=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(u>0?1:0),h=r.node(l),p=!1;if(o==1)p=h.canReplace(d,d,i);else{let g=h.contentMatchAt(d).findWrapping(i.firstChild.type);p=g&&h.canReplaceWith(d,d,g[0])}if(p)return u==0?r.pos:u<0?r.before(l+1):r.after(l+1)}return null}function $h(t,e,n=e,r=ve.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return $T(i,o,r)?new kn(e,n,r):new Mz(i,o,r).fit()}function $T(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Mz{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ae.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ae.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,l=r.depth,u=i.depth;for(;l&&u&&o.childCount==1;)o=o.firstChild.content,l--,u--;let d=new ve(o,l,u);return e>-1?new Cn(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new kn(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Ng(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let l=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:h}=this.frontier[u],p,g=null;if(n==1&&(l?h.matchType(l.type)||(g=h.fillBefore(ae.from(l),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:u,parent:o,inject:g};if(n==2&&l&&(p=h.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:u,parent:o,wrap:p};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Ng(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ve(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Ng(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new ve(Bc(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new ve(Bc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let E=0;E<o.length;E++)this.openFrontierNode(o[E]);let l=this.unplaced,u=r?r.content:l.content,d=l.openStart-e,h=0,p=[],{match:g,type:b}=this.frontier[n];if(i){for(let E=0;E<i.childCount;E++)p.push(i.child(E));g=g.matchFragment(i)}let w=u.size+e-(l.content.size-l.openEnd);for(;h<u.childCount;){let E=u.child(h),x=g.matchType(E.type);if(!x)break;h++,(h>1||d==0||E.content.size)&&(g=x,p.push(jT(E.mark(b.allowedMarks(E.marks)),h==1?d:0,h==u.childCount?w:-1)))}let v=h==u.childCount;v||(w=-1),this.placed=Ic(this.placed,n,ae.from(p)),this.frontier[n].match=g,v&&w<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,x=u;E<w;E++){let k=x.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),x=k.content}this.unplaced=v?e==0?ve.empty:new ve(Bc(l.content,e-1,1),e-1,w<0?l.openEnd:e-1):new ve(Bc(l.content,e,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!_g(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=_g(e,n,i,r,o);if(l){for(let u=n-1;u>=0;u--){let{match:d,type:h}=this.frontier[u],p=_g(e,u,h,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ic(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ic(this.placed,this.depth,ae.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ae.empty,!0);n.childCount&&(this.placed=Ic(this.placed,this.frontier.length,n))}}function Bc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Bc(t.firstChild.content,e-1,n)))}function Ic(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ic(t.lastChild.content,e-1,n)))}function Ng(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function jT(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,jT(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ae.empty,!0)))),t.copy(r)}function _g(t,e,n,r,i){let o=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==o.childCount&&!n.compatibleContent(o.type))return null;let u=r.fillBefore(o.content,!0,l);return u&&!Az(n,o.content,l)?u:null}function Az(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Oz(t){return t.spec.defining||t.spec.definingForContent}function Rz(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if($T(i,o,r))return t.step(new kn(e,n,r));let l=FT(i,o);l[l.length-1]==0&&l.pop();let u=-(i.depth+1);l.unshift(u);for(let b=i.depth,w=i.pos-1;b>0;b--,w--){let v=i.node(b).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;l.indexOf(b)>-1?u=b:i.before(b)==w&&l.splice(1,0,-b)}let d=l.indexOf(u),h=[],p=r.openStart;for(let b=r.content,w=0;;w++){let v=b.firstChild;if(h.push(v),w==r.openStart)break;b=v.content}for(let b=p-1;b>=0;b--){let w=h[b],v=Oz(w.type);if(v&&!w.sameMarkup(i.node(Math.abs(u)-1)))p=b;else if(v||!w.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let w=(b+p+1)%(r.openStart+1),v=h[w];if(v)for(let E=0;E<l.length;E++){let x=l[(E+d)%l.length],k=!0;x<0&&(k=!1,x=-x);let A=i.node(x-1),L=i.index(x-1);if(A.canReplaceWith(L,L,v.type,v.marks))return t.replace(i.before(x),k?o.after(x):n,new ve(qT(r.content,0,r.openStart,w),w,r.openEnd))}}let g=t.steps.length;for(let b=l.length-1;b>=0&&(t.replace(e,n,r),!(t.steps.length>g));b--){let w=l[b];w<0||(e=i.before(w),n=o.after(w))}}function qT(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(qT(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),l=o.fillBefore(t).append(t);t=l.append(o.matchFragment(l).fillBefore(ae.empty,!0))}return t}function Nz(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Cz(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ve(ae.from(r),0,0))}function _z(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=FT(r,i);for(let l=0;l<o.length;l++){let u=o[l],d=l==o.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),i.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),i.indexAfter(u-1))))return t.delete(r.before(u),i.after(u))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function FT(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class al extends Gn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return gn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return gn.fromReplace(e,this.pos,this.pos+1,new ve(ae.from(i),0,n.isLeaf?0:1))}getMap(){return Cr.empty}invert(e){return new al(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new al(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new al(n.pos,n.attr,n.value)}}Gn.jsonID("attr",al);class su extends Gn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return gn.ok(r)}getMap(){return Cr.empty}invert(e){return new su(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new su(n.attr,n.value)}}Gn.jsonID("docAttr",su);let dl=class extends Error{};dl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};dl.prototype=Object.create(Error.prototype);dl.prototype.constructor=dl;dl.prototype.name="TransformError";class VT{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new iu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new dl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ve.empty){let i=$h(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ve(ae.from(r),0,0))}delete(e,n){return this.replace(e,n,ve.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Rz(this,e,n,r),this}replaceRangeWith(e,n,r){return Nz(this,e,n,r),this}deleteRange(e,n){return _z(this,e,n),this}lift(e,n){return gz(this,e,n),this}join(e,n=1){return Tz(this,e,n),this}wrap(e,n){return wz(this,e,n),this}setBlockType(e,n=e,r,i=null){return vz(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return Sz(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new al(e,n,r)),this}setDocAttribute(e,n){return this.step(new su(e,n)),this}addNodeMark(e,n){return this.step(new Ws(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Dt)n.isInSet(r.marks)&&this.step(new ea(e,n));else{let i=r.marks,o,l=[];for(;o=n.isInSet(i);)l.push(new ea(e,o)),i=o.removeFromSet(i);for(let u=l.length-1;u>=0;u--)this.step(l[u])}return this}split(e,n=1,r){return xz(this,e,n,r),this}addMark(e,n,r){return hz(this,e,n,r),this}removeMark(e,n,r){return pz(this,e,n,r),this}clearIncompatible(e,n,r){return yb(this,e,n,r),this}}const Dg=Object.create(null);class et{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Dz(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ve.empty){let r=n.content.lastChild,i=null;for(let u=0;u<n.openEnd;u++)i=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:d,$to:h}=l[u],p=e.mapping.slice(o);e.replaceRange(p.map(d.pos),p.map(h.pos),u?ve.empty:n),u==0&&vx(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:l,$to:u}=i[o],d=e.mapping.slice(r),h=d.map(l.pos),p=d.map(u.pos);o?e.deleteRange(h,p):(e.replaceRangeWith(h,p,n),vx(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ke(e):Ja(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let l=n<0?Ja(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Ja(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Mr(e.node(0))}static atStart(e){return Ja(e,e,0,0,1)||new Mr(e)}static atEnd(e){return Ja(e,e,e.content.size,e.childCount,-1)||new Mr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Dg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Dg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Dg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ke.between(this.$anchor,this.$head).getBookmark()}}et.prototype.visible=!0;class Dz{constructor(e,n){this.$from=e,this.$to=n}}let bx=!1;function wx(t){!bx&&!t.parent.inlineContent&&(bx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ke extends et{constructor(e,n=e){wx(e),wx(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return et.near(r);let i=e.resolve(n.map(this.anchor));return new Ke(i.parent.inlineContent?i:r,r)}replace(e,n=ve.empty){if(super.replace(e,n),n==ve.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ke&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new jh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ke(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=et.findFrom(n,r,!0)||et.findFrom(n,-r,!0);if(o)n=o.$head;else return et.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(et.findFrom(e,-r,!0)||et.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ke(e,n)}}et.jsonID("text",Ke);class jh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new jh(e.map(this.anchor),e.map(this.head))}resolve(e){return Ke.between(e.resolve(this.anchor),e.resolve(this.head))}}class Be extends et{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?et.near(o):new Be(o)}content(){return new ve(ae.from(this.node),0,0)}eq(e){return e instanceof Be&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new wb(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Be(e.resolve(n.anchor))}static create(e,n){return new Be(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Be.prototype.visible=!1;et.jsonID("node",Be);class wb{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new jh(r,r):new wb(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Be.isSelectable(r)?new Be(n):et.near(n)}}class Mr extends et{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ve.empty){if(n==ve.empty){e.delete(0,e.doc.content.size);let r=et.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Mr(e)}map(e){return new Mr(e)}eq(e){return e instanceof Mr}getBookmark(){return Lz}}et.jsonID("all",Mr);const Lz={map(){return this},resolve(t){return new Mr(t)}};function Ja(t,e,n,r,i,o=!1){if(e.inlineContent)return Ke.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let u=e.child(l);if(u.isAtom){if(!o&&Be.isSelectable(u))return Be.create(t,n-(i<0?u.nodeSize:0))}else{let d=Ja(t,u,n+i,i<0?u.childCount:0,i,o);if(d)return d}n+=u.nodeSize*i}return null}function vx(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof kn||i instanceof Cn))return;let o=t.mapping.maps[r],l;o.forEach((u,d,h,p)=>{l==null&&(l=p)}),t.setSelection(et.near(t.doc.resolve(l),n))}const Ex=1,Jd=2,Sx=4;class zz extends VT{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ex)&~Jd,this.storedMarks=null,this}get selectionSet(){return(this.updated&Ex)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Jd,this}ensureMarks(e){return Dt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Jd)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Jd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Dt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(n);o=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(et.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Sx,this}get scrolledIntoView(){return(this.updated&Sx)>0}}function xx(t,e){return!e||!t?t:t.bind(e)}class Pc{constructor(e,n,r){this.name=e,this.init=xx(n.init,r),this.apply=xx(n.apply,r)}}const Bz=[new Pc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Pc("selection",{init(t,e){return t.selection||et.atStart(e.doc)},apply(t){return t.selection}}),new Pc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Pc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Lg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Bz.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Pc(r.key,r.spec.state,r))})}}class il{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let u=this.config.plugins[l];if(u.spec.appendTransaction){let d=i?i[l].n:0,h=i?i[l].state:this,p=d<n.length&&u.spec.appendTransaction.call(u,d?n.slice(d):n,h,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let g=0;g<this.config.plugins.length;g++)i.push(g<l?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),o=!0}i&&(i[l]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new il(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new zz(this)}static create(e){let n=new Lg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new il(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Lg(this.schema,e.plugins),r=n.fields,i=new il(n);for(let o=0;o<r.length;o++){let l=r[o].name;i[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Lg(e.schema,e.plugins),o=new il(i);return i.fields.forEach(l=>{if(l.name=="doc")o.doc=ci.fromJSON(e.schema,n.doc);else if(l.name=="selection")o.selection=et.fromJSON(o.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],h=d.spec.state;if(d.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){o[l.name]=h.fromJSON.call(d,e,n[u],o);return}}o[l.name]=l.init(e,o)}}),o}}function KT(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=KT(i,e,{})),n[r]=i}return n}class It{constructor(e){this.spec=e,this.props={},e.props&&KT(e.props,this,this.props),this.key=e.key?e.key.key:GT("plugin")}getState(e){return e[this.key]}}const zg=Object.create(null);function GT(t){return t in zg?t+"$"+ ++zg[t]:(zg[t]=0,t+"$")}class bn{constructor(e="key"){this.key=GT(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const vb=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function YT(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const WT=(t,e,n)=>{let r=YT(t,n);if(!r)return!1;let i=Eb(r);if(!i){let l=r.blockRange(),u=l&&kl(l);return u==null?!1:(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)}let o=i.nodeBefore;if(iC(t,i,e,-1))return!0;if(r.parent.content.size==0&&(fl(o,"end")||Be.isSelectable(o)))for(let l=r.depth;;l--){let u=$h(t.doc,r.before(l),r.after(l),ve.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=t.tr.step(u);d.setSelection(fl(o,"end")?et.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):Be.create(d.doc,i.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},Iz=(t,e,n)=>{let r=YT(t,n);if(!r)return!1;let i=Eb(r);return i?XT(t,i,e):!1},Pz=(t,e,n)=>{let r=JT(t,n);if(!r)return!1;let i=Sb(r);return i?XT(t,i,e):!1};function XT(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let l=e.nodeAfter,u=l,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let h=$h(t.doc,o,d,ve.empty);if(!h||h.from!=o||h instanceof kn&&h.slice.size>=d-o)return!1;if(n){let p=t.tr.step(h);p.setSelection(Ke.create(p.doc,o)),n(p.scrollIntoView())}return!0}function fl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const ZT=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Eb(r)}let l=o&&o.nodeBefore;return!l||!Be.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Be.create(t.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function Eb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function JT(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const QT=(t,e,n)=>{let r=JT(t,n);if(!r)return!1;let i=Sb(r);if(!i)return!1;let o=i.nodeAfter;if(iC(t,i,e,1))return!0;if(r.parent.content.size==0&&(fl(o,"start")||Be.isSelectable(o))){let l=$h(t.doc,r.before(),r.after(),ve.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(fl(o,"start")?et.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):Be.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},eC=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=Sb(r)}let l=o&&o.nodeAfter;return!l||!Be.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Be.create(t.doc,o.pos)).scrollIntoView()),!0)};function Sb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Uz=(t,e)=>{let n=t.selection,r=n instanceof Be,i;if(r){if(n.node.isTextblock||!ao(t.doc,n.from))return!1;i=n.from}else if(i=Hh(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(Be.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},Hz=(t,e)=>{let n=t.selection,r;if(n instanceof Be){if(n.node.isTextblock||!ao(t.doc,n.to))return!1;r=n.to}else if(r=Hh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},$z=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&kl(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},tC=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function xb(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const jz=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),l=xb(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(e){let u=n.after(),d=t.tr.replaceWith(u,u,l.createAndFill());d.setSelection(et.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},nC=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Mr||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=xb(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,u=t.tr.insert(l,o.createAndFill());u.setSelection(Ke.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},rC=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(rs(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&kl(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function qz(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Be&&e.selection.node.isBlock)return!r.parentOffset||!rs(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],l,u,d=!1,h=!1;for(let w=r.depth;;w--)if(r.node(w).isBlock){d=r.end(w)==r.pos+(r.depth-w),h=r.start(w)==r.pos-(r.depth-w),u=xb(r.node(w-1).contentMatchAt(r.indexAfter(w-1))),o.unshift(d&&u?{type:u}:null),l=w;break}else{if(w==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof Ke||e.selection instanceof Mr)&&p.deleteSelection();let g=p.mapping.map(r.pos),b=rs(p.doc,g,o.length,o);if(b||(o[0]=u?{type:u}:null,b=rs(p.doc,g,o.length,o)),!b)return!1;if(p.split(g,o.length,o),!d&&h&&r.node(l).type!=u){let w=p.mapping.map(r.before(l)),v=p.doc.resolve(w);u&&r.node(l-1).canReplaceWith(v.index(),v.index()+1,u)&&p.setNodeMarkup(p.mapping.map(r.before(l)),u)}return n&&n(p.scrollIntoView()),!0}}const Fz=qz(),Vz=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(Be.create(t.doc,i))),!0)};function Kz(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||ao(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function iC(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,l,u,d=i.type.spec.isolating||o.type.spec.isolating;if(!d&&Kz(t,e,n))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(l=(u=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&u.matchType(l[0]||o.type).validEnd){if(n){let w=e.pos+o.nodeSize,v=ae.empty;for(let k=l.length-1;k>=0;k--)v=ae.from(l[k].create(null,v));v=ae.from(i.copy(v));let E=t.tr.step(new Cn(e.pos-1,w,e.pos,w,new ve(v,1,0),l.length,!0)),x=E.doc.resolve(w+2*l.length);x.nodeAfter&&x.nodeAfter.type==i.type&&ao(E.doc,x.pos)&&E.join(x.pos),n(E.scrollIntoView())}return!0}let p=o.type.spec.isolating||r>0&&d?null:et.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),b=g&&kl(g);if(b!=null&&b>=e.depth)return n&&n(t.tr.lift(g,b).scrollIntoView()),!0;if(h&&fl(o,"start",!0)&&fl(i,"end")){let w=i,v=[];for(;v.push(w),!w.isTextblock;)w=w.lastChild;let E=o,x=1;for(;!E.isTextblock;E=E.firstChild)x++;if(w.canReplace(w.childCount,w.childCount,E.content)){if(n){let k=ae.empty;for(let L=v.length-1;L>=0;L--)k=ae.from(v[L].copy(k));let A=t.tr.step(new Cn(e.pos-v.length,e.pos+o.nodeSize,e.pos+x,e.pos+o.nodeSize-x,new ve(k,v.length,0),0,!0));n(A.scrollIntoView())}return!0}}return!1}function sC(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(Ke.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const Gz=sC(-1),Yz=sC(1);function Wz(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o),u=l&&bb(l,t,e);return u?(r&&r(n.tr.wrap(l,u).scrollIntoView()),!0):!1}}function kx(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[o];n.doc.nodesBetween(l,u,(d,h)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)i=!0;else{let p=n.doc.resolve(h),g=p.index();i=p.parent.canReplaceWith(g,g+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:u},$to:{pos:d}}=n.selection.ranges[l];o.setBlockType(u,d,t,e)}r(o.scrollIntoView())}return!0}}function kb(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}kb(vb,WT,ZT);kb(vb,QT,eC);kb(tC,nC,rC,Fz);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Xz(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o);if(!l)return!1;let u=r?n.tr:null;return Zz(u,l,t,e)?(r&&r(u.scrollIntoView()),!0):!1}}function Zz(t,e,n,r=null){let i=!1,o=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);o=new Rf(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Rf(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=bb(o,n,r,e);return u?(t&&Jz(t,e,u,i,n),!0):!1}function Jz(t,e,n,r,i){let o=ae.empty;for(let p=n.length-1;p>=0;p--)o=ae.from(n[p].type.create(n[p].attrs,o));t.step(new Cn(e.start-(r?2:0),e.end,e.start,e.end,new ve(o,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==i&&(l=p+1);let u=n.length-l,d=e.start+n.length-(r?2:0),h=e.parent;for(let p=e.startIndex,g=e.endIndex,b=!0;p<g;p++,b=!1)!b&&rs(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=h.child(p).nodeSize;return t}function Qz(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?eB(e,n,t,o):tB(e,n,o):!0:!1}}function eB(t,e,n,r){let i=t.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(i.step(new Cn(o-1,l,o,l,new ve(ae.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Rf(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const u=kl(r);if(u==null)return!1;i.lift(r,u);let d=i.doc.resolve(i.mapping.map(o,-1)-1);return ao(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function tB(t,e,n){let r=t.tr,i=n.parent;for(let w=n.end,v=n.endIndex-1,E=n.startIndex;v>E;v--)w-=i.child(v).nodeSize,r.delete(w-1,w+1);let o=r.doc.resolve(n.start),l=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==i.childCount,h=o.node(-1),p=o.index(-1);if(!h.canReplace(p+(u?0:1),p+1,l.content.append(d?ae.empty:ae.from(i))))return!1;let g=o.pos,b=g+l.nodeSize;return r.step(new Cn(g-(u?1:0),b+(d?1:0),g+1,b-1,new ve((u?ae.empty:ae.from(i.copy(ae.empty))).append(d?ae.empty:ae.from(i.copy(ae.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function nB(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,h=>h.childCount>0&&h.firstChild.type==t);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let u=o.parent,d=u.child(l-1);if(d.type!=t)return!1;if(n){let h=d.lastChild&&d.lastChild.type==u.type,p=ae.from(h?t.create():null),g=new ve(ae.from(t.create(null,ae.from(u.type.create(null,p)))),h?3:1,0),b=o.start,w=o.end;n(e.tr.step(new Cn(b-(h?3:1),w,b,w,g,1,!0)).scrollIntoView())}return!0}}const Bn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},hl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let xy=null;const Qi=function(t,e,n){let r=xy||(xy=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},rB=function(){xy=null},ta=function(t,e,n,r){return n&&(Tx(t,e,n,r,-1)||Tx(t,e,n,r,1))},iB=/^(img|br|input|textarea|hr)$/i;function Tx(t,e,n,r,i){for(var o;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Wr(t))){let l=t.parentNode;if(!l||l.nodeType!=1||ku(t)||iB.test(t.nodeName)||t.contentEditable=="false")return!1;e=Bn(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((o=l.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?Wr(t):0}else return!1}}function Wr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function sB(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Wr(t)}else if(t.parentNode&&!ku(t))e=Bn(t),t=t.parentNode;else return null}}function oB(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ku(t))e=Bn(t)+1,t=t.parentNode;else return null}}function aB(t,e,n){for(let r=e==0,i=e==Wr(t);r||i;){if(t==n)return!0;let o=Bn(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Wr(t)}}function ku(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const qh=function(t){return t.focusNode&&ta(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Po(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function lB(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function cB(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Wr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Wr(r.startContainer),r.startOffset)}}}const Ti=typeof navigator<"u"?navigator:null,Cx=typeof document<"u"?document:null,lo=Ti&&Ti.userAgent||"",ky=/Edge\/(\d+)/.exec(lo),oC=/MSIE \d/.exec(lo),Ty=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(lo),ur=!!(oC||Ty||ky),eo=oC?document.documentMode:Ty?+Ty[1]:ky?+ky[1]:0,Xr=!ur&&/gecko\/(\d+)/i.test(lo);Xr&&+(/Firefox\/(\d+)/.exec(lo)||[0,0])[1];const Cy=!ur&&/Chrome\/(\d+)/.exec(lo),Tn=!!Cy,aC=Cy?+Cy[1]:0,Vn=!ur&&!!Ti&&/Apple Computer/.test(Ti.vendor),pl=Vn&&(/Mobile\/\w+/.test(lo)||!!Ti&&Ti.maxTouchPoints>2),Yr=pl||(Ti?/Mac/.test(Ti.platform):!1),lC=Ti?/Win/.test(Ti.platform):!1,es=/Android \d/.test(lo),Tu=!!Cx&&"webkitFontSmoothing"in Cx.documentElement.style,uB=Tu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function dB(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Yi(t,e){return typeof t=="number"?t:t[e]}function fB(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Mx(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=hl(l);continue}let u=l,d=u==o.body,h=d?dB(o):fB(u),p=0,g=0;if(e.top<h.top+Yi(r,"top")?g=-(h.top-e.top+Yi(i,"top")):e.bottom>h.bottom-Yi(r,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+Yi(i,"top")-h.top:e.bottom-h.bottom+Yi(i,"bottom")),e.left<h.left+Yi(r,"left")?p=-(h.left-e.left+Yi(i,"left")):e.right>h.right-Yi(r,"right")&&(p=e.right-h.right+Yi(i,"right")),p||g)if(d)o.defaultView.scrollBy(p,g);else{let w=u.scrollLeft,v=u.scrollTop;g&&(u.scrollTop+=g),p&&(u.scrollLeft+=p);let E=u.scrollLeft-w,x=u.scrollTop-v;e={left:e.left-E,top:e.top-x,right:e.right-E,bottom:e.bottom-x}}let b=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(b))break;l=b=="absolute"?l.offsetParent:hl(l)}}function hB(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let u=t.root.elementFromPoint(o,l);if(!u||u==t.dom||!t.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=n-20){r=u,i=d.top;break}}return{refDOM:r,refTop:i,stack:cC(t.dom)}}function cC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=hl(r));return e}function pB({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;uC(n,r==0?0:r-e)}function uC(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Wa=null;function mB(t){if(t.setActive)return t.setActive();if(Wa)return t.focus(Wa);let e=cC(t);t.focus(Wa==null?{get preventScroll(){return Wa={preventScroll:!0},!0}}:void 0),Wa||(Wa=!1,uC(e,0))}function dC(t,e){let n,r=2e8,i,o=0,l=e.top,u=e.top,d,h;for(let p=t.firstChild,g=0;p;p=p.nextSibling,g++){let b;if(p.nodeType==1)b=p.getClientRects();else if(p.nodeType==3)b=Qi(p).getClientRects();else continue;for(let w=0;w<b.length;w++){let v=b[w];if(v.top<=l&&v.bottom>=u){l=Math.max(v.bottom,l),u=Math.min(v.top,u);let E=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(E<r){n=p,r=E,i=E&&n.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,p.nodeType==1&&E&&(o=g+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!d&&v.left<=e.left&&v.right>=e.left&&(d=p,h={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!n&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(o=g+1)}}return!n&&d&&(n=d,i=h,r=0),n&&n.nodeType==3?gB(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:dC(n,i)}function gB(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let l=Us(r,1);if(l.top!=l.bottom&&Tb(e,l)){i={node:t,offset:o+(e.left>=(l.left+l.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function Tb(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function yB(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function bB(t,e,n){let{node:r,offset:i}=dC(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function wB(t,e,n,r){let i=-1;for(let o=e,l=!1;o!=t.dom;){let u=t.docView.nearestDesc(o,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!l&&d.left>r.left||d.top>r.top?i=u.posBefore:(!l&&d.right<r.left||d.bottom<r.top)&&(i=u.posAfter),l=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;o=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function fC(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let l=t.childNodes[o];if(l.nodeType==1){let u=l.getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(Tb(e,h))return fC(l,e,h)}}if((o=(o+1)%r)==i)break}return t}function vB(t,e){let n=t.dom.ownerDocument,r,i=0,o=cB(n,e.left,e.top);o&&({node:r,offset:i}=o);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=t.dom.getBoundingClientRect();if(!Tb(e,h)||(l=fC(t.dom,e,h),!l))return null}if(Vn)for(let h=l;r&&h;h=hl(h))h.draggable&&(r=void 0);if(l=yB(l,e),r){if(Xr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&i++}let h;Tu&&i&&r.nodeType==1&&(h=r.childNodes[i-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(u=wB(t,r,i,e))}u==null&&(u=bB(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function Ax(t){return t.top<t.bottom||t.left<t.right}function Us(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Ax(r))return r}return Array.prototype.find.call(n,Ax)||t.getBoundingClientRect()}const EB=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function hC(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),l=Tu||Xr;if(r.nodeType==3)if(l&&(EB.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let d=Us(Qi(r,i,i),n);if(Xr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let h=Us(Qi(r,i-1,i-1),-1);if(h.top==d.top){let p=Us(Qi(r,i,i+1),-1);if(p.top!=d.top)return Oc(p,p.left<h.left)}}return d}else{let d=i,h=i,p=n<0?1:-1;return n<0&&!i?(h++,p=-1):n>=0&&i==r.nodeValue.length?(d--,p=1):n<0?d--:h++,Oc(Us(Qi(r,d,h),p),p<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Wr(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return Bg(d.getBoundingClientRect(),!1)}if(o==null&&i<Wr(r)){let d=r.childNodes[i];if(d.nodeType==1)return Bg(d.getBoundingClientRect(),!0)}return Bg(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Wr(r))){let d=r.childNodes[i-1],h=d.nodeType==3?Qi(d,Wr(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Oc(Us(h,1),!1)}if(o==null&&i<Wr(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Qi(d,0,l?0:1):d.nodeType==1?d:null:null;if(h)return Oc(Us(h,-1),!0)}return Oc(Us(r.nodeType==3?Qi(r):r,-n),n>=0)}function Oc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Bg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function pC(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function SB(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return pC(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(o,!0);if(!u)break;if(u.node.isBlock){o=u.contentDOM||u.dom;break}o=u.dom.parentNode}let l=hC(t,i.pos,1);for(let u=o.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Qi(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const xB=/[\u0590-\u08ac]/;function kB(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,u=t.domSelection();return u?!xB.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?o:l:pC(t,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:p,anchorOffset:g}=t.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",n,"character");let w=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:v,focusOffset:E}=t.domSelectionRange(),x=v&&!w.contains(v.nodeType==1?v:v.parentNode)||d==v&&h==E;try{u.collapse(p,g),d&&(d!=p||h!=g)&&u.extend&&u.extend(d,h)}catch{}return b!=null&&(u.caretBidiLevel=b),x}):r.pos==r.start()||r.pos==r.end()}let Ox=null,Rx=null,Nx=!1;function TB(t,e,n){return Ox==e&&Rx==n?Nx:(Ox=e,Rx=n,Nx=n=="up"||n=="down"?SB(t,e,n):kB(t,e,n))}const Zr=0,_x=1,$o=2,Ci=3;class Cu{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Zr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Bn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),l;if(o&&(!n||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let u=i.children[l];if(u.size){i=u;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],u=o+l.size;if(u>e||l instanceof gC){i=e-o;break}o=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof mC&&o.side>=0;r--);if(n<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&n&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Bn(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Bn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let l=r,u=0;;u++){let d=this.children[u],h=l+d.size;if(i==-1&&e<=h){let p=l+d.border;if(e>=p&&n<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=l;for(let g=u;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){i=Bn(b.dom)+1;break}e-=b.size}i==-1&&(i=0)}if(i>-1&&(h>n||u==this.children.length-1)){n=h;for(let p=u+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){o=Bn(g.dom);break}n+=g.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),l=Math.max(e,n);for(let w=0,v=0;w<this.children.length;w++){let E=this.children[w],x=v+E.size;if(o>v&&l<x)return E.setSelection(e-v-E.border,n-v-E.border,r,i);v=x}let u=this.domFromPos(e,e?-1:1),d=n==e?u:this.domFromPos(n,n?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),g=!1;if((Xr||Vn)&&e==n){let{node:w,offset:v}=u;if(w.nodeType==3){if(g=!!(v&&w.nodeValue[v-1]==`
`),g&&v==w.nodeValue.length)for(let E=w,x;E;E=E.parentNode){if(x=E.nextSibling){x.nodeName=="BR"&&(u=d={node:x.parentNode,offset:Bn(x)+1});break}let k=E.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let E=w.childNodes[v-1];g=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(Xr&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let w=p.focusNode.childNodes[p.focusOffset];w&&w.contentEditable=="false"&&(i=!0)}if(!(i||g&&Vn)&&ta(u.node,u.offset,p.anchorNode,p.anchorOffset)&&ta(d.node,d.offset,p.focusNode,p.focusOffset))return;let b=!1;if((h.extend||e==n)&&!(g&&Xr)){h.collapse(u.node,u.offset);try{e!=n&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>n){let v=u;u=d,d=v}let w=document.createRange();w.setEnd(d.node,d.offset),w.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(w)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],l=r+o.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let u=r+o.border,d=l-o.border;if(e>=u&&n<=d){this.dirty=e==r||n==l?$o:_x,e==u&&n==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ci:o.markDirty(e-u,n-u);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?$o:Ci}r=l}this.dirty=$o}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?$o:_x;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class mC extends Cu{constructor(e,n,r,i){let o,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(l.nodeType!=1){let u=document.createElement("span");u.appendChild(l),l=u}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Zr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CB extends Cu{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class na extends Cu{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],l=o&&o(n,i,r);return(!l||!l.dom)&&(l=la.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new na(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Ci||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ci&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Zr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Zr}}slice(e,n,r){let i=na.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;n<l&&(o=Ay(o,n,l,r)),e>0&&(o=Ay(o,0,e,r));for(let u=0;u<o.length;u++)o[u].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class to extends Cu{constructor(e,n,r,i,o,l,u,d,h){super(e,[],o,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(e,n,r,i,o,l){let u=o.nodeViews[n.type.name],d,h=u&&u(n,o,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,i),p=h&&h.dom,g=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=la.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let b=p;return p=wC(p,r,n),h?d=new MB(e,n,r,i,p,g||null,b,h,o,l+1):n.isText?new Fh(e,n,r,i,p,b,o):new to(e,n,r,i,p,g||null,b,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ae.empty)}return e}matchesNode(e,n,r){return this.dirty==Zr&&e.eq(this.node)&&_f(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,l=o&&o.pos>-1?o:null,u=o&&o.pos<0,d=new OB(this,l&&l.node,e);_B(this.node,this.innerDeco,(h,p,g)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!g&&d.syncToMarks(p==this.node.childCount?Dt.none:this.node.child(p).marks,r,e),d.placeWidget(h,e,i)},(h,p,g,b)=>{d.syncToMarks(h.marks,r,e);let w;d.findNodeMatch(h,p,g,b)||u&&e.state.selection.from>i&&e.state.selection.to<i+h.nodeSize&&(w=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(h,p,g,w,e)||d.updateNextNode(h,p,g,e,b,i)||d.addNode(h,p,g,e,i),i+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==$o)&&(l&&this.protectLocalComposition(e,l),yC(this.contentDOM,this.children,e),pl&&DB(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ke)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,u=LB(this.node.content,l,r-n,i-n);return u<0?null:{node:o,pos:u,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new CB(this,o,n,i);e.input.compositionNodes.push(l),this.children=Ay(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==Ci||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Zr}updateOuterDeco(e){if(_f(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=bC(this.dom,this.nodeDOM,My(this.outerDeco,this.node,n),My(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Dx(t,e,n,r,i){wC(r,e,t);let o=new to(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Fh extends to{constructor(e,n,r,i,o,l,u){super(e,n,r,i,o,null,l,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ci||this.dirty!=Zr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Zr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Zr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Fh(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ci)}get domAtom(){return!1}isText(e){return this.node.text==e}}class gC extends Cu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Zr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class MB extends to{constructor(e,n,r,i,o,l,u,d,h,p){super(e,n,r,i,o,l,u,h,p),this.spec=d}update(e,n,r,i){if(this.dirty==Ci)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function yC(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let l=e[o],u=l.dom;if(u.parentNode==t){for(;u!=r;)r=Lx(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(u,r);if(l instanceof na){let d=r?r.previousSibling:t.lastChild;yC(l.contentDOM,l.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=Lx(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Fc=function(t){t&&(this.nodeName=t)};Fc.prototype=Object.create(null);const jo=[new Fc];function My(t,e,n){if(t.length==0)return jo;let r=n?jo[0]:new Fc,i=[r];for(let o=0;o<t.length;o++){let l=t[o].type.attrs;if(l){l.nodeName&&i.push(r=new Fc(l.nodeName));for(let u in l){let d=l[u];d!=null&&(n&&i.length==1&&i.push(r=new Fc(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return i}function bC(t,e,n,r){if(n==jo&&r==jo)return e;let i=e;for(let o=0;o<r.length;o++){let l=r[o],u=n[o];if(o){let d;u&&u.nodeName==l.nodeName&&i!=t&&(d=i.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(i),u=jo[0]),i=d}AB(i,u||jo[0],l)}return i}function AB(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function wC(t,e,n){return bC(t,t,jo,My(e,n,t.nodeType!=1))}function _f(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Lx(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class OB{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=RB(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Zr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=na.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))o=this.top.children.indexOf(l,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let h=this.top.children[u];if(h.matchesNode(e,n,r)&&!this.preMatch.matched.has(h)){o=u;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let l=this.top.children[i];return l.dirty==Ci&&l.dom==l.contentDOM&&(l.dirty=$o),l.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,l){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof to){let h=this.preMatch.matched.get(d);if(h!=null&&h!=o)return!1;let p=d.dom,g,b=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Ci&&_f(n,d.outerDeco));if(!b&&d.update(e,n,r,i))return this.destroyBetween(this.index,u),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(d,e,n,r,i,l)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=$o,g.updateChildren(i,l+1),g.dirty=Zr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!_f(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=to.create(this.top,n,r,i,o,l);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,n,r,i,o){let l=to.create(this.top,e,n,r,i,o);l.contentDOM&&l.updateChildren(i,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new mC(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof na;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Fh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Vn||Tn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new gC(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function RB(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,l=[];e:for(;i>0;){let u;for(;;)if(r){let h=n.children[r-1];if(h instanceof na)n=h,r=h.children.length;else{u=h,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=u.node;if(d){if(d!=t.child(i-1))break;--i,o.set(u,i),l.push(u)}}return{index:i,matched:o,matches:l.reverse()}}function NB(t,e){return t.type.side-e.type.side}function _B(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let h=0;h<t.childCount;h++){let p=t.child(h);r(p,i,e.forChild(o,p),h),o+=p.nodeSize}return}let l=0,u=[],d=null;for(let h=0;;){let p,g;for(;l<i.length&&i[l].to==o;){let x=i[l++];x.widget&&(p?(g||(g=[p])).push(x):p=x)}if(p)if(g){g.sort(NB);for(let x=0;x<g.length;x++)n(g[x],h,!!d)}else n(p,h,!!d);let b,w;if(d)w=-1,b=d,d=null;else if(h<t.childCount)w=h,b=t.child(h++);else break;for(let x=0;x<u.length;x++)u[x].to<=o&&u.splice(x--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)u.push(i[l++]);let v=o+b.nodeSize;if(b.isText){let x=v;l<i.length&&i[l].from<x&&(x=i[l].from);for(let k=0;k<u.length;k++)u[k].to<x&&(x=u[k].to);x<v&&(d=b.cut(x-o),b=b.cut(0,x-o),v=x,w=-1)}else for(;l<i.length&&i[l].to<v;)l++;let E=b.isInline&&!b.isLeaf?u.filter(x=>!x.inline):u.slice();r(b,E,e.forChild(o,b),w),o=v}}function DB(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function LB(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let l=t.child(i++),u=o;if(o+=l.nodeSize,!l.isText)continue;let d=l.text;for(;i<t.childCount;){let h=t.child(i++);if(o+=h.nodeSize,!h.isText)break;d+=h.text}if(o>=n){if(o>=r&&d.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?d.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=n)return u+h;if(n==r&&d.length>=r+e.length-u&&d.slice(r-u,r-u+e.length)==e)return r}}return-1}function Ay(t,e,n,r,i){let o=[];for(let l=0,u=0;l<t.length;l++){let d=t[l],h=u,p=u+=d.size;h>=n||p<=e?o.push(d):(h<e&&o.push(d.slice(0,e-h,r)),i&&(o.push(i),i=void 0),p>n&&o.push(d.slice(n-h,d.size,r)))}return o}function Cb(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let u=r.resolve(l),d,h;if(qh(n)){for(d=l;i&&!i.node;)i=i.parent;let g=i.node;if(i&&g.isAtom&&Be.isSelectable(g)&&i.parent&&!(g.isInline&&aB(n.focusNode,n.focusOffset,i.dom))){let b=i.posBefore;h=new Be(l==b?u:r.resolve(b))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=l,b=l;for(let w=0;w<n.rangeCount;w++){let v=n.getRangeAt(w);g=Math.min(g,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(g<0)return null;[d,l]=b==t.state.selection.anchor?[b,g]:[g,b],u=r.resolve(l)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!h){let g=e=="pointer"||t.state.selection.head<u.pos&&!o?1:-1;h=Mb(t,p,u,g)}return h}function vC(t){return t.editable?t.hasFocus():SC(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function is(t,e=!1){let n=t.state.selection;if(EC(t,n),!!vC(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Tn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ta(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)BB(t);else{let{anchor:r,head:i}=n,o,l;zx&&!(n instanceof Ke)&&(n.$from.parent.inlineContent||(o=Bx(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=Bx(t,n.to))),t.docView.setSelection(r,i,t,e),zx&&(o&&Ix(o),l&&Ix(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&zB(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const zx=Vn||Tn&&aC<63;function Bx(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Vn&&i&&i.contentEditable=="false")return Ig(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Ig(i);if(o)return Ig(o)}}function Ig(t){return t.contentEditable="true",Vn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Ix(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function zB(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!vC(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function BB(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Bn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&ur&&eo<=11&&(n.disabled=!0,n.disabled=!1)}function EC(t,e){if(e instanceof Be){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Px(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Px(t)}function Px(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Mb(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ke.between(e,n,r)}function Ux(t){return t.editable&&!t.hasFocus()?!1:SC(t)}function SC(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function IB(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ta(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Oy(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&et.findFrom(o,e)}function Hs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Hx(t,e,n){let r=t.state.selection;if(r instanceof Ke)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Hs(t,new Ke(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Oy(t.state,e);return i&&i instanceof Be?Hs(t,i):!1}else if(!(Yr&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!o||o.isText)return!1;let u=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(l=t.docView.descAt(u))&&!l.contentDOM?Be.isSelectable(o)?Hs(t,new Be(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Tu?Hs(t,new Ke(t.state.doc.resolve(e<0?u:u+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Be&&r.node.isInline)return Hs(t,new Ke(e>0?r.$to:r.$from));{let i=Oy(t.state,e);return i?Hs(t,i):!1}}}function Df(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Vc(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Xa(t,e){return e<0?PB(t):UB(t)}function PB(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,l=!1;for(Xr&&n.nodeType==1&&r<Df(n)&&Vc(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(Vc(u,-1))i=n,o=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(xC(n))break;{let u=n.previousSibling;for(;u&&Vc(u,-1);)i=n.parentNode,o=Bn(u),u=u.previousSibling;if(u)n=u,r=Df(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?Ry(t,n,r):i&&Ry(t,i,o)}function UB(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Df(n),o,l;for(;;)if(r<i){if(n.nodeType!=1)break;let u=n.childNodes[r];if(Vc(u,1))o=n,l=++r;else break}else{if(xC(n))break;{let u=n.nextSibling;for(;u&&Vc(u,1);)o=u.parentNode,l=Bn(u)+1,u=u.nextSibling;if(u)n=u,r=0,i=Df(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Ry(t,o,l)}function xC(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function HB(t,e){for(;t&&e==t.childNodes.length&&!ku(t);)e=Bn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function $B(t,e){for(;t&&!e&&!ku(t);)e=Bn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Ry(t,e,n){if(e.nodeType!=3){let o,l;(l=HB(e,n))?(e=l,n=0):(o=$B(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(qh(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&is(t)},50)}function $x(t,e){let n=t.state.doc.resolve(e);if(!(Tn||lC)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function jx(t,e,n){let r=t.state.selection;if(r instanceof Ke&&!r.empty||n.indexOf("s")>-1||Yr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Oy(t.state,e);if(l&&l instanceof Be)return Hs(t,l)}if(!i.parent.inlineContent){let l=e<0?i:o,u=r instanceof Mr?et.near(l,e):et.findFrom(l,e);return u?Hs(t,u):!1}return!1}function qx(t,e){if(!(t.state.selection instanceof Ke))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let l=t.state.tr;return e<0?l.delete(n.pos-o.nodeSize,n.pos):l.delete(n.pos,n.pos+o.nodeSize),t.dispatch(l),!0}return!1}function Fx(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function jB(t){if(!Vn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Fx(t,r,"true"),setTimeout(()=>Fx(t,r,"false"),20)}return!1}function qB(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function FB(t,e){let n=e.keyCode,r=qB(e);if(n==8||Yr&&n==72&&r=="c")return qx(t,-1)||Xa(t,-1);if(n==46&&!e.shiftKey||Yr&&n==68&&r=="c")return qx(t,1)||Xa(t,1);if(n==13||n==27)return!0;if(n==37||Yr&&n==66&&r=="c"){let i=n==37?$x(t,t.state.selection.from)=="ltr"?-1:1:-1;return Hx(t,i,r)||Xa(t,i)}else if(n==39||Yr&&n==70&&r=="c"){let i=n==39?$x(t,t.state.selection.from)=="ltr"?1:-1:1;return Hx(t,i,r)||Xa(t,i)}else{if(n==38||Yr&&n==80&&r=="c")return jx(t,-1,r)||Xa(t,-1);if(n==40||Yr&&n==78&&r=="c")return jB(t)||jx(t,1,r)||Xa(t,1);if(r==(Yr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Ab(t,e){t.someProp("transformCopied",w=>{e=w(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let w=r.firstChild;n.push(w.type.name,w.attrs!=w.type.defaultAttrs?w.attrs:null),r=w.content}let l=t.someProp("clipboardSerializer")||la.fromSchema(t.state.schema),u=OC(),d=u.createElement("div");d.appendChild(l.serializeFragment(r,{document:u}));let h=d.firstChild,p,g=0;for(;h&&h.nodeType==1&&(p=AC[h.nodeName.toLowerCase()]);){for(let w=p.length-1;w>=0;w--){let v=u.createElement(p[w]);for(;d.firstChild;)v.appendChild(d.firstChild);d.appendChild(v),g++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${o}${g?` -${g}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",w=>w(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function kC(t,e,n,r,i){let o=i.parent.type.spec.code,l,u;if(!n&&!e)return null;let d=!!e&&(r||o||!n);if(d){if(t.someProp("transformPastedText",b=>{e=b(e,o||r,t)}),o)return u=new ve(ae.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",b=>{u=b(u,t,!0)}),u;let g=t.someProp("clipboardTextParser",b=>b(e,i,r,t));if(g)u=g;else{let b=i.marks(),{schema:w}=t.state,v=la.fromSchema(w);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let x=l.appendChild(document.createElement("p"));E&&x.appendChild(v.serializeNode(w.text(E,b)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),l=YB(n),Tu&&WB(l);let h=l&&l.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let b=l.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;l=b}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||ol.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:i,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!VB.test(b.parentNode.nodeName)?{ignore:!0}:null}})),p)u=XB(Vx(u,+p[1],+p[2]),p[4]);else if(u=ve.maxOpen(KB(u.content,i),!0),u.openStart||u.openEnd){let g=0,b=0;for(let w=u.content.firstChild;g<u.openStart&&!w.type.spec.isolating;g++,w=w.firstChild);for(let w=u.content.lastChild;b<u.openEnd&&!w.type.spec.isolating;b++,w=w.lastChild);u=Vx(u,g,b)}return t.someProp("transformPasted",g=>{u=g(u,t,d)}),u}const VB=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function KB(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,l=[];if(t.forEach(u=>{if(!l)return;let d=i.findWrapping(u.type),h;if(!d)return l=null;if(h=l.length&&o.length&&CC(d,o,u,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=MC(l[l.length-1],o.length));let p=TC(u,d);l.push(p),i=i.matchType(p.type),o=d}}),l)return ae.from(l)}return t}function TC(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ae.from(t));return t}function CC(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=CC(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ae.from(TC(n,t,i+1))))}}function MC(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,MC(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ae.empty,!0);return t.copy(n.append(r))}function Ny(t,e,n,r,i,o){let l=e<0?t.firstChild:t.lastChild,u=l.content;return t.childCount>1&&(o=0),i<r-1&&(u=Ny(u,e,n,r,i+1,o)),i>=n&&(u=e<0?l.contentMatchAt(0).fillBefore(u,o<=i).append(u):u.append(l.contentMatchAt(l.childCount).fillBefore(ae.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(u))}function Vx(t,e,n){return e<t.openStart&&(t=new ve(Ny(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ve(Ny(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const AC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Kx=null;function OC(){return Kx||(Kx=document.implementation.createHTMLDocument("title"))}let Pg=null;function GB(t){let e=window.trustedTypes;return e?(Pg||(Pg=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Pg.createHTML(t)):t}function YB(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=OC().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&AC[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=GB(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function WB(t){let e=t.querySelectorAll(Tn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function XB(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:l}=t;for(let u=r.length-2;u>=0;u-=2){let d=n.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;i=ae.from(d.create(r[u+1],i)),o++,l++}return new ve(i,o,l)}const Xn={},Zn={},ZB={touchstart:!0,touchmove:!0};class JB{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function QB(t){for(let e in Xn){let n=Xn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{t3(t,r)&&!Ob(t,r)&&(t.editable||!(r.type in Zn))&&n(t,r)},ZB[e]?{passive:!0}:void 0)}Vn&&t.dom.addEventListener("input",()=>null),_y(t)}function Xs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function e3(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function _y(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Ob(t,r))})}function Ob(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function t3(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function n3(t,e){!Ob(t,e)&&Xn[e.type]&&(t.editable||!(e.type in Zn))&&Xn[e.type](t,e)}Zn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!NC(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(es&&Tn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),pl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Po(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||FB(t,n)?n.preventDefault():Xs(t,"key")};Zn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Zn.keypress=(t,e)=>{let n=e;if(NC(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Yr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ke)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function Vh(t){return{left:t.clientX,top:t.clientY}}function r3(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Rb(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(t.someProp(e,u=>l>o.depth?u(t,n,o.nodeAfter,o.before(l),i,!0):u(t,n,o.node(l),o.before(l),i,!1)))return!0;return!1}function ll(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function i3(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Be.isSelectable(r)?(ll(t,new Be(n)),!0):!1}function s3(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Be&&(r=n.node);let o=t.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let u=l>o.depth?o.nodeAfter:o.node(l);if(Be.isSelectable(u)){r&&n.$from.depth>0&&l>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(l);break}}return i!=null?(ll(t,Be.create(t.state.doc,i)),!0):!1}function o3(t,e,n,r,i){return Rb(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?s3(t,n):i3(t,n))}function a3(t,e,n,r){return Rb(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function l3(t,e,n,r){return Rb(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||c3(t,n,r)}function c3(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ll(t,Ke.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o),u=i.before(o);if(l.inlineContent)ll(t,Ke.create(r,u+1,u+1+l.content.size));else if(Be.isSelectable(l))ll(t,Be.create(r,u));else continue;return!0}}function Nb(t){return Lf(t)}const RC=Yr?"metaKey":"ctrlKey";Xn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Nb(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&r3(n,t.input.lastClick)&&!n[RC]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let l=t.posAtCoords(Vh(n));l&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new u3(t,l,n,!!r)):(o=="doubleClick"?a3:l3)(t,l.pos,l.inside,n)?n.preventDefault():Xs(t,"pointer"))};class u3{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[RC],this.allowDefault=r.shiftKey;let o,l;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),l=n.inside;else{let p=e.state.doc.resolve(n.pos);o=p.parent,l=p.depth?p.before():0}const u=i?null:r.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof Be&&h.from<=l&&h.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Xr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Xs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>is(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Vh(e))),this.updateAllowDefault(e),this.allowDefault||!n?Xs(this.view,"pointer"):o3(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Vn&&this.mightDrag&&!this.mightDrag.node.isAtom||Tn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ll(this.view,et.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Xs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Xs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Xn.touchstart=t=>{t.input.lastTouch=Date.now(),Nb(t),Xs(t,"pointer")};Xn.touchmove=t=>{t.input.lastTouch=Date.now(),Xs(t,"pointer")};Xn.contextmenu=t=>Nb(t);function NC(t,e){return t.composing?!0:Vn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const d3=es?5e3:-1;Zn.compositionstart=Zn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ke&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Tn&&lC&&f3(t)))t.markCursor=t.state.storedMarks||n.marks(),Lf(t,!0),t.markCursor=null;else if(Lf(t,!e.selection.empty),Xr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let l=o<0?i.lastChild:i.childNodes[o-1];if(!l)break;if(l.nodeType==3){let u=t.domSelection();u&&u.collapse(l,l.nodeValue.length);break}else i=l,o=-1}}t.input.composing=!0}_C(t,d3)};function f3(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Zn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,_C(t,20))};function _C(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Lf(t),e))}function DC(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=p3());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function h3(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=sB(e.focusNode,e.focusOffset),r=oB(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function p3(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Lf(t,e=!1){if(!(es&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),DC(t),e||t.docView&&t.docView.dirty){let n=Cb(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function m3(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ou=ur&&eo<15||pl&&uB<604;Xn.copy=Zn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=ou?null:n.clipboardData,l=r.content(),{dom:u,text:d}=Ab(t,l);o?(n.preventDefault(),o.clearData(),o.setData("text/html",u.innerHTML),o.setData("text/plain",d)):m3(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function g3(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function y3(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?au(t,r.value,null,i,e):au(t,r.textContent,r.innerHTML,i,e)},50)}function au(t,e,n,r,i){let o=kC(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,i,o||ve.empty)))return!0;if(!o)return!1;let l=g3(o),u=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(o);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function LC(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Zn.paste=(t,e)=>{let n=e;if(t.composing&&!es)return;let r=ou?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&au(t,LC(r),r.getData("text/html"),i,n)?n.preventDefault():y3(t,n)};class zC{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const b3=Yr?"altKey":"ctrlKey";function BC(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[b3]}Xn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Vh(n)),l;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Be?i.to-1:i.to))){if(r&&r.mightDrag)l=Be.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(l=Be.create(t.state.doc,g.posBefore))}}let u=(l||t.state.selection).content(),{dom:d,text:h,slice:p}=Ab(t,u);(!n.dataTransfer.files.length||!Tn||aC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ou?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",ou||n.dataTransfer.setData("text/plain",h),t.dragging=new zC(p,BC(t,n),l)};Xn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Zn.dragover=Zn.dragenter=(t,e)=>e.preventDefault();Zn.drop=(t,e)=>{try{w3(t,e,t.dragging)}finally{t.dragging=null}};function w3(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(Vh(e));if(!r)return;let i=t.state.doc.resolve(r.pos),o=n&&n.slice;o?t.someProp("transformPasted",w=>{o=w(o,t,!1)}):o=kC(t,LC(e.dataTransfer),ou?null:e.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&BC(t,e));if(t.someProp("handleDrop",w=>w(t,e,o||ve.empty,l))){e.preventDefault();return}if(!o)return;e.preventDefault();let u=o?HT(t.state.doc,i.pos,o):i.pos;u==null&&(u=i.pos);let d=t.state.tr;if(l){let{node:w}=n;w?w.replace(d):d.deleteSelection()}let h=d.mapping.map(u),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=d.doc;if(p?d.replaceRangeWith(h,h,o.content.firstChild):d.replaceRange(h,h,o),d.doc.eq(g))return;let b=d.doc.resolve(h);if(p&&Be.isSelectable(o.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new Be(b));else{let w=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((v,E,x,k)=>w=k),d.setSelection(Mb(t,b,d.doc.resolve(w)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))}Xn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&is(t)},20))};Xn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Xn.beforeinput=(t,e)=>{if(Tn&&es&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Po(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Zn)Xn[t]=Zn[t];function lu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class zf{constructor(e,n){this.toDOM=e,this.spec=n||Yo,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new Fn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof zf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&lu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class no{constructor(e,n){this.attrs=e,this.spec=n||Yo}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new Fn(o,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof no&&lu(this.attrs,e.attrs)&&lu(this.spec,e.spec)}static is(e){return e.type instanceof no}destroy(){}}class _b{constructor(e,n){this.attrs=e,this.spec=n||Yo}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=o.pos?null:new Fn(o.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof _b&&lu(this.attrs,e.attrs)&&lu(this.spec,e.spec)}destroy(){}}class Fn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Fn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Fn(e,e,new zf(n,r))}static inline(e,n,r,i){return new Fn(e,n,new no(r,i))}static node(e,n,r,i){return new Fn(e,n,new _b(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof no}get widget(){return this.type instanceof zf}}const Qa=[],Yo={};class Vt{constructor(e,n){this.local=e.length?e:Qa,this.children=n.length?n:Qa}static create(e,n){return n.length?Bf(n,e,0,Yo):$n}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let l=0;l<this.local.length;l++){let u=this.local[l];u.from<=n&&u.to>=e&&(!o||o(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let u=this.children[l]+1;this.children[l+2].findInner(e-u,n-u,r,i+u,o)}}map(e,n,r){return this==$n||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Yo)}mapInner(e,n,r,i,o){let l;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,r,i);d&&d.type.valid(n,d)?(l||(l=[])).push(d):o.onRemove&&o.onRemove(this.local[u].spec)}return this.children.length?v3(this.children,l||[],e,n,r,i,o):l?new Vt(l.sort(Wo),Qa):$n}add(e,n){return n.length?this==$n?Vt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((u,d)=>{let h=d+r,p;if(p=PC(n,u,h)){for(i||(i=this.children.slice());o<i.length&&i[o]<d;)o+=3;i[o]==d?i[o+2]=i[o+2].addInner(u,p,h+1):i.splice(o,0,d,d+u.nodeSize,Bf(p,u,h+1,Yo)),o+=3}});let l=IC(o?UC(n):n,-r);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||l.splice(u--,1);return new Vt(l.length?this.local.concat(l).sort(Wo):this.local,i||this.children)}remove(e){return e.length==0||this==$n?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let l,u=r[o]+n,d=r[o+1]+n;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>u&&g.to<d&&(e[p]=null,(l||(l=[])).push(g));if(!l)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(l,u+1);h!=$n?r[o+2]=h:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let u=0;u<i.length;u++)i[u].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Vt(i,r):$n}forChild(e,n){if(this==$n)return this;if(n.isLeaf)return Vt.empty;let r,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let o=e+1,l=o+n.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<l&&d.to>o&&d.type instanceof no){let h=Math.max(o,d.from)-o,p=Math.min(l,d.to)-o;h<p&&(i||(i=[])).push(d.copy(h,p))}}if(i){let u=new Vt(i.sort(Wo),Qa);return r?new Vs([u,r]):u}return r||$n}eq(e){if(this==e)return!0;if(!(e instanceof Vt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Db(this.localsInner(e))}localsInner(e){if(this==$n)return Qa;if(e.inlineContent||!this.local.some(no.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof no||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Vt.empty=new Vt([],[]);Vt.removeOverlap=Db;const $n=Vt.empty;class Vs{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Yo));return Vs.from(r)}forChild(e,n){if(n.isLeaf)return Vt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=$n&&(o instanceof Vs?r=r.concat(o.members):r.push(o))}return Vs.from(r)}eq(e){if(!(e instanceof Vs)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let l=0;l<o.length;l++)n.push(o[l])}}return n?Db(r?n:n.sort(Wo)):Qa}static from(e){switch(e.length){case 0:return $n;case 1:return e[0];default:return new Vs(e.every(n=>n instanceof Vt)?e:e.reduce((n,r)=>n.concat(r instanceof Vt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function v3(t,e,n,r,i,o,l){let u=t.slice();for(let h=0,p=o;h<n.maps.length;h++){let g=0;n.maps[h].forEach((b,w,v,E)=>{let x=E-v-(w-b);for(let k=0;k<u.length;k+=3){let A=u[k+1];if(A<0||b>A+p-g)continue;let L=u[k]+p-g;w>=L?u[k+1]=b<=L?-2:-1:b>=p&&x&&(u[k]+=x,u[k+1]+=x)}g+=x}),p=n.maps[h].map(p,-1)}let d=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){d=!0,u[h+1]=-1;continue}let p=n.map(t[h]+o),g=p-i;if(g<0||g>=r.content.size){d=!0;continue}let b=n.map(t[h+1]+o,-1),w=b-i,{index:v,offset:E}=r.content.findIndex(g),x=r.maybeChild(v);if(x&&E==g&&E+x.nodeSize==w){let k=u[h+2].mapInner(n,x,p+1,t[h]+o+1,l);k!=$n?(u[h]=g,u[h+1]=w,u[h+2]=k):(u[h+1]=-2,d=!0)}else d=!0}if(d){let h=E3(u,t,e,n,i,o,l),p=Bf(h,r,0,l);e=p.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,b=0;g<p.children.length;g+=3){let w=p.children[g];for(;b<u.length&&u[b]<w;)b+=3;u.splice(b,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Vt(e.sort(Wo),u)}function IC(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Fn(i.from+e,i.to+e,i.type))}return n}function E3(t,e,n,r,i,o,l){function u(d,h){for(let p=0;p<d.local.length;p++){let g=d.local[p].map(r,i,h);g?n.push(g):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)u(d.children[p+2],d.children[p]+h+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&u(t[d+2],e[d]+o+1);return n}function PC(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,l;o<t.length;o++)(l=t[o])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[o]=null);return i}function UC(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Bf(t,e,n,r){let i=[],o=!1;e.forEach((u,d)=>{let h=PC(t,u,d+n);if(h){o=!0;let p=Bf(h,u,n+d+1,r);p!=$n&&i.push(d,d+u.nodeSize,p)}});let l=IC(o?UC(t):t,-n).sort(Wo);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||(r.onRemove&&r.onRemove(l[u].spec),l.splice(u--,1));return l.length||i.length?new Vt(l,i):$n}function Wo(t,e){return t.from-e.from||t.to-e.to}function Db(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Gx(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Gx(e,i,r.copy(o.from,r.to)));break}}}return e}function Gx(t,e,n){for(;e<t.length&&Wo(n,t[e])>0;)e++;t.splice(e,0,n)}function Ug(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=$n&&e.push(r)}),t.cursorWrapper&&e.push(Vt.create(t.state.doc,[t.cursorWrapper.deco])),Vs.from(e)}const S3={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},x3=ur&&eo<=11;class k3{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class T3{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new k3,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ur&&eo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),x3&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,S3)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ux(this.view)){if(this.suppressingSelectionUpdates)return is(this.view);if(ur&&eo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ta(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=hl(o))n.add(o);for(let o=e.anchorNode;o;o=hl(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ux(e)&&!this.ignoreSelectionChange(r),o=-1,l=-1,u=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let g=this.registerMutation(n[p],d);g&&(o=o<0?g.from:Math.min(g.from,o),l=l<0?g.to:Math.max(g.to,l),g.typeOver&&(u=!0))}if(Xr&&d.length){let p=d.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,b]=p;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of p){let w=b.parentNode;w&&w.nodeName=="LI"&&(!g||A3(e,g)!=w)&&b.remove()}}}else if((Tn||Vn)&&d.some(p=>p.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of d)if(p.nodeName=="BR"&&p.parentNode){let g=p.nextSibling;g&&g.nodeType==1&&g.contentEditable=="false"&&p.parentNode.removeChild(p)}}let h=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&qh(r)&&(h=Cb(e))&&h.eq(et.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,is(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,l),C3(e)),this.handleDOMChange(o,l,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||is(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(ur&&eo<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:b}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b)}let l=i&&i.parentNode==e.target?Bn(i)+1:0,u=r.localPosFromDOM(e.target,l,-1),d=o&&o.parentNode==e.target?Bn(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Yx=new WeakMap,Wx=!1;function C3(t){if(!Yx.has(t)&&(Yx.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Xr,Wx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Wx=!0}}function Xx(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return ta(l.node,l.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function M3(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Xx(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Xx(t,n):null}function A3(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function O3(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:l,to:u}=t.docView.parseRange(e,n),d=t.domSelectionRange(),h,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:d.anchorOffset}],qh(d)||h.push({node:d.focusNode,offset:d.focusOffset})),Tn&&t.input.lastKeyCode===8)for(let x=o;x>i;x--){let k=r.childNodes[x-1],A=k.pmViewDesc;if(k.nodeName=="BR"&&!A){o=x;break}if(!A||A.size)break}let g=t.state.doc,b=t.someProp("domParser")||ol.fromSchema(t.state.schema),w=g.resolve(l),v=null,E=b.parse(r,{topNode:w.parent,topMatch:w.parent.contentMatchAt(w.index()),topOpen:!0,from:i,to:o,preserveWhitespace:w.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:R3,context:w});if(h&&h[0].pos!=null){let x=h[0].pos,k=h[1]&&h[1].pos;k==null&&(k=x),v={anchor:x+l,head:k+l}}return{doc:E,sel:v,from:l,to:u}}function R3(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Vn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Vn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const N3=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function _3(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Z=Cb(t,M);if(Z&&!t.state.selection.eq(Z)){if(Tn&&es&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",De=>De(t,Po(13,"Enter"))))return;let se=t.state.tr.setSelection(Z);M=="pointer"?se.setMeta("pointer",!0):M=="key"&&se.scrollIntoView(),o&&se.setMeta("composition",o),t.dispatch(se)}return}let l=t.state.doc.resolve(e),u=l.sharedDepth(n);e=l.before(u+1),n=t.state.doc.resolve(n).after(u+1);let d=t.state.selection,h=O3(t,e,n),p=t.state.doc,g=p.slice(h.from,h.to),b,w;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,w="end"):(b=t.state.selection.from,w="start"),t.input.lastKeyCode=null;let v=z3(g.content,h.doc.content,h.from,b,w);if(v&&t.input.domChangeCount++,(pl&&t.input.lastIOSEnter>Date.now()-225||es)&&i.some(M=>M.nodeType==1&&!N3.test(M.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",M=>M(t,Po(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(r&&d instanceof Ke&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))v={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let M=Zx(t,t.state.doc,h.sel);if(M&&!M.eq(t.state.selection)){let Z=t.state.tr.setSelection(M);o&&Z.setMeta("composition",o),t.dispatch(Z)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof Ke&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),ur&&eo<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>h.from&&h.doc.textBetween(v.start-h.from-1,v.start-h.from+1)==" "&&(v.start--,v.endA--,v.endB--);let E=h.doc.resolveNoCache(v.start-h.from),x=h.doc.resolveNoCache(v.endB-h.from),k=p.resolve(v.start),A=E.sameParent(x)&&E.parent.inlineContent&&k.end()>=v.endA;if((pl&&t.input.lastIOSEnter>Date.now()-225&&(!A||i.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!A&&E.pos<h.doc.content.size&&(!E.sameParent(x)||!E.parent.inlineContent)&&E.pos<x.pos&&!/\S/.test(h.doc.textBetween(E.pos,x.pos,"","")))&&t.someProp("handleKeyDown",M=>M(t,Po(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&L3(p,v.start,v.endA,E,x)&&t.someProp("handleKeyDown",M=>M(t,Po(8,"Backspace")))){es&&Tn&&t.domObserver.suppressSelectionUpdates();return}Tn&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),es&&!A&&E.start()!=x.start()&&x.parentOffset==0&&E.depth==x.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==v.endA&&(v.endB-=2,x=h.doc.resolveNoCache(v.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,Po(13,"Enter"))})},20));let L=v.start,$=v.endA,P=M=>{let Z=M||t.state.tr.replace(L,$,h.doc.slice(v.start-h.from,v.endB-h.from));if(h.sel){let se=Zx(t,Z.doc,h.sel);se&&!(Tn&&t.composing&&se.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(se.head==L||se.head==Z.mapping.map($)-1)||ur&&se.empty&&se.head==L)&&Z.setSelection(se)}return o&&Z.setMeta("composition",o),Z.scrollIntoView()},V;if(A)if(E.pos==x.pos){ur&&eo<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>is(t),20));let M=P(t.state.tr.delete(L,$)),Z=p.resolve(v.start).marksAcross(p.resolve(v.endA));Z&&M.ensureMarks(Z),t.dispatch(M)}else if(v.endA==v.endB&&(V=D3(E.parent.content.cut(E.parentOffset,x.parentOffset),k.parent.content.cut(k.parentOffset,v.endA-k.start())))){let M=P(t.state.tr);V.type=="add"?M.addMark(L,$,V.mark):M.removeMark(L,$,V.mark),t.dispatch(M)}else if(E.parent.child(E.index()).isText&&E.index()==x.index()-(x.textOffset?0:1)){let M=E.parent.textBetween(E.parentOffset,x.parentOffset),Z=()=>P(t.state.tr.insertText(M,L,$));t.someProp("handleTextInput",se=>se(t,L,$,M,Z))||t.dispatch(Z())}else t.dispatch(P());else t.dispatch(P())}function Zx(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Mb(t,e.resolve(n.anchor),e.resolve(n.head))}function D3(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,l,u,d;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);if(i.length==1&&o.length==0)u=i[0],l="add",d=p=>p.mark(u.addToSet(p.marks));else if(i.length==0&&o.length==1)u=o[0],l="remove",d=p=>p.mark(u.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(d(e.child(p)));if(ae.from(h).eq(t))return{mark:u,type:l}}function L3(t,e,n,r,i){if(n-e<=i.pos-r.pos||Hg(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let u=o.nodeAfter;return u!=null&&n==e+u.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=t.resolve(Hg(o,!0,!0));return!l.parent.isTextblock||l.pos>n||Hg(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Hg(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function z3(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:l,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let d=Math.max(0,o-Math.min(l,u));r-=l+d-o}if(l<o&&t.size<e.size){let d=r<=o&&r>=l?o-r:0;o-=d,o&&o<e.size&&Jx(e.textBetween(o-1,o+1))&&(o+=d?1:-1),u=o+(u-l),l=o}else if(u<o){let d=r<=o&&r>=u?o-r:0;o-=d,o&&o<t.size&&Jx(t.textBetween(o-1,o+1))&&(o+=d?1:-1),l=o+(l-u),u=o}return{start:o,endA:l,endB:u}}function Jx(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class HC{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new JB,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(r1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=t1(this),e1(this),this.nodeViews=n1(this),this.docView=Dx(this.state.doc,Qx(this),Ug(this),this.dom,this),this.domObserver=new T3(this,(r,i,o,l)=>_3(this,r,i,o,l)),this.domObserver.start(),QB(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&_y(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(r1),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(DC(this),l=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let w=n1(this);I3(w,this.nodeViews)&&(this.nodeViews=w,o=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&_y(this),this.editable=t1(this),e1(this);let d=Ug(this),h=Qx(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",g=o||!this.docView.matchesNode(e.doc,h,d);(g||!e.selection.eq(i.selection))&&(l=!0);let b=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&hB(this);if(l){this.domObserver.stop();let w=g&&(ur||Tn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&B3(i.selection,e.selection);if(g){let v=Tn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=h3(this)),(o||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Dx(e.doc,h,d,this.dom,this)),v&&!this.trackWrites&&(w=!0)}w||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&IB(this))?is(this,w):(EC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():b&&pB(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Be){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Mx(this,n.getBoundingClientRect(),e)}else Mx(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new zC(e.slice,e.move,i<0?void 0:Be.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let u=this.directPlugins[l].props[e];if(u!=null&&(i=n?n(u):u))return i}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let u=o[l].props[e];if(u!=null&&(i=n?n(u):u))return i}}hasFocus(){if(ur){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&mB(this.dom),is(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return vB(this,e)}coordsAtPos(e,n=1){return hC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return TB(this,n||this.state,e)}pasteHTML(e,n){return au(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return au(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Ab(this,e)}destroy(){this.docView&&(e3(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ug(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,rB())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return n3(this,e)}domSelectionRange(){let e=this.domSelection();return e?Vn&&this.root.nodeType===11&&lB(this.dom.ownerDocument)==this.dom&&M3(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}HC.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Qx(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Fn.node(0,t.state.doc.content.size,e)]}function e1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Fn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function t1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function B3(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function n1(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function I3(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function r1(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ro={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},If={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},P3=typeof navigator<"u"&&/Mac/.test(navigator.platform),U3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var In=0;In<10;In++)ro[48+In]=ro[96+In]=String(In);for(var In=1;In<=24;In++)ro[In+111]="F"+In;for(var In=65;In<=90;In++)ro[In]=String.fromCharCode(In+32),If[In]=String.fromCharCode(In);for(var $g in ro)If.hasOwnProperty($g)||(If[$g]=ro[$g]);function H3(t){var e=P3&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||U3&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?If:ro)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const $3=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),j3=typeof navigator<"u"&&/Win/.test(navigator.platform);function q3(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,l;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))$3?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function F3(t){let e=Object.create(null);for(let n in t)e[q3(n)]=t[n];return e}function jg(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function V3(t){return new It({props:{handleKeyDown:$C(t)}})}function $C(t){let e=F3(t);return function(n,r){let i=H3(r),o,l=e[jg(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let u=e[jg(i,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(j3&&r.ctrlKey&&r.altKey)&&(o=ro[r.keyCode])&&o!=i){let u=e[jg(o,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var K3=Object.defineProperty,Lb=(t,e)=>{for(var n in e)K3(t,n,{get:e[n],enumerable:!0})};function Kh(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var Gh=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...h)=>{const p=u(...h)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,l=[],u=!!t,d=t||i.tr,h=()=>(!u&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),l.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(n).map(([g,b])=>[g,(...v)=>{const E=this.buildProps(d,e),x=b(...v)(E);return l.push(x),p}])),run:h};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...h)=>d(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,l={tr:t,editor:r,view:o,state:Kh({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,d])=>[u,(...h)=>d(...h)(l)]))}};return l}},oi={};Lb(oi,{blur:()=>G3,clearContent:()=>Y3,clearNodes:()=>W3,command:()=>X3,createParagraphNear:()=>Z3,cut:()=>J3,deleteCurrentNode:()=>Q3,deleteNode:()=>eI,deleteRange:()=>tI,deleteSelection:()=>nI,enter:()=>rI,exitCode:()=>iI,extendMarkRange:()=>sI,first:()=>oI,focus:()=>aI,forEach:()=>lI,insertContent:()=>cI,insertContentAt:()=>fI,joinBackward:()=>mI,joinDown:()=>pI,joinForward:()=>gI,joinItemBackward:()=>yI,joinItemForward:()=>bI,joinTextblockBackward:()=>wI,joinTextblockForward:()=>vI,joinUp:()=>hI,keyboardShortcut:()=>SI,lift:()=>xI,liftEmptyBlock:()=>kI,liftListItem:()=>TI,newlineInCode:()=>CI,resetAttributes:()=>MI,scrollIntoView:()=>AI,selectAll:()=>OI,selectNodeBackward:()=>RI,selectNodeForward:()=>NI,selectParentNode:()=>_I,selectTextblockEnd:()=>DI,selectTextblockStart:()=>LI,setContent:()=>zI,setMark:()=>nP,setMeta:()=>rP,setNode:()=>iP,setNodeSelection:()=>sP,setTextDirection:()=>oP,setTextSelection:()=>aP,sinkListItem:()=>lP,splitBlock:()=>cP,splitListItem:()=>uP,toggleList:()=>dP,toggleMark:()=>fP,toggleNode:()=>hP,toggleWrap:()=>pP,undoInputRule:()=>mP,unsetAllMarks:()=>gP,unsetMark:()=>yP,unsetTextDirection:()=>bP,updateAttributes:()=>wP,wrapIn:()=>vP,wrapInList:()=>EP});var G3=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),Y3=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),W3=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:l})=>{t.doc.nodesBetween(o.pos,l.pos,(u,d)=>{if(u.type.isText)return;const{doc:h,mapping:p}=e,g=h.resolve(p.map(d)),b=h.resolve(p.map(d+u.nodeSize)),w=g.blockRange(b);if(!w)return;const v=kl(w);if(u.type.isTextblock){const{defaultType:E}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(w.start,E)}(v||v===0)&&e.lift(w,v)})}),!0},X3=t=>e=>t(e),Z3=()=>({state:t,dispatch:e})=>nC(t,e),J3=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,o.content),r.setSelection(new Ke(r.doc.resolve(Math.max(l-1,0)))),!0},Q3=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const u=i.before(o),d=i.after(o);t.delete(u,d).scrollIntoView()}return!0}return!1};function yn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var eI=t=>({tr:e,state:n,dispatch:r})=>{const i=yn(t,n.schema),o=e.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===i){if(r){const d=o.before(l),h=o.after(l);e.delete(d,h).scrollIntoView()}return!0}return!1},tI=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},nI=()=>({state:t,dispatch:e})=>vb(t,e),rI=()=>({commands:t})=>t.keyboardShortcut("Enter"),iI=()=>({state:t,dispatch:e})=>jz(t,e);function zb(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Pf(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:zb(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function jC(t,e,n={}){return t.find(r=>r.type===e&&Pf(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function i1(t,e,n={}){return!!jC(t,e,n)}function Bb(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!jC([...i.node.marks],e,n)))return;let l=i.index,u=t.start()+i.offset,d=l+1,h=u+i.node.nodeSize;for(;l>0&&i1([...t.parent.child(l-1).marks],e,n);)l-=1,u-=t.parent.child(l).nodeSize;for(;d<t.parent.childCount&&i1([...t.parent.child(d).marks],e,n);)h+=t.parent.child(d).nodeSize,d+=1;return{from:u,to:h}}function ls(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var sI=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=ls(t,r.schema),{doc:l,selection:u}=n,{$from:d,from:h,to:p}=u;if(i){const g=Bb(d,o,e);if(g&&g.from<=h&&g.to>=p){const b=Ke.create(l,g.from,g.to);n.setSelection(b)}}return!0},oI=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function qC(t){return t instanceof Ke}function qo(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function FC(t,e=null){if(!e)return null;const n=et.atStart(t),r=et.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?Ke.create(t,qo(0,i,o),qo(t.content.size,i,o)):Ke.create(t,qo(e,i,o),qo(e,i,o))}function VC(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Yh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var aI=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const l=()=>{(Yh()||VC())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!qC(n.state.selection))return l(),!0;const u=FC(i.doc,t)||n.state.selection,d=n.state.selection.eq(u);return o&&(d||i.setSelection(u),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},lI=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),cI=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),KC=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&KC(r)}return t};function Uc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return KC(n)}function cu(t,e,n){if(t instanceof ci||t instanceof ae)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ae.fromArray(t.map(u=>e.nodeFromJSON(u)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),cu("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,u="";const d=new OT({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?ol.fromSchema(d).parseSlice(Uc(t),n.parseOptions):ol.fromSchema(d).parse(Uc(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const o=ol.fromSchema(e);return n.slice?o.parseSlice(Uc(t),n.parseOptions).content:o.parse(Uc(t),n.parseOptions)}return cu("",e,n)}function uI(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof kn||i instanceof Cn))return;const o=t.mapping.maps[r];let l=0;o.forEach((u,d,h,p)=>{l===0&&(l=p)}),t.setSelection(et.near(t.doc.resolve(l),n))}var dI=t=>!("type"in t),fI=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var l;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const d=x=>{o.emit("contentError",{editor:o,error:x,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{cu(e,o.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(x){d(x)}try{u=cu(e,o.schema,{parseOptions:h,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:o.options.enableContentCheck})}catch(x){return d(x),!1}let{from:p,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},b=!0,w=!0;if((dI(u)?u:[u]).forEach(x=>{x.check(),b=b?x.isText&&x.marks.length===0:!1,w=w?x.isBlock:!1}),p===g&&w){const{parent:x}=r.doc.resolve(p);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(p-=1,g+=1)}let E;if(b){if(Array.isArray(e))E=e.map(x=>x.text||"").join("");else if(e instanceof ae){let x="";e.forEach(k=>{k.text&&(x+=k.text)}),E=x}else typeof e=="object"&&e&&e.text?E=e.text:E=e;r.insertText(E,p,g)}else{E=u;const x=r.doc.resolve(p),k=x.node(),A=x.parentOffset===0,L=k.isText||k.isTextblock,$=k.content.size>0;A&&L&&$&&(p=Math.max(0,p-1)),r.replaceWith(p,g,E)}n.updateSelection&&uI(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:E}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:E})}return!0},hI=()=>({state:t,dispatch:e})=>Uz(t,e),pI=()=>({state:t,dispatch:e})=>Hz(t,e),mI=()=>({state:t,dispatch:e})=>WT(t,e),gI=()=>({state:t,dispatch:e})=>QT(t,e),yI=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Hh(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},bI=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Hh(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},wI=()=>({state:t,dispatch:e})=>Iz(t,e),vI=()=>({state:t,dispatch:e})=>Pz(t,e);function GC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function EI(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,l;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))Yh()||GC()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var SI=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=EI(t).split(/-(?!$)/),l=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,u))});return d?.steps.forEach(h=>{const p=h.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function io(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,l=e?yn(e,t.schema):null,u=[];t.doc.nodesBetween(r,i,(g,b)=>{if(g.isText)return;const w=Math.max(r,b),v=Math.min(i,b+g.nodeSize);u.push({node:g,from:w,to:v})});const d=i-r,h=u.filter(g=>l?l.name===g.node.type.name:!0).filter(g=>Pf(g.node.attrs,n,{strict:!1}));return o?!!h.length:h.reduce((g,b)=>g+b.to-b.from,0)>=d}var xI=(t,e={})=>({state:n,dispatch:r})=>{const i=yn(t,n.schema);return io(n,i,e)?$z(n,r):!1},kI=()=>({state:t,dispatch:e})=>rC(t,e),TI=t=>({state:e,dispatch:n})=>{const r=yn(t,e.schema);return Qz(r)(e,n)},CI=()=>({state:t,dispatch:e})=>tC(t,e);function Wh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function s1(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var MI=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,l=null;const u=Wh(typeof t=="string"?t:t.name,r.schema);if(!u)return!1;u==="node"&&(o=yn(t,r.schema)),u==="mark"&&(l=ls(t,r.schema));let d=!1;return n.selection.ranges.forEach(h=>{r.doc.nodesBetween(h.$from.pos,h.$to.pos,(p,g)=>{o&&o===p.type&&(d=!0,i&&n.setNodeMarkup(g,void 0,s1(p.attrs,e))),l&&p.marks.length&&p.marks.forEach(b=>{l===b.type&&(d=!0,i&&n.addMark(g,g+p.nodeSize,l.create(s1(b.attrs,e))))})})}),d},AI=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),OI=()=>({tr:t,dispatch:e})=>{if(e){const n=new Mr(t.doc);t.setSelection(n)}return!0},RI=()=>({state:t,dispatch:e})=>ZT(t,e),NI=()=>({state:t,dispatch:e})=>eC(t,e),_I=()=>({state:t,dispatch:e})=>Vz(t,e),DI=()=>({state:t,dispatch:e})=>Yz(t,e),LI=()=>({state:t,dispatch:e})=>Gz(t,e);function Dy(t,e,n={},r={}){return cu(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var zI=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:l,commands:u})=>{const{doc:d}=o;if(r.preserveWhitespace!=="full"){const h=Dy(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&o.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!n),!0}return l&&o.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:d.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function YC(t,e){const n=ls(e,t.schema),{from:r,to:i,empty:o}=t.selection,l=[];o?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,d=>{l.push(...d.marks)});const u=l.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function WC(t,e){const n=new VT(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function BI(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Ly(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function II(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function PI(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Xh(t){return e=>PI(e.$from,t)}function _e(t,e,n){return t.config[e]===void 0&&t.parent?_e(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?_e(t.parent,e,n):null}):t.config[e]}function Zh(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=_e(e,"addExtensions",n);return r?[e,...Zh(r())]:e}).flat(10)}function Ib(t,e){const n=la.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function XC(t){return typeof t=="function"}function Mt(t,e=void 0,...n){return XC(t)?e?t.bind(e)(...n):t(...n):t}function UI(t={}){return Object.keys(t).length===0&&t.constructor===Object}function ml(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function ZC(t){const e=[],{nodeExtensions:n,markExtensions:r}=ml(t),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage,extensions:i},d=_e(l,"addGlobalAttributes",u);if(!d)return;d().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([b,w])=>{e.push({type:g,name:b,attribute:{...o,...w}})})})})}),i.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage},d=_e(l,"addAttributes",u);if(!d)return;const h=d();Object.entries(h).forEach(([p,g])=>{const b={...o,...g};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,e.push({type:l.name,name:p,attribute:b})})}),e}function ln(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const u=o?String(o).split(" "):[],d=r[i]?r[i].split(" "):[],h=u.filter(p=>!d.includes(p));r[i]=[...d,...h].join(" ")}else if(i==="style"){const u=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;d.forEach(p=>{const[g,b]=p.split(":").map(w=>w.trim());h.set(g,b)}),u.forEach(p=>{const[g,b]=p.split(":").map(w=>w.trim());h.set(g,b)}),r[i]=Array.from(h.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else r[i]=o}),r},{})}function uu(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ln(n,r),{})}function HI(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function o1(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,l)=>{const u=l.attribute.parseHTML?l.attribute.parseHTML(n):HI(n.getAttribute(l.name));return u==null?o:{...o,[l.name]:u}},{});return{...r,...i}}}}function a1(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&UI(n)?!1:n!=null))}function l1(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function JC(t,e){var n;const r=ZC(t),{nodeExtensions:i,markExtensions:o}=ml(t),l=(n=i.find(h=>_e(h,"topNode")))==null?void 0:n.name,u=Object.fromEntries(i.map(h=>{const p=r.filter(k=>k.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((k,A)=>{const L=_e(A,"extendNodeSchema",g);return{...k,...L?L(h):{}}},{}),w=a1({...b,content:Mt(_e(h,"content",g)),marks:Mt(_e(h,"marks",g)),group:Mt(_e(h,"group",g)),inline:Mt(_e(h,"inline",g)),atom:Mt(_e(h,"atom",g)),selectable:Mt(_e(h,"selectable",g)),draggable:Mt(_e(h,"draggable",g)),code:Mt(_e(h,"code",g)),whitespace:Mt(_e(h,"whitespace",g)),linebreakReplacement:Mt(_e(h,"linebreakReplacement",g)),defining:Mt(_e(h,"defining",g)),isolating:Mt(_e(h,"isolating",g)),attrs:Object.fromEntries(p.map(l1))}),v=Mt(_e(h,"parseHTML",g));v&&(w.parseDOM=v.map(k=>o1(k,p)));const E=_e(h,"renderHTML",g);E&&(w.toDOM=k=>E({node:k,HTMLAttributes:uu(k,p)}));const x=_e(h,"renderText",g);return x&&(w.toText=x),[h.name,w]})),d=Object.fromEntries(o.map(h=>{const p=r.filter(x=>x.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((x,k)=>{const A=_e(k,"extendMarkSchema",g);return{...x,...A?A(h):{}}},{}),w=a1({...b,inclusive:Mt(_e(h,"inclusive",g)),excludes:Mt(_e(h,"excludes",g)),group:Mt(_e(h,"group",g)),spanning:Mt(_e(h,"spanning",g)),code:Mt(_e(h,"code",g)),attrs:Object.fromEntries(p.map(l1))}),v=Mt(_e(h,"parseHTML",g));v&&(w.parseDOM=v.map(x=>o1(x,p)));const E=_e(h,"renderHTML",g);return E&&(w.toDOM=x=>E({mark:x,HTMLAttributes:uu(x,p)})),[h.name,w]}));return new OT({topNode:l,nodes:u,marks:d})}function $I(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Pb(t){return t.sort((n,r)=>{const i=_e(n,"priority")||100,o=_e(r,"priority")||100;return i>o?-1:i<o?1:0})}function Ub(t){const e=Pb(Zh(t)),n=$I(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function jI(t,e){const n=Ub(t);return JC(n,e)}function qI(t,e){const n=jI(e),r=Uc(t);return ol.fromSchema(n).parse(r).toJSON()}function QC(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:l={}}=n||{};let u="";return t.nodesBetween(r,i,(d,h,p,g)=>{var b;d.isBlock&&h>r&&(u+=o);const w=l?.[d.type.name];if(w)return p&&(u+=w({node:d,pos:h,parent:p,index:g,range:e})),!1;d.isText&&(u+=(b=d?.text)==null?void 0:b.slice(Math.max(r,h)-h,i-h))}),u}function FI(t,e){const n={from:0,to:t.content.size};return QC(t,n,e)}function eM(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function VI(t,e){const n=yn(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,u=>{o.push(u)});const l=o.reverse().find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function tM(t,e){const n=Wh(typeof e=="string"?e:e.name,t.schema);return n==="node"?VI(t,e):n==="mark"?YC(t,e):{}}function KI(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function GI(t){const e=KI(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,l)=>l!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function nM(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const l=[];if(i.ranges.length)i.forEach((u,d)=>{l.push({from:u,to:d})});else{const{from:u,to:d}=n[o];if(u===void 0||d===void 0)return;l.push({from:u,to:d})}l.forEach(({from:u,to:d})=>{const h=e.slice(o).map(u,-1),p=e.slice(o).map(d),g=e.invert().map(h,-1),b=e.invert().map(p);r.push({oldRange:{from:g,to:b},newRange:{from:h,to:p}})})}),GI(r)}function Hb(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),l=Bb(o,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:o,to:o+i.nodeSize,mark:l})))}),r}var YI=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let o=r,l=null;for(;o>0&&l===null;){const u=i.node(o);u?.type.name===e?l=u:o-=1}return[l,o]};function qg(t,e){return e.nodes[t]||e.marks[t]||null}function Ef(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var WI=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,l,u)=>{var d,h;const p=((h=(d=i.type.spec).toText)==null?void 0:h.call(d,{node:i,pos:o,parent:l,index:u}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-o))}),n};function zy(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?ls(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>o?o.name===g.type.name:!0).find(g=>Pf(g.attrs,n,{strict:!1}));let l=0;const u=[];if(i.forEach(({$from:g,$to:b})=>{const w=g.pos,v=b.pos;t.doc.nodesBetween(w,v,(E,x)=>{if(!E.isText&&!E.marks.length)return;const k=Math.max(w,x),A=Math.min(v,x+E.nodeSize),L=A-k;l+=L,u.push(...E.marks.map($=>({mark:$,from:k,to:A})))})}),l===0)return!1;const d=u.filter(g=>o?o.name===g.mark.type.name:!0).filter(g=>Pf(g.mark.attrs,n,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),h=u.filter(g=>o?g.mark.type!==o&&g.mark.type.excludes(o):!0).reduce((g,b)=>g+b.to-b.from,0);return(d>0?d+h:d)>=l}function XI(t,e,n={}){if(!e)return io(t,null,n)||zy(t,null,n);const r=Wh(e,t.schema);return r==="node"?io(t,e,n):r==="mark"?zy(t,e,n):!1}var ZI=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const o=Xh(u=>u.type.name===e)(t.selection);if(!o)return!1;const l=t.doc.resolve(o.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},JI=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function c1(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function u1(t,e){const{nodeExtensions:n}=ml(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Mt(_e(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Jh(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(Jh(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function rM(t){return t instanceof Be}var iM=class sM{constructor(e){this.position=e}static fromJSON(e){return new sM(e.position)}toJSON(){return{position:this.position}}};function QI(t,e){const n=e.mapping.mapResult(t.position);return{position:new iM(n.pos),mapResult:n}}function eP(t){return new iM(t)}function tP(t,e,n){var r;const{selection:i}=e;let o=null;if(qC(i)&&(o=i.$cursor),o){const u=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(h=>h.type.excludes(n)))}const{ranges:l}=i;return l.some(({$from:u,$to:d})=>{let h=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,d.pos,(p,g,b)=>{if(h)return!1;if(p.isInline){const w=!b||b.type.allowsMarkType(n),v=!!n.isInSet(p.marks)||!p.marks.some(E=>E.type.excludes(n));h=w&&v}return!h}),h})}var nP=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:l,ranges:u}=o,d=ls(t,r.schema);if(i)if(l){const h=YC(r,d);n.addStoredMark(d.create({...h,...e}))}else u.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;r.doc.nodesBetween(p,g,(b,w)=>{const v=Math.max(w,p),E=Math.min(w+b.nodeSize,g);b.marks.find(k=>k.type===d)?b.marks.forEach(k=>{d===k.type&&n.addMark(v,E,d.create({...k.attrs,...e}))}):n.addMark(v,E,d.create(e))})});return tP(r,n,d)},rP=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),iP=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=yn(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:u})=>kx(o,{...l,...e})(n)?!0:u.clearNodes()).command(({state:u})=>kx(o,{...l,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},sP=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=qo(t,0,r.content.size),o=Be.create(r,i);e.setSelection(o)}return!0},oP=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=r;let l,u;return typeof e=="number"?(l=e,u=e):e&&"from"in e&&"to"in e?(l=e.from,u=e.to):(l=o.from,u=o.to),i&&n.doc.nodesBetween(l,u,(d,h)=>{d.isText||n.setNodeMarkup(h,void 0,{...d.attrs,dir:t})}),!0},aP=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,l=Ke.atStart(r).from,u=Ke.atEnd(r).to,d=qo(i,l,u),h=qo(o,l,u),p=Ke.create(r,d,h);e.setSelection(p)}return!0},lP=t=>({state:e,dispatch:n})=>{const r=yn(t,e.schema);return nB(r)(e,n)};function d1(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var cP=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:l}=e,{$from:u,$to:d}=o,h=i.extensionManager.attributes,p=Ef(h,u.node().type.name,u.node().attrs);if(o instanceof Be&&o.node.isBlock)return!u.parentOffset||!rs(l,u.pos)?!1:(r&&(t&&d1(n,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,b=u.depth===0?void 0:BI(u.node(-1).contentMatchAt(u.indexAfter(-1)));let w=g&&b?[{type:b,attrs:p}]:void 0,v=rs(e.doc,e.mapping.map(u.pos),1,w);if(!w&&!v&&rs(e.doc,e.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(v=!0,w=b?[{type:b,attrs:p}]:void 0),r){if(v&&(o instanceof Ke&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,w),b&&!g&&!u.parentOffset&&u.parent.type!==b)){const E=e.mapping.map(u.before()),x=e.doc.resolve(E);u.node(-1).canReplaceWith(x.index(),x.index()+1,b)&&e.setNodeMarkup(e.mapping.map(u.before()),b)}t&&d1(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return v},uP=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var l;const u=yn(t,r.schema),{$from:d,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(h))return!1;const g=d.node(-1);if(g.type!==u)return!1;const b=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let k=ae.empty;const A=d.index(-1)?1:d.index(-2)?2:3;for(let Z=d.depth-A;Z>=d.depth-3;Z-=1)k=ae.from(d.node(Z).copy(k));const L=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,$={...Ef(b,d.node().type.name,d.node().attrs),...e},P=((l=u.contentMatch.defaultType)==null?void 0:l.createAndFill($))||void 0;k=k.append(ae.from(u.createAndFill(null,P)||void 0));const V=d.before(d.depth-(A-1));n.replace(V,d.after(-L),new ve(k,4-A,0));let M=-1;n.doc.nodesBetween(V,n.doc.content.size,(Z,se)=>{if(M>-1)return!1;Z.isTextblock&&Z.content.size===0&&(M=se+1)}),M>-1&&n.setSelection(Ke.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const w=h.pos===d.end()?g.contentMatchAt(0).defaultType:null,v={...Ef(b,g.type.name,g.attrs),...e},E={...Ef(b,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,h.pos);const x=w?[{type:u,attrs:v},{type:w,attrs:E}]:[{type:u,attrs:v}];if(!rs(n.doc,d.pos,2))return!1;if(i){const{selection:k,storedMarks:A}=r,{splittableMarks:L}=o.extensionManager,$=A||k.$to.parentOffset&&k.$from.marks();if(n.split(d.pos,2,x).scrollIntoView(),!$||!i)return!0;const P=$.filter(V=>L.includes(V.type.name));n.ensureMarks(P)}return!0},Fg=(t,e)=>{const n=Xh(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&ao(t.doc,n.pos)&&t.join(n.pos),!0},Vg=(t,e)=>{const n=Xh(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&ao(t.doc,r)&&t.join(r),!0},dP=(t,e,n,r={})=>({editor:i,tr:o,state:l,dispatch:u,chain:d,commands:h,can:p})=>{const{extensions:g,splittableMarks:b}=i.extensionManager,w=yn(t,l.schema),v=yn(e,l.schema),{selection:E,storedMarks:x}=l,{$from:k,$to:A}=E,L=k.blockRange(A),$=x||E.$to.parentOffset&&E.$from.marks();if(!L)return!1;const P=Xh(V=>u1(V.type.name,g))(E);if(L.depth>=1&&P&&L.depth-P.depth<=1){if(P.node.type===w)return h.liftListItem(v);if(u1(P.node.type.name,g)&&w.validContent(P.node.content)&&u)return d().command(()=>(o.setNodeMarkup(P.pos,w),!0)).command(()=>Fg(o,w)).command(()=>Vg(o,w)).run()}return!n||!$||!u?d().command(()=>p().wrapInList(w,r)?!0:h.clearNodes()).wrapInList(w,r).command(()=>Fg(o,w)).command(()=>Vg(o,w)).run():d().command(()=>{const V=p().wrapInList(w,r),M=$.filter(Z=>b.includes(Z.type.name));return o.ensureMarks(M),V?!0:h.clearNodes()}).wrapInList(w,r).command(()=>Fg(o,w)).command(()=>Vg(o,w)).run()},fP=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,l=ls(t,r.schema);return zy(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:o}):i.setMark(l,e)},hP=(t,e,n={})=>({state:r,commands:i})=>{const o=yn(t,r.schema),l=yn(e,r.schema),u=io(r,o,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),u?i.setNode(l,d):i.setNode(o,{...d,...n})},pP=(t,e={})=>({state:n,commands:r})=>{const i=yn(t,n.schema);return io(n,i,e)?r.lift(i):r.wrapIn(i,e)},mP=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const l=t.tr,u=o.transform;for(let d=u.steps.length-1;d>=0;d-=1)l.step(u.steps[d].invert(u.docs[d]));if(o.text){const d=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,t.schema.text(o.text,d))}else l.delete(o.from,o.to)}return!0}}return!1},gP=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},yP=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:u}=n,d=ls(t,r.schema),{$from:h,empty:p,ranges:g}=u;if(!i)return!0;if(p&&l){let{from:b,to:w}=u;const v=(o=h.marks().find(x=>x.type===d))==null?void 0:o.attrs,E=Bb(h,d,v);E&&(b=E.from,w=E.to),n.removeMark(b,w,d)}else g.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,d)});return n.removeStoredMark(d),!0},bP=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let o,l;return typeof t=="number"?(o=t,l=t):t&&"from"in t&&"to"in t?(o=t.from,l=t.to):(o=i.from,l=i.to),r&&e.doc.nodesBetween(o,l,(u,d)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,e.setNodeMarkup(d,void 0,h)}),!0},wP=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,l=null;const u=Wh(typeof t=="string"?t:t.name,r.schema);if(!u)return!1;u==="node"&&(o=yn(t,r.schema)),u==="mark"&&(l=ls(t,r.schema));let d=!1;return n.selection.ranges.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;let b,w,v,E;n.selection.empty?r.doc.nodesBetween(p,g,(x,k)=>{o&&o===x.type&&(d=!0,v=Math.max(k,p),E=Math.min(k+x.nodeSize,g),b=k,w=x)}):r.doc.nodesBetween(p,g,(x,k)=>{k<p&&o&&o===x.type&&(d=!0,v=Math.max(k,p),E=Math.min(k+x.nodeSize,g),b=k,w=x),k>=p&&k<=g&&(o&&o===x.type&&(d=!0,i&&n.setNodeMarkup(k,void 0,{...x.attrs,...e})),l&&x.marks.length&&x.marks.forEach(A=>{if(l===A.type&&(d=!0,i)){const L=Math.max(k,p),$=Math.min(k+x.nodeSize,g);n.addMark(L,$,l.create({...A.attrs,...e}))}}))}),w&&(b!==void 0&&i&&n.setNodeMarkup(b,void 0,{...w.attrs,...e}),l&&w.marks.length&&w.marks.forEach(x=>{l===x.type&&i&&n.addMark(v,E,l.create({...x.attrs,...e}))}))}),d},vP=(t,e={})=>({state:n,dispatch:r})=>{const i=yn(t,n.schema);return Wz(i,e)(n,r)},EP=(t,e={})=>({state:n,dispatch:r})=>{const i=yn(t,n.schema);return Xz(i,e)(n,r)},SP=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}},Qh=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},xP=(t,e)=>{if(zb(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Qd(t){var e;const{editor:n,from:r,to:i,text:o,rules:l,plugin:u}=t,{view:d}=n;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let p=!1;const g=WI(h)+o;return l.forEach(b=>{if(p)return;const w=xP(g,b.find);if(!w)return;const v=d.state.tr,E=Kh({state:d.state,transaction:v}),x={from:r-(w[0].length-o.length),to:i},{commands:k,chain:A,can:L}=new Gh({editor:n,state:E});b.handler({state:E,range:x,match:w,commands:k,chain:A,can:L})===null||!v.steps.length||(b.undoable&&v.setMeta(u,{transform:v,from:r,to:i,text:o}),d.dispatch(v),p=!0)}),p}function kP(t){const{editor:e,rules:n}=t,r=new It({state:{init(){return null},apply(i,o,l){const u=i.getMeta(r);if(u)return u;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=Ib(ae.from(p),l.schema);const{from:g}=d,b=g+p.length;Qd({editor:e,from:g,to:b,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,l,u){return Qd({editor:e,from:o,to:l,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Qd({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Qd({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function TP(t){return Object.prototype.toString.call(t).slice(8,-1)}function ef(t){return TP(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function oM(t,e){const n={...t};return ef(t)&&ef(e)&&Object.keys(e).forEach(r=>{ef(e[r])&&ef(t[r])?n[r]=oM(t[r],e[r]):n[r]=e[r]}),n}var $b=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Mt(_e(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Mt(_e(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>oM(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},ca=class aM extends $b{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new aM(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(h=>h?.type.name===n.name))return!1;const d=l.find(h=>h?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function CP(t){return typeof t=="number"}var MP=class{constructor(t){this.find=t.find,this.handler=t.handler}},AP=(t,e,n)=>{if(zb(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function OP(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:l,dropEvent:u}=t,{commands:d,chain:h,can:p}=new Gh({editor:e,state:n}),g=[];return n.doc.nodesBetween(r,i,(w,v)=>{var E,x,k,A,L;if((x=(E=w.type)==null?void 0:E.spec)!=null&&x.code||!(w.isText||w.isTextblock||w.isInline))return;const $=(L=(A=(k=w.content)==null?void 0:k.size)!=null?A:w.nodeSize)!=null?L:0,P=Math.max(r,v),V=Math.min(i,v+$);if(P>=V)return;const M=w.isText?w.text||"":w.textBetween(P-v,V-v,void 0,"");AP(M,o.find,l).forEach(se=>{if(se.index===void 0)return;const De=P+se.index+1,Ie=De+se[0].length,te={from:n.tr.mapping.map(De),to:n.tr.mapping.map(Ie)},xe=o.handler({state:n,range:te,match:se,commands:d,chain:h,can:p,pasteEvent:l,dropEvent:u});g.push(xe)})}),g.every(w=>w!==null)}var tf=null,RP=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function NP(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:p,from:g,to:b,rule:w,pasteEvt:v})=>{const E=p.tr,x=Kh({state:p,transaction:E});if(!(!OP({editor:e,state:x,from:Math.max(g-1,0),to:b.b-1,rule:w,pasteEvent:v,dropEvent:u})||!E.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(p=>new It({view(g){const b=v=>{var E;r=(E=g.dom.parentElement)!=null&&E.contains(v.target)?g.dom.parentElement:null,r&&(tf=e)},w=()=>{tf&&(tf=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",w),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",w)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(o=r===g.dom.parentElement,u=b,!o){const w=tf;w?.isEditable&&setTimeout(()=>{const v=w.state.selection;v&&w.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(g,b)=>{var w;const v=(w=b.clipboardData)==null?void 0:w.getData("text/html");return l=b,i=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(g,b,w)=>{const v=g[0],E=v.getMeta("uiEvent")==="paste"&&!i,x=v.getMeta("uiEvent")==="drop"&&!o,k=v.getMeta("applyPasteRules"),A=!!k;if(!E&&!x&&!A)return;if(A){let{text:P}=k;typeof P=="string"?P=P:P=Ib(ae.from(P),w.schema);const{from:V}=k,M=V+P.length,Z=RP(P);return d({rule:p,state:w,from:V,to:{b:M},pasteEvt:Z})}const L=b.doc.content.findDiffStart(w.doc.content),$=b.doc.content.findDiffEnd(w.doc.content);if(!(!CP(L)||!$||L===$.b))return d({rule:p,state:w,from:L,to:$,pasteEvt:l})}}))}var ep=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=Ub(t),this.schema=JC(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:qg(e.name,this.schema)},r=_e(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Pb([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:qg(r.name,this.schema)},o=[],l=_e(r,"addKeyboardShortcuts",i);let u={};if(r.type==="mark"&&_e(r,"exitable",i)&&(u.ArrowRight=()=>ca.handleExit({editor:t,mark:r})),l){const b=Object.fromEntries(Object.entries(l()).map(([w,v])=>[w,()=>v({editor:t})]));u={...u,...b}}const d=V3(u);o.push(d);const h=_e(r,"addInputRules",i);if(c1(r,t.options.enableInputRules)&&h){const b=h();if(b&&b.length){const w=kP({editor:t,rules:b}),v=Array.isArray(w)?w:[w];o.push(...v)}}const p=_e(r,"addPasteRules",i);if(c1(r,t.options.enablePasteRules)&&p){const b=p();if(b&&b.length){const w=NP({editor:t,rules:b});o.push(...w)}}const g=_e(r,"addProseMirrorPlugins",i);if(g){const b=g();o.push(...b)}return o})}get attributes(){return ZC(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=ml(this.extensions);return Object.fromEntries(e.filter(n=>!!_e(n,"addNodeView")).map(n=>{const r=this.attributes.filter(d=>d.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:yn(n.name,this.schema)},o=_e(n,"addNodeView",i);if(!o)return[];const l=o();if(!l)return[];const u=(d,h,p,g,b)=>{const w=uu(d,r);return l({node:d,view:h,getPos:p,decorations:g,innerDecorations:b,editor:t,extension:n,HTMLAttributes:w})};return[n.name,u]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=ml(this.extensions);return Object.fromEntries(e.filter(n=>!!_e(n,"addMarkView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ls(n.name,this.schema)},o=_e(n,"addMarkView",i);if(!o)return[];const l=(u,d,h)=>{const p=uu(u,r);return o()({mark:u,view:d,inline:h,editor:t,extension:n,HTMLAttributes:p,updateAttributes:g=>{KP(u,t,g)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:qg(e.name,this.schema)};e.type==="mark"&&((n=Mt(_e(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=_e(e,"onBeforeCreate",r),o=_e(e,"onCreate",r),l=_e(e,"onUpdate",r),u=_e(e,"onSelectionUpdate",r),d=_e(e,"onTransaction",r),h=_e(e,"onFocus",r),p=_e(e,"onBlur",r),g=_e(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),l&&this.editor.on("update",l),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};ep.resolve=Ub;ep.sort=Pb;ep.flatten=Zh;var _P={};Lb(_P,{ClipboardTextSerializer:()=>cM,Commands:()=>uM,Delete:()=>dM,Drop:()=>fM,Editable:()=>hM,FocusEvents:()=>mM,Keymap:()=>gM,Paste:()=>yM,Tabindex:()=>bM,TextDirection:()=>wM,focusEventsPluginKey:()=>pM});var Kt=class lM extends $b{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new lM(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},cM=Kt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new It({key:new bn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,l=Math.min(...o.map(p=>p.$from.pos)),u=Math.max(...o.map(p=>p.$to.pos)),d=eM(n);return QC(r,{from:l,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),uM=Kt.create({name:"commands",addCommands(){return{...oi}}}),dM=Kt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const o=()=>{var l,u,d,h;if((h=(d=(u=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:u.filterTransaction)==null?void 0:d.call(u,t))!=null?h:t.getMeta("y-sync$"))return;const p=WC(t.before,[t,...e]);nM(p).forEach(w=>{p.mapping.mapResult(w.oldRange.from).deletedAfter&&p.mapping.mapResult(w.oldRange.to).deletedBefore&&p.before.nodesBetween(w.oldRange.from,w.oldRange.to,(v,E)=>{const x=E+v.nodeSize-2,k=w.oldRange.from<=E&&x<=w.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:E,to:x,newFrom:p.mapping.map(E),newTo:p.mapping.map(x),deletedRange:w.oldRange,newRange:w.newRange,partial:!k,editor:this.editor,transaction:t,combinedTransform:p})})});const b=p.mapping;p.steps.forEach((w,v)=>{var E,x;if(w instanceof li){const k=b.slice(v).map(w.from,-1),A=b.slice(v).map(w.to),L=b.invert().map(k,-1),$=b.invert().map(A),P=(E=p.doc.nodeAt(k-1))==null?void 0:E.marks.some(M=>M.eq(w.mark)),V=(x=p.doc.nodeAt(A))==null?void 0:x.marks.some(M=>M.eq(w.mark));this.editor.emit("delete",{type:"mark",mark:w.mark,from:w.from,to:w.to,deletedRange:{from:L,to:$},newRange:{from:k,to:A},partial:!!(V||P),editor:this.editor,transaction:t,combinedTransform:p})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),fM=Kt.create({name:"drop",addProseMirrorPlugins(){return[new It({key:new bn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),hM=Kt.create({name:"editable",addProseMirrorPlugins(){return[new It({key:new bn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),pM=new bn("focusEvents"),mM=Kt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new It({key:pM,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),gM=Kt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:u})=>{const{selection:d,doc:h}=u,{empty:p,$anchor:g}=d,{pos:b,parent:w}=g,v=g.parent.isTextblock&&b>0?u.doc.resolve(b-1):g,E=v.parent.type.spec.isolating,x=g.pos-g.parentOffset,k=E&&v.parent.childCount===1?x===g.pos:et.atStart(h).from===b;return!p||!w.type.isTextblock||w.textContent.length||!k||k&&g.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Yh()||GC()?o:i},addProseMirrorPlugins(){return[new It({key:new bn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const r=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),i=t.some(E=>E.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:l,to:u}=e.selection,d=et.atStart(e.doc).from,h=et.atEnd(e.doc).to;if(o||!(l===d&&u===h)||!Jh(n.doc))return;const b=n.tr,w=Kh({state:n,transaction:b}),{commands:v}=new Gh({editor:this.editor,state:w});if(v.clearNodes(),!!b.steps.length)return b}})]}}),yM=Kt.create({name:"paste",addProseMirrorPlugins(){return[new It({key:new bn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),bM=Kt.create({name:"tabindex",addProseMirrorPlugins(){return[new It({key:new bn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),wM=Kt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=ml(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new It({key:new bn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),DP=class el{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new el(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new el(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new el(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,l=this.pos+r+(o?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(l);if(!i&&u.depth<=this.depth)return;const d=new el(u,this.editor,i,i?n:null);i&&(d.actualDepth=this.depth+1),e.push(new el(u,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,l=Object.keys(n);for(let u=0;u<l.length;u+=1){const d=l[u];if(o[d]!==n[d])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&o.every(d=>n[d]===l.node.attrs[d])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},LP=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function zP(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var BP=class extends SP{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:QI,createMappablePosition:eP},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=FC(e,this.options.autofocus);this.editorState=il.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=zP(LP,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=XC(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(l=>!l.key.startsWith(o))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[hM,cM.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),uM,mM,gM,bM,fM,yM,dM,wM.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new ep(r,this)}createCommandManager(){this.commandManager=new Gh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Dy(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Dy(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new HC(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=l?.getMeta("focus"),d=l?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:l}),d&&this.emit("blur",{editor:this,event:d.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return tM(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return XI(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ib(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return FI(this.state.doc,{blockSeparator:e,textSerializers:{...eM(this.schema),...n}})}get isEmpty(){return Jh(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new DP(e,this)}get $doc(){return this.$pos(0)}};function gl(t){return new Qh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Mt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,l=r[r.length-1],u=r[0];if(l){const d=u.search(/\S/),h=n.from+u.indexOf(l),p=h+l.length;if(Hb(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(E=>E===t.type&&E!==w.mark.type)).filter(w=>w.to>h).length)return null;p<n.to&&o.delete(p,n.to),h>n.from&&o.delete(n.from+d,h);const b=n.from+d+l.length;o.addMark(n.from+d,b,t.type.create(i||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function vM(t){return new Qh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Mt(t.getAttributes,void 0,r)||{},{tr:o}=e,l=n.from;let u=n.to;const d=t.type.create(i);if(r[1]){const h=r[0].lastIndexOf(r[1]);let p=l+h;p>u?p=u:u=p+r[1].length;const g=r[0][r[0].length-1];o.insertText(g,l+r[0].length-1),o.replaceWith(p,u,d)}else if(r[0]){const h=t.type.isInline?l:l-1;o.insert(h,t.type.create(i)).delete(o.mapping.map(l),o.mapping.map(u))}o.scrollIntoView()},undoable:t.undoable})}function By(t){return new Qh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=Mt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function yl(t){return new Qh({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=Mt(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),d=l.doc.resolve(n.from).blockRange(),h=d&&bb(d,t.type,o);if(!h)return null;if(l.wrap(d,h),t.keepMarks&&t.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:w}=t.editor.extensionManager,v=b||g.$to.parentOffset&&g.$from.marks();if(v){const E=v.filter(x=>w.includes(x.type.name));l.ensureMarks(E)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(g,o).run()}const p=l.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&ao(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&l.join(n.from-1)},undoable:t.undoable})}var IP=t=>"touches"in t,PP=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=u=>{if(!this.isResizing||!this.activeHandle)return;const d=u.clientX-this.startX,h=u.clientY-this.startY;this.handleResize(d,h)},this.handleTouchMove=u=>{if(!this.isResizing||!this.activeHandle)return;const d=u.touches[0];if(!d)return;const h=d.clientX-this.startX,p=d.clientY-this.startY;this.handleResize(h,p)},this.handleMouseUp=()=>{if(!this.isResizing)return;const u=this.element.offsetWidth,d=this.element.offsetHeight;this.onCommit(u,d),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,i,o,l;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t?.options)!=null&&r.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(o=t.options)!=null&&o.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(l=t.options)!=null&&l.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),i=e.includes("left"),o=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),i&&(t.style.left="0"),o&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,IP(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),o=this.applyConstraints(r,i,n);this.element.style.width=`${o.width}px`,this.element.style.height=`${o.height}px`,this.onResize&&this.onResize(o.width,o.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,i=this.startHeight;const o=t.includes("right"),l=t.includes("left"),u=t.includes("bottom"),d=t.includes("top");return o?r=this.startWidth+e:l&&(r=this.startWidth-e),u?i=this.startHeight+n:d&&(i=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(o?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(u?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,t):{width:r,height:i}}applyConstraints(t,e,n){var r,i,o,l;if(!n){let h=Math.max(this.minSize.width,t),p=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(h=Math.min(this.maxSize.width,h)),(i=this.maxSize)!=null&&i.height&&(p=Math.min(this.maxSize.height,p)),{width:h,height:p}}let u=t,d=e;return u<this.minSize.width&&(u=this.minSize.width,d=u/this.aspectRatio),d<this.minSize.height&&(d=this.minSize.height,u=d*this.aspectRatio),(o=this.maxSize)!=null&&o.width&&u>this.maxSize.width&&(u=this.maxSize.width,d=u/this.aspectRatio),(l=this.maxSize)!=null&&l.height&&d>this.maxSize.height&&(d=this.maxSize.height,u=d*this.aspectRatio),{width:u,height:d}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function UP(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Be){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var HP={};Lb(HP,{createAtomBlockMarkdownSpec:()=>$P,createBlockMarkdownSpec:()=>jP,createInlineMarkdownSpec:()=>VP,parseAttributes:()=>jb,parseIndentedBlocks:()=>Iy,renderNestedMarkdownContent:()=>Fb,serializeAttributes:()=>qb});function jb(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const h=i.map(p=>p.trim().slice(1));e.class=h.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(l)).forEach(([,h,p])=>{var g;const b=parseInt(((g=p.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),w=n[b];w&&(e[h]=w.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function qb(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function $P(t){const{nodeName:e,name:n,parseAttributes:r=jb,serializeAttributes:i=qb,defaultAttributes:o={},requiredAttributes:l=[],allowedAttributes:u}=t,d=n||e,h=p=>{if(!u)return p;const g={};return u.forEach(b=>{b in p&&(g[b]=p[b])}),g};return{parseMarkdown:(p,g)=>{const b={...o,...p.attributes};return g.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(p){var g;const b=new RegExp(`^:::${d}(?:\\s|$)`,"m"),w=(g=p.match(b))==null?void 0:g.index;return w!==void 0?w:-1},tokenize(p,g,b){const w=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=p.match(w);if(!v)return;const E=v[1]||"",x=r(E);if(!l.find(A=>!(A in x)))return{type:e,raw:v[0],attributes:x}}},renderMarkdown:p=>{const g=h(p.attrs||{}),b=i(g),w=b?` {${b}}`:"";return`:::${d}${w} :::`}}}function jP(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=jb,serializeAttributes:o=qb,defaultAttributes:l={},content:u="block",allowedAttributes:d}=t,h=n||e,p=g=>{if(!d)return g;const b={};return d.forEach(w=>{w in g&&(b[w]=g[w])}),b};return{parseMarkdown:(g,b)=>{let w;if(r){const E=r(g);w=typeof E=="string"?[{type:"text",text:E}]:E}else u==="block"?w=b.parseChildren(g.tokens||[]):w=b.parseInline(g.tokens||[]);const v={...l,...g.attributes};return b.createNode(e,v,w)},markdownTokenizer:{name:e,level:"block",start(g){var b;const w=new RegExp(`^:::${h}`,"m"),v=(b=g.match(w))==null?void 0:b.index;return v!==void 0?v:-1},tokenize(g,b,w){var v;const E=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=g.match(E);if(!x)return;const[k,A=""]=x,L=i(A);let $=1;const P=k.length;let V="";const M=/^:::([\w-]*)(\s.*)?/gm,Z=g.slice(P);for(M.lastIndex=0;;){const se=M.exec(Z);if(se===null)break;const De=se.index,Ie=se[1];if(!((v=se[2])!=null&&v.endsWith(":::"))){if(Ie)$+=1;else if($-=1,$===0){const te=Z.slice(0,De);V=te.trim();const xe=g.slice(0,P+De+se[0].length);let he=[];if(V)if(u==="block")for(he=w.blockTokens(te),he.forEach(ge=>{ge.text&&(!ge.tokens||ge.tokens.length===0)&&(ge.tokens=w.inlineTokens(ge.text))});he.length>0;){const ge=he[he.length-1];if(ge.type==="paragraph"&&(!ge.text||ge.text.trim()===""))he.pop();else break}else he=w.inlineTokens(V);return{type:e,raw:xe,attributes:L,content:V,tokens:he}}}}}},renderMarkdown:(g,b)=>{const w=p(g.attrs||{}),v=o(w),E=v?` {${v}}`:"",x=b.renderChildren(g.content||[],`

`);return`:::${h}${E}

${x}

:::`}}}function qP(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,o,l]=r;e[i]=o||l,r=n.exec(t)}return e}function FP(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function VP(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=qP,serializeAttributes:o=FP,defaultAttributes:l={},selfClosing:u=!1,allowedAttributes:d}=t,h=n||e,p=b=>{if(!d)return b;const w={};return d.forEach(v=>{const E=typeof v=="string"?v:v.name,x=typeof v=="string"?void 0:v.skipIfDefault;if(E in b){const k=b[E];if(x!==void 0&&k===x)return;w[E]=k}}),w},g=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,w)=>{const v={...l,...b.attributes};if(u)return w.createNode(e,v);const E=r?r(b):b.content||"";return E?w.createNode(e,v,[w.createTextNode(E)]):w.createNode(e,v,[])},markdownTokenizer:{name:e,level:"inline",start(b){const w=u?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),v=b.match(w),E=v?.index;return E!==void 0?E:-1},tokenize(b,w,v){const E=u?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),x=b.match(E);if(!x)return;let k="",A="";if(u){const[,$]=x;A=$}else{const[,$,P]=x;A=$,k=P||""}const L=i(A.trim());return{type:e,raw:x[0],content:k.trim(),attributes:L}}},renderMarkdown:b=>{let w="";r?w=r(b):b.content&&b.content.length>0&&(w=b.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const v=p(b.attrs||{}),E=o(v),x=E?` ${E}`:"";return u?`[${h}${x}]`:`[${h}${x}]${w}[/${h}]`}}}function Iy(t,e,n){var r,i,o,l;const u=t.split(`
`),d=[];let h="",p=0;const g=e.baseIndentSize||2;for(;p<u.length;){const b=u[p],w=b.match(e.itemPattern);if(!w){if(d.length>0)break;if(b.trim()===""){p+=1,h=`${h}${b}
`;continue}else return}const v=e.extractItemData(w),{indentLevel:E,mainContent:x}=v;h=`${h}${b}
`;const k=[x];for(p+=1;p<u.length;){const P=u[p];if(P.trim()===""){const M=u.slice(p+1).findIndex(De=>De.trim()!=="");if(M===-1)break;if((((i=(r=u[p+1+M].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>E){k.push(P),h=`${h}${P}
`,p+=1;continue}else break}if((((l=(o=P.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:l.length)||0)>E)k.push(P),h=`${h}${P}
`,p+=1;else break}let A;const L=k.slice(1);if(L.length>0){const P=L.map(V=>V.slice(E+g)).join(`
`);P.trim()&&(e.customNestedParser?A=e.customNestedParser(P):A=n.blockTokens(P))}const $=e.createToken(v,A);d.push($)}if(d.length!==0)return{items:d,raw:h}}function Fb(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[o,...l]=t.content,u=e.renderChildren([o]),d=[`${i}${u}`];return l&&l.length>0&&l.forEach(h=>{const p=e.renderChildren([h]);if(p){const g=p.split(`
`).map(b=>b?e.indent(b):"").join(`
`);d.push(g)}}),d.join(`
`)}function KP(t,e,n={}){const{state:r}=e,{doc:i,tr:o}=r,l=t;i.descendants((u,d)=>{const h=o.mapping.map(d),p=o.mapping.map(d)+u.nodeSize;let g=null;if(u.marks.forEach(w=>{if(w!==l)return!1;g=w}),!g)return;let b=!1;if(Object.keys(n).forEach(w=>{n[w]!==g.attrs[w]&&(b=!0)}),b){const w=t.type.create({...t.attrs,...n});o.removeMark(h,p,t.type),o.addMark(h,p,w)}}),o.docChanged&&e.view.dispatch(o)}var fr=class EM extends $b{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new EM(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},GP=class{constructor(t,e,n){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.innerDecorations=e.innerDecorations,this.view=e.view,this.HTMLAttributes=e.HTMLAttributes,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,n,r,i,o,l,u;const{view:d}=this.editor,h=t.target,p=h.nodeType===3?(e=h.parentElement)==null?void 0:e.closest("[data-drag-handle]"):h.closest("[data-drag-handle]");if(!this.dom||(n=this.contentDOM)!=null&&n.contains(h)||!p)return;let g=0,b=0;if(this.dom!==p){const A=this.dom.getBoundingClientRect(),L=p.getBoundingClientRect(),$=(i=t.offsetX)!=null?i:(r=t.nativeEvent)==null?void 0:r.offsetX,P=(l=t.offsetY)!=null?l:(o=t.nativeEvent)==null?void 0:o.offsetY;g=L.x-A.x+$,b=L.y-A.y+P}const w=this.dom.cloneNode(!0);try{const A=this.dom.getBoundingClientRect();w.style.width=`${Math.round(A.width)}px`,w.style.height=`${Math.round(A.height)}px`,w.style.boxSizing="border-box",w.style.pointerEvents="none"}catch{}let v=null;try{v=document.createElement("div"),v.style.position="absolute",v.style.top="-9999px",v.style.left="-9999px",v.style.pointerEvents="none",v.appendChild(w),document.body.appendChild(v),(u=t.dataTransfer)==null||u.setDragImage(w,g,b)}finally{v&&setTimeout(()=>{try{v?.remove()}catch{}},0)}const E=this.getPos();if(typeof E!="number")return;const x=Be.create(d.state.doc,E),k=d.state.tr.setSelection(x);d.dispatch(k)}stopEvent(t){var e;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const n=t.target;if(!(this.dom.contains(n)&&!((e=this.contentDOM)!=null&&e.contains(n))))return!1;const i=t.type.startsWith("drag"),o=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!i)return!0;const{isEditable:u}=this.editor,{isDragging:d}=this,h=!!this.node.type.spec.draggable,p=Be.isSelectable(this.node),g=t.type==="copy",b=t.type==="paste",w=t.type==="cut",v=t.type==="mousedown";if(!h&&p&&i&&t.target===this.dom&&t.preventDefault(),h&&i&&!d&&t.target===this.dom)return t.preventDefault(),!1;if(h&&u&&!d&&v){const E=n.closest("[data-drag-handle]");E&&(this.dom===E||this.dom.contains(E))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(d||o||g||b||w||v&&p)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(Yh()||VC())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:e})=>{const n=this.getPos();return typeof n!="number"?!1:(e.setNodeMarkup(n,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){const t=this.getPos();if(typeof t!="number")return;const e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}};function ra(t){return new MP({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=Mt(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:l}=e,u=r[r.length-1],d=r[0];let h=n.to;if(u){const p=d.search(/\S/),g=n.from+d.indexOf(u),b=g+u.length;if(Hb(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(x=>x===t.type&&x!==v.mark.type)).filter(v=>v.to>g).length)return null;b<n.to&&l.delete(b,n.to),g>n.from&&l.delete(n.from+p,g),h=n.from+p+u.length,l.addMark(n.from+p,h,t.type.create(o||{})),l.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:YP,getOwnPropertySymbols:WP}=Object,{hasOwnProperty:XP}=Object.prototype;function Kg(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function nf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,l=o.get(n),u=o.get(r);if(l&&u)return l===r&&u===n;o.set(n,r),o.set(r,n);const d=t(n,r,i);return o.delete(n),o.delete(r),d}}function ZP(t){return t?.[Symbol.toStringTag]}function f1(t){return YP(t).concat(WP(t))}const JP=Object.hasOwn||((t,e)=>XP.call(t,e));function ua(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const QP="__v",eU="__o",tU="_owner",{getOwnPropertyDescriptor:h1,keys:p1}=Object;function nU(t,e){return t.byteLength===e.byteLength&&Uf(new Uint8Array(t),new Uint8Array(e))}function rU(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function iU(t,e){return t.byteLength===e.byteLength&&Uf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function sU(t,e){return ua(t.getTime(),e.getTime())}function oU(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function aU(t,e){return t===e}function m1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const h=e.entries();let p=!1,g=0;for(;(u=h.next())&&!u.done;){if(i[g]){g++;continue}const b=l.value,w=u.value;if(n.equals(b[0],w[0],d,g,t,e,n)&&n.equals(b[1],w[1],b[0],w[0],t,e,n)){p=i[g]=!0;break}g++}if(!p)return!1;d++}return!0}const lU=ua;function cU(t,e,n){const r=p1(t);let i=r.length;if(p1(e).length!==i)return!1;for(;i-- >0;)if(!SM(t,e,n,r[i]))return!1;return!0}function Rc(t,e,n){const r=f1(t);let i=r.length;if(f1(e).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=r[i],!SM(t,e,n,o)||(l=h1(t,o),u=h1(e,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function uU(t,e){return ua(t.valueOf(),e.valueOf())}function dU(t,e){return t.source===e.source&&t.flags===e.flags}function g1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let l,u;for(;(l=o.next())&&!l.done;){const d=e.values();let h=!1,p=0;for(;(u=d.next())&&!u.done;){if(!i[p]&&n.equals(l.value,u.value,l.value,u.value,t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function Uf(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function fU(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function SM(t,e,n,r){return(r===tU||r===eU||r===QP)&&(t.$$typeof||e.$$typeof)?!0:JP(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const hU="[object ArrayBuffer]",pU="[object Arguments]",mU="[object Boolean]",gU="[object DataView]",yU="[object Date]",bU="[object Error]",wU="[object Map]",vU="[object Number]",EU="[object Object]",SU="[object RegExp]",xU="[object Set]",kU="[object String]",TU={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},CU="[object URL]",MU=Object.prototype.toString;function AU({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:g,areTypedArraysEqual:b,areUrlsEqual:w,unknownTagComparators:v}){return function(x,k,A){if(x===k)return!0;if(x==null||k==null)return!1;const L=typeof x;if(L!==typeof k)return!1;if(L!=="object")return L==="number"?u(x,k,A):L==="function"?o(x,k,A):!1;const $=x.constructor;if($!==k.constructor)return!1;if($===Object)return d(x,k,A);if(Array.isArray(x))return e(x,k,A);if($===Date)return r(x,k,A);if($===RegExp)return p(x,k,A);if($===Map)return l(x,k,A);if($===Set)return g(x,k,A);const P=MU.call(x);if(P===yU)return r(x,k,A);if(P===SU)return p(x,k,A);if(P===wU)return l(x,k,A);if(P===xU)return g(x,k,A);if(P===EU)return typeof x.then!="function"&&typeof k.then!="function"&&d(x,k,A);if(P===CU)return w(x,k,A);if(P===bU)return i(x,k,A);if(P===pU)return d(x,k,A);if(TU[P])return b(x,k,A);if(P===hU)return t(x,k,A);if(P===gU)return n(x,k,A);if(P===mU||P===vU||P===kU)return h(x,k,A);if(v){let V=v[P];if(!V){const M=ZP(x);M&&(V=v[M])}if(V)return V(x,k,A)}return!1}}function OU({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:nU,areArraysEqual:n?Rc:rU,areDataViewsEqual:iU,areDatesEqual:sU,areErrorsEqual:oU,areFunctionsEqual:aU,areMapsEqual:n?Kg(m1,Rc):m1,areNumbersEqual:lU,areObjectsEqual:n?Rc:cU,arePrimitiveWrappersEqual:uU,areRegExpsEqual:dU,areSetsEqual:n?Kg(g1,Rc):g1,areTypedArraysEqual:n?Kg(Uf,Rc):Uf,areUrlsEqual:fU,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=nf(r.areArraysEqual),o=nf(r.areMapsEqual),l=nf(r.areObjectsEqual),u=nf(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return r}function RU(t){return function(e,n,r,i,o,l,u){return t(e,n,u)}}function NU({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,d){const{cache:h=t?new WeakMap:void 0,meta:p}=n();return e(u,d,{cache:h,equals:r,meta:p,strict:i})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,d){return e(u,d,o)}}const _U=co();co({strict:!0});co({circular:!0});co({circular:!0,strict:!0});co({createInternalComparator:()=>ua});co({strict:!0,createInternalComparator:()=>ua});co({circular:!0,createInternalComparator:()=>ua});co({circular:!0,createInternalComparator:()=>ua,strict:!0});function co(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=OU(t),l=AU(o),u=n?n(l):RU(l);return NU({circular:e,comparator:l,createState:r,equals:u,strict:i})}var Gg={exports:{}},Yg={};var y1;function DU(){if(y1)return Yg;y1=1;var t=hu(),e=fT();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Yg.useSyncExternalStoreWithSelector=function(h,p,g,b,w){var v=o(null);if(v.current===null){var E={hasValue:!1,value:null};v.current=E}else E=v.current;v=u(function(){function k(V){if(!A){if(A=!0,L=V,V=b(V),w!==void 0&&E.hasValue){var M=E.value;if(w(M,V))return $=M}return $=V}if(M=$,r(L,V))return M;var Z=b(V);return w!==void 0&&w(M,Z)?(L=V,M):(L=V,$=Z)}var A=!1,L,$,P=g===void 0?null:g;return[function(){return k(p())},P===null?void 0:function(){return k(P())}]},[p,g,b,w]);var x=i(h,v[0],v[1]);return l(function(){E.hasValue=!0,E.value=x},[x]),d(x),x},Yg}var b1;function LU(){return b1||(b1=1,Gg.exports=DU()),Gg.exports}var zU=LU(),BU=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},IU=({contentComponent:t})=>{const e=hT.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return F.jsx(F.Fragment,{children:Object.values(e)})};function PU(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:J_.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var UU=class extends as.Component{constructor(t){var e;super(t),this.editorContentRef=as.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=PU(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return F.jsxs(F.Fragment,{children:[F.jsx("div",{ref:BU(e,this.editorContentRef),...n}),t?.contentComponent&&F.jsx(IU,{contentComponent:t.contentComponent})]})}},HU=z.forwardRef((t,e)=>{const n=as.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return as.createElement(UU,{key:n,innerRef:e,...t})}),$U=as.memo(HU),jU=typeof window<"u"?z.useLayoutEffect:z.useEffect,qU=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function FU(t){var e;const[n]=z.useState(()=>new qU(t.editor)),r=zU.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:_U);return jU(()=>n.watch(t.editor),[t.editor,n]),z.useDebugValue(r),r}var VU=!1,Py=typeof window>"u",KU=Py||!!(typeof window<"u"&&window.next),GU=class xM{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Py||KU?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new BP(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,o)=>{var l;return i===((l=n.extensions)==null?void 0:l[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?xM.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function YU(t={},e=[]){const n=z.useRef(t);n.current=t;const[r]=z.useState(()=>new GU(n)),i=hT.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return z.useDebugValue(i),z.useEffect(r.onRender(e)),FU({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),i}var WU=z.createContext({editor:null});WU.Consumer;var kM=z.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),TM=()=>z.useContext(kM);function XU({as:t="div",...e}){const{nodeViewContentRef:n,nodeViewContentChildren:r}=TM();return F.jsx(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style},children:r})}var ZU=as.forwardRef((t,e)=>{const{onDragStart:n}=TM(),r=t.as||"div";return F.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function w1(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function v1(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.forward_ref)"||t.$$typeof.description==="react.forward_ref"))}function JU(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.memo)"||t.$$typeof.description==="react.memo"))}function QU(t){if(w1(t)||v1(t))return!0;if(JU(t)){const e=t.type;if(e)return w1(e)||v1(e)}return!1}function eH(){try{if(z.version)return parseInt(z.version.split(".")[0],10)>=19}catch{}return!1}var tH=class{constructor(t,{editor:e,props:n={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=t,this.editor=e,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?ub.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var t;const e=this.component,n=this.props,r=this.editor,i=eH(),o=QU(e),l={...n};l.ref&&!(i||o)&&delete l.ref,!l.ref&&(i||o)&&(l.ref=u=>{this.ref=u}),this.reactElement=F.jsx(e,{...l}),(t=r?.contentComponent)==null||t.setRenderer(this.id,this)}updateProps(t={}){this.props={...this.props,...t},this.render()}destroy(){var t;const e=this.editor;(t=e?.contentComponent)==null||t.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch{}}updateAttributes(t){Object.keys(t).forEach(e=>{this.element.setAttribute(e,t[e])})}};as.createContext({markViewContentRef:()=>{}});var nH=class extends GP{constructor(t,e,n){if(super(t,e,n),this.selectionRafId=null,!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const r=this.dom.querySelector("[data-node-view-content]");if(!r)return;r.appendChild(this.contentDOMElement)}}mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(d={})=>this.updateAttributes(d),deleteNode:()=>this.deleteNode(),ref:z.createRef()};if(!this.component.displayName){const d=h=>h.charAt(0).toUpperCase()+h.substring(1);this.component.displayName=d(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:d=>{d&&this.contentDOMElement&&d.firstChild!==this.contentDOMElement&&(d.hasAttribute("data-node-view-wrapper")&&d.removeAttribute("data-node-view-wrapper"),d.appendChild(this.contentDOMElement))}},i=this.component,o=z.memo(d=>F.jsx(kM.Provider,{value:r,children:z.createElement(i,d)}));o.displayName="ReactNodeView";let l=this.node.isInline?"span":"div";this.options.as&&(l=this.options.as);const{className:u=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new tH(o,{editor:this.editor,props:t,as:l,className:`node-${this.node.type.name} ${u}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var t;if(this.renderer.element.firstElementChild&&!((t=this.renderer.element.firstElementChild)!=null&&t.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){this.selectionRafId&&(cancelAnimationFrame(this.selectionRafId),this.selectionRafId=null),this.selectionRafId=requestAnimationFrame(()=>{this.selectionRafId=null;const{from:t,to:e}=this.editor.state.selection,n=this.getPos();if(typeof n=="number")if(t<=n&&e>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}})}update(t,e,n){const r=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(t.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,o=this.decorations,l=this.innerDecorations;return this.node=t,this.decorations=e,this.innerDecorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:t,newDecorations:e,oldInnerDecorations:l,innerDecorations:n,updateProps:()=>r({node:t,decorations:e,innerDecorations:n})})}return t===this.node&&this.decorations===e&&this.innerDecorations===n||(this.node=t,this.decorations=e,this.innerDecorations=n,r({node:t,decorations:e,innerDecorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null,this.selectionRafId&&(cancelAnimationFrame(this.selectionRafId),this.selectionRafId=null)}updateElementAttributes(){if(this.options.attrs){let t={};if(typeof this.options.attrs=="function"){const e=this.editor.extensionManager.attributes,n=uu(this.node,e);t=this.options.attrs({node:this.node,HTMLAttributes:n})}else t=this.options.attrs;this.renderer.updateAttributes(t)}}};function rH(t,e){return n=>n.editor.contentComponent?new nH(t,n,e):{}}var Hf=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},iH=/^\s*>\s$/,sH=fr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Hf("blockquote",{...ln(this.options.HTMLAttributes,t),children:Hf("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const u=e.renderChildren([i]).split(`
`).map(d=>d.trim()===""?n:`${n} ${d}`);r.push(u.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[yl({find:iH,type:this.type})]}}),oH=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,aH=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,lH=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,cH=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,uH=ca.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Hf("strong",{...ln(this.options.HTMLAttributes,t),children:Hf("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[gl({find:oH,type:this.type}),gl({find:lH,type:this.type})]},addPasteRules(){return[ra({find:aH,type:this.type}),ra({find:cH,type:this.type})]}}),dH=/(^|[^`])`([^`]+)`(?!`)$/,fH=/(^|[^`])`([^`]+)`(?!`)/g,hH=ca.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ln(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[gl({find:dH,type:this.type})]},addPasteRules(){return[ra({find:fH,type:this.type})]}}),Wg=4,pH=/^```([a-z]+)?[\s\n]$/,mH=/^~~~([a-z]+)?[\s\n]$/,CM=fr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Wg,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ln(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Wg,{state:r}=t,{selection:i}=r,{$from:o,empty:l}=i;if(o.parent.type!==this.type)return!1;const u=" ".repeat(n);return l?t.commands.insertContent(u):t.commands.command(({tr:d})=>{const{from:h,to:p}=i,w=r.doc.textBetween(h,p,`
`,`
`).split(`
`).map(v=>u+v).join(`
`);return d.replaceWith(h,p,r.schema.text(w)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Wg,{state:r}=t,{selection:i}=r,{$from:o,empty:l}=i;return o.parent.type!==this.type?!1:l?t.commands.command(({tr:u})=>{var d;const{pos:h}=o,p=o.start(),g=o.end(),w=r.doc.textBetween(p,g,`
`,`
`).split(`
`);let v=0,E=0;const x=h-p;for(let V=0;V<w.length;V+=1){if(E+w[V].length>=x){v=V;break}E+=w[V].length+1}const A=((d=w[v].match(/^ */))==null?void 0:d[0])||"",L=Math.min(A.length,n);if(L===0)return!0;let $=p;for(let V=0;V<v;V+=1)$+=w[V].length+1;return u.delete($,$+L),h-$<=L&&u.setSelection(Ke.create(u.doc,$)),!0}):t.commands.command(({tr:u})=>{const{from:d,to:h}=i,b=r.doc.textBetween(d,h,`
`,`
`).split(`
`).map(w=>{var v;const E=((v=w.match(/^ */))==null?void 0:v[0])||"",x=Math.min(E.length,n);return w.slice(x)}).join(`
`);return u.replaceWith(d,h,r.schema.text(b)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!o||!l?!1:t.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const u=i.after();return u===void 0?!1:r.nodeAt(u)?t.commands.command(({tr:h})=>(h.setSelection(et.near(r.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[By({find:pH,type:this.type,getAttributes:t=>({language:t[1]})}),By({find:mH,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new It({key:new bn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i?.mode;if(!n||!o)return!1;const{tr:l,schema:u}=t.state,d=u.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(Ke.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),gH=CM,yH=fr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),bH=fr.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ln(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:u}=r.extensionManager,d=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&d&&l){const g=d.filter(b=>u.includes(b.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),wH=fr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ln(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>By({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),vH=fr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ln(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!UP(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return rM(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:l,dispatch:u})=>{if(u){const{$to:d}=l.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?l.setSelection(Ke.create(l.doc,d.pos+1)):d.nodeAfter.isBlock?l.setSelection(Be.create(l.doc,d.pos)):l.setSelection(Ke.create(l.doc,d.pos));else{const p=o.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,g=p?.create();g&&(l.insert(h,g),l.setSelection(Ke.create(l.doc,h+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[vM({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),EH=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,SH=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,xH=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,kH=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,TH=ca.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ln(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[gl({find:EH,type:this.type}),gl({find:xH,type:this.type})]},addPasteRules(){return[ra({find:SH,type:this.type}),ra({find:kH,type:this.type})]}});const CH="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",MH="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Uy="numeric",Hy="ascii",$y="alpha",Kc="asciinumeric",Hc="alphanumeric",jy="domain",MM="emoji",AH="scheme",OH="slashscheme",Xg="whitespace";function RH(t,e){return t in e||(e[t]=[]),e[t]}function Fo(t,e,n){e[Uy]&&(e[Kc]=!0,e[Hc]=!0),e[Hy]&&(e[Kc]=!0,e[$y]=!0),e[Kc]&&(e[Hc]=!0),e[$y]&&(e[Hc]=!0),e[Hc]&&(e[jy]=!0),e[MM]&&(e[jy]=!0);for(const r in e){const i=RH(r,n);i.indexOf(t)<0&&i.push(t)}}function NH(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function ar(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}ar.groups={};ar.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||ar.groups;let i;return e&&e.j?i=e:(i=new ar(e),n&&r&&Fo(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let l=0;l<o-1;l++)i=i.tt(t[l]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||ar.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let l,u=i.go(t);if(u?(l=new ar,Object.assign(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new ar,o){if(r)if(l.t&&typeof l.t=="string"){const d=Object.assign(NH(l.t,r),n);Fo(o,d,r)}else n&&Fo(o,n,r);l.t=o}return i.j[t]=l,l}};const Qe=(t,e,n,r,i)=>t.ta(e,n,r,i),Qt=(t,e,n,r,i)=>t.tr(e,n,r,i),E1=(t,e,n,r,i)=>t.ts(e,n,r,i),ce=(t,e,n,r,i)=>t.tt(e,n,r,i),Ji="WORD",qy="UWORD",AM="ASCIINUMERICAL",OM="ALPHANUMERICAL",du="LOCALHOST",Fy="TLD",Vy="UTLD",Sf="SCHEME",tl="SLASH_SCHEME",Vb="NUM",Ky="WS",Kb="NL",Gc="OPENBRACE",Yc="CLOSEBRACE",$f="OPENBRACKET",jf="CLOSEBRACKET",qf="OPENPAREN",Ff="CLOSEPAREN",Vf="OPENANGLEBRACKET",Kf="CLOSEANGLEBRACKET",Gf="FULLWIDTHLEFTPAREN",Yf="FULLWIDTHRIGHTPAREN",Wf="LEFTCORNERBRACKET",Xf="RIGHTCORNERBRACKET",Zf="LEFTWHITECORNERBRACKET",Jf="RIGHTWHITECORNERBRACKET",Qf="FULLWIDTHLESSTHAN",eh="FULLWIDTHGREATERTHAN",th="AMPERSAND",nh="APOSTROPHE",rh="ASTERISK",$s="AT",ih="BACKSLASH",sh="BACKTICK",oh="CARET",Ks="COLON",Gb="COMMA",ah="DOLLAR",wi="DOT",lh="EQUALS",Yb="EXCLAMATION",Kr="HYPHEN",Wc="PERCENT",ch="PIPE",uh="PLUS",dh="POUND",Xc="QUERY",Wb="QUOTE",RM="FULLWIDTHMIDDLEDOT",Xb="SEMI",vi="SLASH",Zc="TILDE",fh="UNDERSCORE",NM="EMOJI",hh="SYM";var _M=Object.freeze({__proto__:null,ALPHANUMERICAL:OM,AMPERSAND:th,APOSTROPHE:nh,ASCIINUMERICAL:AM,ASTERISK:rh,AT:$s,BACKSLASH:ih,BACKTICK:sh,CARET:oh,CLOSEANGLEBRACKET:Kf,CLOSEBRACE:Yc,CLOSEBRACKET:jf,CLOSEPAREN:Ff,COLON:Ks,COMMA:Gb,DOLLAR:ah,DOT:wi,EMOJI:NM,EQUALS:lh,EXCLAMATION:Yb,FULLWIDTHGREATERTHAN:eh,FULLWIDTHLEFTPAREN:Gf,FULLWIDTHLESSTHAN:Qf,FULLWIDTHMIDDLEDOT:RM,FULLWIDTHRIGHTPAREN:Yf,HYPHEN:Kr,LEFTCORNERBRACKET:Wf,LEFTWHITECORNERBRACKET:Zf,LOCALHOST:du,NL:Kb,NUM:Vb,OPENANGLEBRACKET:Vf,OPENBRACE:Gc,OPENBRACKET:$f,OPENPAREN:qf,PERCENT:Wc,PIPE:ch,PLUS:uh,POUND:dh,QUERY:Xc,QUOTE:Wb,RIGHTCORNERBRACKET:Xf,RIGHTWHITECORNERBRACKET:Jf,SCHEME:Sf,SEMI:Xb,SLASH:vi,SLASH_SCHEME:tl,SYM:hh,TILDE:Zc,TLD:Fy,UNDERSCORE:fh,UTLD:Vy,UWORD:qy,WORD:Ji,WS:Ky});const Wi=/[a-z]/,Nc=new RegExp("\\p{L}","u"),Zg=new RegExp("\\p{Emoji}","u"),Xi=/\d/,Jg=/\s/,S1="\r",Qg=`
`,_H="",DH="",ey="";let rf=null,sf=null;function LH(t=[]){const e={};ar.groups=e;const n=new ar;rf==null&&(rf=x1(CH)),sf==null&&(sf=x1(MH)),ce(n,"'",nh),ce(n,"{",Gc),ce(n,"}",Yc),ce(n,"[",$f),ce(n,"]",jf),ce(n,"(",qf),ce(n,")",Ff),ce(n,"<",Vf),ce(n,">",Kf),ce(n,"",Gf),ce(n,"",Yf),ce(n,"",Wf),ce(n,"",Xf),ce(n,"",Zf),ce(n,"",Jf),ce(n,"",Qf),ce(n,"",eh),ce(n,"&",th),ce(n,"*",rh),ce(n,"@",$s),ce(n,"`",sh),ce(n,"^",oh),ce(n,":",Ks),ce(n,",",Gb),ce(n,"$",ah),ce(n,".",wi),ce(n,"=",lh),ce(n,"!",Yb),ce(n,"-",Kr),ce(n,"%",Wc),ce(n,"|",ch),ce(n,"+",uh),ce(n,"#",dh),ce(n,"?",Xc),ce(n,'"',Wb),ce(n,"/",vi),ce(n,";",Xb),ce(n,"~",Zc),ce(n,"_",fh),ce(n,"\\",ih),ce(n,"",RM);const r=Qt(n,Xi,Vb,{[Uy]:!0});Qt(r,Xi,r);const i=Qt(r,Wi,AM,{[Kc]:!0}),o=Qt(r,Nc,OM,{[Hc]:!0}),l=Qt(n,Wi,Ji,{[Hy]:!0});Qt(l,Xi,i),Qt(l,Wi,l),Qt(i,Xi,i),Qt(i,Wi,i);const u=Qt(n,Nc,qy,{[$y]:!0});Qt(u,Wi),Qt(u,Xi,o),Qt(u,Nc,u),Qt(o,Xi,o),Qt(o,Wi),Qt(o,Nc,o);const d=ce(n,Qg,Kb,{[Xg]:!0}),h=ce(n,S1,Ky,{[Xg]:!0}),p=Qt(n,Jg,Ky,{[Xg]:!0});ce(n,ey,p),ce(h,Qg,d),ce(h,ey,p),Qt(h,Jg,p),ce(p,S1),ce(p,Qg),Qt(p,Jg,p),ce(p,ey,p);const g=Qt(n,Zg,NM,{[MM]:!0});ce(g,"#"),Qt(g,Zg,g),ce(g,_H,g);const b=ce(g,DH);ce(b,"#"),Qt(b,Zg,g);const w=[[Wi,l],[Xi,i]],v=[[Wi,null],[Nc,u],[Xi,o]];for(let E=0;E<rf.length;E++)Ps(n,rf[E],Fy,Ji,w);for(let E=0;E<sf.length;E++)Ps(n,sf[E],Vy,qy,v);Fo(Fy,{tld:!0,ascii:!0},e),Fo(Vy,{utld:!0,alpha:!0},e),Ps(n,"file",Sf,Ji,w),Ps(n,"mailto",Sf,Ji,w),Ps(n,"http",tl,Ji,w),Ps(n,"https",tl,Ji,w),Ps(n,"ftp",tl,Ji,w),Ps(n,"ftps",tl,Ji,w),Fo(Sf,{scheme:!0,ascii:!0},e),Fo(tl,{slashscheme:!0,ascii:!0},e),t=t.sort((E,x)=>E[0]>x[0]?1:-1);for(let E=0;E<t.length;E++){const x=t[E][0],A=t[E][1]?{[AH]:!0}:{[OH]:!0};x.indexOf("-")>=0?A[jy]=!0:Wi.test(x)?Xi.test(x)?A[Kc]=!0:A[Hy]=!0:A[Uy]=!0,E1(n,x,x,A)}return E1(n,"localhost",du,{ascii:!0}),n.jd=new ar(hh),{start:n,tokens:Object.assign({groups:e},_M)}}function DM(t,e){const n=zH(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,i=[];let o=0,l=0;for(;l<r;){let u=t,d=null,h=0,p=null,g=-1,b=-1;for(;l<r&&(d=u.go(n[l]));)u=d,u.accepts()?(g=0,b=0,p=u):g>=0&&(g+=n[l].length,b++),h+=n[l].length,o+=n[l].length,l++;o-=g,l-=b,h-=g,i.push({t:p.t,v:e.slice(o-h,o),s:o-h,e:o})}return i}function zH(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,l=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function Ps(t,e,n,r,i){let o;const l=e.length;for(let u=0;u<l-1;u++){const d=e[u];t.j[d]?o=t.j[d]:(o=new ar(r),o.jr=i.slice(),t.j[d]=o),t=o}return o=new ar(n),o.jr=i.slice(),t.j[e[l-1]]=o,o}function x1(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+o),10);l>0;l--)n.pop();r+=o}else n.push(t[r]),r++}return e}const fu={defaultProtocol:"http",events:null,format:k1,formatHref:k1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Zb(t,e=null){let n=Object.assign({},fu);t&&(n=Object.assign(n,t instanceof Zb?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}Zb.prototype={o:fu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:fu[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function k1(t){return t}function LM(t,e){this.t="token",this.v=t,this.tk=e}LM.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=fu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),l={},u=t.get("className",n,e),d=t.get("target",n,e),h=t.get("rel",n,e),p=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return l.href=r,u&&(l.class=u),d&&(l.target=d),h&&(l.rel=h),p&&Object.assign(l,p),{tagName:i,attributes:l,content:o,eventListeners:g}}};function tp(t,e){class n extends LM{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const T1=tp("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),C1=tp("text"),BH=tp("nl"),of=tp("url",{isLink:!0,toHref(t=fu.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==du&&t[1].t===Ks}}),Vr=t=>new ar(t);function IH({groups:t}){const e=t.domain.concat([th,rh,$s,ih,sh,oh,ah,lh,Kr,Vb,Wc,ch,uh,dh,vi,hh,Zc,fh]),n=[nh,Ks,Gb,wi,Yb,Wc,Xc,Wb,Xb,Vf,Kf,Gc,Yc,jf,$f,qf,Ff,Gf,Yf,Wf,Xf,Zf,Jf,Qf,eh],r=[th,nh,rh,ih,sh,oh,ah,lh,Kr,Gc,Yc,Wc,ch,uh,dh,Xc,vi,hh,Zc,fh],i=Vr(),o=ce(i,Zc);Qe(o,r,o),Qe(o,t.domain,o);const l=Vr(),u=Vr(),d=Vr();Qe(i,t.domain,l),Qe(i,t.scheme,u),Qe(i,t.slashscheme,d),Qe(l,r,o),Qe(l,t.domain,l);const h=ce(l,$s);ce(o,$s,h),ce(u,$s,h),ce(d,$s,h);const p=ce(o,wi);Qe(p,r,o),Qe(p,t.domain,o);const g=Vr();Qe(h,t.domain,g),Qe(g,t.domain,g);const b=ce(g,wi);Qe(b,t.domain,g);const w=Vr(T1);Qe(b,t.tld,w),Qe(b,t.utld,w),ce(h,du,w);const v=ce(g,Kr);ce(v,Kr,v),Qe(v,t.domain,g),Qe(w,t.domain,g),ce(w,wi,b),ce(w,Kr,v);const E=ce(w,Ks);Qe(E,t.numeric,T1);const x=ce(l,Kr),k=ce(l,wi);ce(x,Kr,x),Qe(x,t.domain,l),Qe(k,r,o),Qe(k,t.domain,l);const A=Vr(of);Qe(k,t.tld,A),Qe(k,t.utld,A),Qe(A,t.domain,l),Qe(A,r,o),ce(A,wi,k),ce(A,Kr,x),ce(A,$s,h);const L=ce(A,Ks),$=Vr(of);Qe(L,t.numeric,$);const P=Vr(of),V=Vr();Qe(P,e,P),Qe(P,n,V),Qe(V,e,P),Qe(V,n,V),ce(A,vi,P),ce($,vi,P);const M=ce(u,Ks),Z=ce(d,Ks),se=ce(Z,vi),De=ce(se,vi);Qe(u,t.domain,l),ce(u,wi,k),ce(u,Kr,x),Qe(d,t.domain,l),ce(d,wi,k),ce(d,Kr,x),Qe(M,t.domain,P),ce(M,vi,P),ce(M,Xc,P),Qe(De,t.domain,P),Qe(De,e,P),ce(De,vi,P);const Ie=[[Gc,Yc],[$f,jf],[qf,Ff],[Vf,Kf],[Gf,Yf],[Wf,Xf],[Zf,Jf],[Qf,eh]];for(let te=0;te<Ie.length;te++){const[xe,he]=Ie[te],ge=ce(P,xe);ce(V,xe,ge),ce(ge,he,P);const B=Vr(of);Qe(ge,e,B);const ie=Vr();Qe(ge,n),Qe(B,e,B),Qe(B,n,ie),Qe(ie,e,B),Qe(ie,n,ie),ce(B,he,P),ce(ie,he,P)}return ce(i,du,A),ce(i,Kb,BH),{start:i,tokens:_M}}function PH(t,e,n){let r=n.length,i=0,o=[],l=[];for(;i<r;){let u=t,d=null,h=null,p=0,g=null,b=-1;for(;i<r&&!(d=u.go(n[i].t));)l.push(n[i++]);for(;i<r&&(h=d||u.go(n[i].t));)d=null,u=h,u.accepts()?(b=0,g=u):b>=0&&b++,i++,p++;if(b<0)i-=p,i<r&&(l.push(n[i]),i++);else{l.length>0&&(o.push(ty(C1,e,l)),l=[]),i-=b,p-=b;const w=g.t,v=n.slice(i-p,i);o.push(ty(w,e,v))}}return l.length>0&&o.push(ty(C1,e,l)),o}function ty(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const UH=typeof console<"u"&&console&&console.warn||(()=>{}),HH="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",$t={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function $H(){return ar.groups={},$t.scanner=null,$t.parser=null,$t.tokenQueue=[],$t.pluginQueue=[],$t.customSchemes=[],$t.initialized=!1,$t}function M1(t,e=!1){if($t.initialized&&UH(`linkifyjs: already initialized - will not register custom scheme "${t}" ${HH}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);$t.customSchemes.push([t,e])}function jH(){$t.scanner=LH($t.customSchemes);for(let t=0;t<$t.tokenQueue.length;t++)$t.tokenQueue[t][1]({scanner:$t.scanner});$t.parser=IH($t.scanner.tokens);for(let t=0;t<$t.pluginQueue.length;t++)$t.pluginQueue[t][1]({scanner:$t.scanner,parser:$t.parser});return $t.initialized=!0,$t}function Jb(t){return $t.initialized||jH(),PH($t.parser.start,t,DM($t.scanner.start,t))}Jb.scan=DM;function zM(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Zb(n),i=Jb(t),o=[];for(let l=0;l<i.length;l++){const u=i[l];u.isLink&&(!e||u.t===e)&&r.check(u)&&o.push(u.toFormattedObject(r))}return o}var Qb="[\0- -\u2029]",qH=new RegExp(Qb),FH=new RegExp(`${Qb}$`),VH=new RegExp(Qb,"g");function KH(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function GH(t){return new It({key:new bn("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(h=>h.docChanged)&&!n.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!i||o)return;const{tr:l}=r,u=WC(n.doc,[...e]);if(nM(u).forEach(({newRange:h})=>{const p=II(r.doc,h,w=>w.isTextblock);let g,b;if(p.length>1)g=p[0],b=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const w=r.doc.textBetween(h.from,h.to," "," ");if(!FH.test(w))return;g=p[0],b=r.doc.textBetween(g.pos,h.to,void 0," ")}if(g&&b){const w=b.split(qH).filter(Boolean);if(w.length<=0)return!1;const v=w[w.length-1],E=g.pos+b.lastIndexOf(v);if(!v)return!1;const x=Jb(v).map(k=>k.toObject(t.defaultProtocol));if(!KH(x))return!1;x.filter(k=>k.isLink).map(k=>({...k,from:E+k.start+1,to:E+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>t.validate(k.value)).filter(k=>t.shouldAutoLink(k.value)).forEach(k=>{Hb(k.from,k.to,r.doc).some(A=>A.mark.type===t.type)||l.addMark(k.from,k.to,t.type.create({href:k.href}))})}}),!!l.steps.length)return l}})}function YH(t){return new It({key:new bn("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let l=!1;if(t.enableClickSelection&&(l=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let u=null;if(r.target instanceof HTMLAnchorElement)u=r.target;else{let g=r.target;const b=[];for(;g.nodeName!=="DIV";)b.push(g),g=g.parentNode;u=b.find(w=>w.nodeName==="A")}if(!u)return l;const d=tM(e.state,t.type.name),h=(i=u?.href)!=null?i:d.href,p=(o=u?.target)!=null?o:d.target;u&&h&&(window.open(h,p),l=!0)}return l}}})}function WH(t){return new It({key:new bn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:o}=e,{selection:l}=o,{empty:u}=l;if(u)return!1;let d="";r.content.forEach(p=>{d+=p.textContent});const h=zM(d,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===d);return!d||!h||i!==void 0&&!i(h.href)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function zo(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(VH,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var XH=ca.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){M1(t);return}M1(t.scheme,t.optionalSlashes)})},onDestroy(){$H()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!zo(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!zo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!zo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ln(this.options.HTMLAttributes,t),0]:["a",ln(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!zo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!zo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ra({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=zM(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:l=>!!zo(l,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(GH({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!zo(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(YH({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(WH({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),ZH=Object.defineProperty,JH=(t,e)=>{for(var n in e)ZH(t,n,{get:e[n],enumerable:!0})},QH="listItem",A1="textStyle",O1=/^\s*([-+*])\s$/,BM=fr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ln(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(QH,this.editor.getAttributes(A1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=yl({find:O1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=yl({find:O1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(A1),editor:this.editor})),[t]}}),IM=fr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ln(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const l=t.tokens.slice(1),u=e.parseChildren(l);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Fb(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),e5={};JH(e5,{findListItemPos:()=>Mu,getNextListDepth:()=>e0,handleBackspace:()=>Gy,handleDelete:()=>Yy,hasListBefore:()=>PM,hasListItemAfter:()=>t5,hasListItemBefore:()=>UM,listItemHasSubList:()=>HM,nextListIsDeeper:()=>$M,nextListIsHigher:()=>jM});var Mu=(t,e)=>{const{$from:n}=e.selection,r=yn(t,e.schema);let i=null,o=n.depth,l=n.pos,u=null;for(;o>0&&u===null;)i=n.node(o),i.type===r?u=o:(o-=1,l-=1);return u===null?null:{$pos:e.doc.resolve(l),depth:u}},e0=(t,e)=>{const n=Mu(t,e);if(!n)return!1;const[,r]=YI(e,t,n.$pos.pos+4);return r},PM=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),o=t.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},UM=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},HM=(t,e,n)=>{if(!n)return!1;const r=yn(t,e.schema);let i=!1;return n.descendants(o=>{o.type===r&&(i=!0)}),i},Gy=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!io(t.state,e)&&PM(t.state,e,n)){const{$anchor:u}=t.state.selection,d=t.state.doc.resolve(u.before()-1),h=[];d.node().descendants((b,w)=>{b.type.name===e&&h.push({node:b,pos:w})});const p=h.at(-1);if(!p)return!1;const g=t.state.doc.resolve(d.start()+p.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},g.end()).joinForward().run()}if(!io(t.state,e)||!JI(t.state))return!1;const r=Mu(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=HM(e,t.state,o);return UM(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},$M=(t,e)=>{const n=e0(t,e),r=Mu(t,e);return!r||!n?!1:n>r.depth},jM=(t,e)=>{const n=e0(t,e),r=Mu(t,e);return!r||!n?!1:n<r.depth},Yy=(t,e)=>{if(!io(t.state,e)||!ZI(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:$M(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():jM(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},t5=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},qM=Kt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Yy(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Yy(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Gy(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Gy(t,n,r)&&(e=!0)}),e}}}}),R1=/^(\s*)(\d+)\.\s+(.*)$/,n5=/^\s/;function r5(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],o=i.match(R1);if(!o)break;const[,l,u,d]=o,h=l.length;let p=d,g=n+1;const b=[i];for(;g<t.length;){const w=t[g];if(w.match(R1))break;if(w.trim()==="")b.push(w),p+=`
`,g+=1;else if(w.match(n5))b.push(w),p+=`
${w.slice(h+2)}`,g+=1;else break}e.push({indent:h,number:parseInt(u,10),content:p.trim(),raw:b.join(`
`)}),r=g,n=g}return[e,r]}function FM(t,e,n){var r;const i=[];let o=0;for(;o<t.length;){const l=t[o];if(l.indent===e){const u=l.content.split(`
`),d=((r=u[0])==null?void 0:r.trim())||"",h=[];d&&h.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const p=u.slice(1).join(`
`).trim();if(p){const w=n.blockTokens(p);h.push(...w)}let g=o+1;const b=[];for(;g<t.length&&t[g].indent>e;)b.push(t[g]),g+=1;if(b.length>0){const w=Math.min(...b.map(E=>E.indent)),v=FM(b,w,n);h.push({type:"list",ordered:!0,start:b[0].number,items:v,raw:b.map(E=>E.raw).join(`
`)})}i.push({type:"list_item",raw:l.raw,tokens:h}),o=g}else o+=1}return i}function i5(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=e.parseChildren([i]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([i]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var s5="listItem",N1="textStyle",_1=/^(\d+)\.\s$/,VM=fr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ln(this.options.HTMLAttributes,n),0]:["ol",ln(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?i5(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[o,l]=r5(i);if(o.length===0)return;const u=FM(o,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:u,raw:i.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(s5,this.editor.getAttributes(N1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=yl({find:_1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=yl({find:_1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(N1)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),o5=/^\s*(\[([( |x])?\])\s$/,a5=fr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ln(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Fb(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),l=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div"),h=p=>{var g,b;u.ariaLabel=((b=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:b.call(g,p,u.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return h(t),o.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",p=>p.preventDefault()),u.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:g}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const w=n();if(typeof w!="number")return!1;const v=b.doc.nodeAt(w);return b.setNodeMarkup(w,void 0,{...v?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,g)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,g])=>{i.setAttribute(p,g)}),i.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,o.append(u,l),i.append(o,d),Object.entries(e).forEach(([p,g])=>{i.setAttribute(p,g)}),{dom:i,contentDOM:d,update:p=>p.type!==this.type?!1:(i.dataset.checked=p.attrs.checked,u.checked=p.attrs.checked,h(p),!0)}}},addInputRules(){return[yl({find:o5,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),l5=fr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ln(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=o=>{const l=Iy(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,d)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:d}),customNestedParser:r},n);return l?[{type:"taskList",raw:l.raw,items:l.items}]:n.blockTokens(o)},i=Iy(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,l)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:l}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Kt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(BM.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(IM.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(qM.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(VM.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(a5.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(l5.configure(this.options.taskList)),t}});var c5=fr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ln(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),u5=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,d5=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,f5=ca.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ln(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[gl({find:u5,type:this.type})]},addPasteRules(){return[ra({find:d5,type:this.type})]}}),h5=fr.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),p5=ca.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ln(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function m5(t={}){return new It({view(e){return new g5(e,t)}})}class g5{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=l=>{this[i](l)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),l=o.width/i.offsetWidth,u=o.height/i.offsetHeight;if(n){let g=e.nodeBefore,b=e.nodeAfter;if(g||b){let w=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(w){let v=w.getBoundingClientRect(),E=g?v.bottom:v.top;g&&b&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*u;r={left:v.left,right:v.right,top:E-x,bottom:E+x}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*l;r={left:g.left-b,right:g.left+b,top:g.top,bottom:g.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,p=-pageYOffset;else{let g=d.getBoundingClientRect(),b=g.width/d.offsetWidth,w=g.height/d.offsetHeight;h=g.left-d.scrollLeft*b,p=g.top-d.scrollTop*w}this.element.style.left=(r.left-h)/l+"px",this.element.style.top=(r.top-p)/u+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=HT(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class en extends et{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return en.valid(r)?new en(r):et.near(r)}content(){return ve.empty}eq(e){return e instanceof en&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new en(e.resolve(n.pos))}getBookmark(){return new t0(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!y5(e)||!b5(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&en.valid(e))return e;let i=e.pos,o=null;for(let l=e.depth;;l--){let u=e.node(l);if(n>0?e.indexAfter(l)<u.childCount:e.index(l)>0){o=u.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let d=e.doc.resolve(i);if(en.valid(d))return d}for(;;){let l=n>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!Be.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=l,i+=n;let u=e.doc.resolve(i);if(en.valid(u))return u}return null}}}en.prototype.visible=!1;en.findFrom=en.findGapCursorFrom;et.jsonID("gapcursor",en);class t0{constructor(e){this.pos=e}map(e){return new t0(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return en.valid(n)?new en(n):et.near(n)}}function KM(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function y5(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||KM(i.type))return!0;if(i.inlineContent)return!1}}return!0}function b5(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||KM(i.type))return!0;if(i.inlineContent)return!1}}return!0}function w5(){return new It({props:{decorations:x5,createSelectionBetween(t,e,n){return e.pos==n.pos&&en.valid(n)?new en(n):null},handleClick:E5,handleKeyDown:v5,handleDOMEvents:{beforeinput:S5}}})}const v5=$C({ArrowLeft:af("horiz",-1),ArrowRight:af("horiz",1),ArrowUp:af("vert",-1),ArrowDown:af("vert",1)});function af(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let l=r.selection,u=e>0?l.$to:l.$from,d=l.empty;if(l instanceof Ke){if(!o.endOfTextblock(n)||u.depth==0)return!1;d=!1,u=r.doc.resolve(e>0?u.after():u.before())}let h=en.findGapCursorFrom(u,e,d);return h?(i&&i(r.tr.setSelection(new en(h))),!0):!1}}function E5(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!en.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Be.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new en(r))),!0)}function S5(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof en))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ae.empty;for(let l=r.length-1;l>=0;l--)i=ae.from(r[l].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new ve(i,0,0));return o.setSelection(Ke.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function x5(t){if(!(t.selection instanceof en))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Vt.create(t.doc,[Fn.widget(t.selection.head,e,{key:"gapcursor"})])}var ph=200,Mn=function(){};Mn.prototype.append=function(e){return e.length?(e=Mn.from(e),!this.length&&e||e.length<ph&&this.leafAppend(e)||this.length<ph&&e.leafPrepend(this)||this.appendInner(e)):this};Mn.prototype.prepend=function(e){return e.length?Mn.from(e).append(this):this};Mn.prototype.appendInner=function(e){return new k5(this,e)};Mn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Mn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Mn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Mn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Mn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,l){return i.push(e(o,l))},n,r),i};Mn.from=function(e){return e instanceof Mn?e:e&&e.length?new GM(e):Mn.empty};var GM=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,l,u){for(var d=o;d<l;d++)if(i(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,l,u){for(var d=o-1;d>=l;d--)if(i(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=ph)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=ph)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Mn);Mn.empty=new GM([]);var k5=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,l){var u=this.left.length;if(i<u&&this.left.forEachInner(r,i,Math.min(o,u),l)===!1||o>u&&this.right.forEachInner(r,Math.max(i-u,0),Math.min(this.length,o)-u,l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(r,i-u,Math.max(o,u)-u,l+u)===!1||o<u&&this.left.forEachInvertedInner(r,Math.min(i,u),o,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Mn);const T5=500;class ai{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let l=e.tr,u,d,h=[],p=[];return this.items.forEach((g,b)=>{if(!g.step){i||(i=this.remapping(r,b+1),o=i.maps.length),o--,p.push(g);return}if(i){p.push(new Ei(g.map));let w=g.step.map(i.slice(o)),v;w&&l.maybeStep(w).doc&&(v=l.mapping.maps[l.mapping.maps.length-1],h.push(new Ei(v,void 0,void 0,h.length+p.length))),o--,v&&i.appendMap(v,o)}else l.maybeStep(g.step);if(g.selection)return u=i?g.selection.map(i.slice(o)):g.selection,d=new ai(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:u}}addTransform(e,n,r,i){let o=[],l=this.eventCount,u=this.items,d=!i&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),b=new Ei(e.mapping.maps[p],g,n),w;(w=d&&d.merge(b))&&(b=w,p?o.pop():u=u.slice(0,u.length-1)),o.push(b),n&&(l++,n=void 0),i||(d=b)}let h=l-r.depth;return h>M5&&(u=C5(u,h),l-=h),new ai(u.append(o),l)}remapping(e,n){let r=new iu;return this.items.forEach((i,o)=>{let l=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new ai(this.items.append(e.map(n=>new Ei(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},i);let d=n;this.items.forEach(b=>{let w=o.getMirror(--d);if(w==null)return;l=Math.min(l,w);let v=o.maps[w];if(b.step){let E=e.steps[w].invert(e.docs[w]),x=b.selection&&b.selection.map(o.slice(d+1,w));x&&u++,r.push(new Ei(v,E,x))}else r.push(new Ei(v))},i);let h=[];for(let b=n;b<l;b++)h.push(new Ei(o.maps[b]));let p=this.items.slice(0,i).append(h).append(r),g=new ai(p,u);return g.emptyItemCount()>T5&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((l,u)=>{if(u>=e)i.push(l),l.selection&&o++;else if(l.step){let d=l.step.map(n.slice(r)),h=d&&d.getMap();if(r--,h&&n.appendMap(h,r),d){let p=l.selection&&l.selection.map(n.slice(r));p&&o++;let g=new Ei(h.invert(),d,p),b,w=i.length-1;(b=i.length&&i[w].merge(g))?i[w]=b:i.push(g)}}else l.map&&r--},this.items.length,0),new ai(Mn.from(i.reverse()),o)}}ai.empty=new ai(Mn.empty,0);function C5(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ei{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ei(n.getMap().invert(),n,this.selection)}}}class js{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const M5=20;function A5(t,e,n,r){let i=n.getMeta(Xo),o;if(i)return i.historyState;n.getMeta(N5)&&(t=new js(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(Xo))return l.getMeta(Xo).redo?new js(t.done.addTransform(n,void 0,r,xf(e)),t.undone,D1(n.mapping.maps),t.prevTime,t.prevComposition):new js(t.done,t.undone.addTransform(n,void 0,r,xf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!O5(n,t.prevRanges)),h=l?ny(t.prevRanges,n.mapping):D1(n.mapping.maps);return new js(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,xf(e)),ai.empty,h,n.time,u??t.prevComposition)}else return(o=n.getMeta("rebased"))?new js(t.done.rebased(n,o),t.undone.rebased(n,o),ny(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new js(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),ny(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function O5(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function D1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,l)=>e.push(o,l));return e}function ny(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function R5(t,e,n){let r=xf(e),i=Xo.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let l=o.selection.resolve(o.transform.doc),u=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),d=new js(n?u:o.remaining,n?o.remaining:u,null,0,-1);return o.transform.setSelection(l).setMeta(Xo,{redo:n,historyState:d})}let ry=!1,L1=null;function xf(t){let e=t.plugins;if(L1!=e){ry=!1,L1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ry=!0;break}}return ry}const Xo=new bn("history"),N5=new bn("closeHistory");function _5(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new It({key:Xo,state:{init(){return new js(ai.empty,ai.empty,null,0,-1)},apply(e,n,r){return A5(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?WM:r=="historyRedo"?XM:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function YM(t,e){return(n,r)=>{let i=Xo.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=R5(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const WM=YM(!1,!0),XM=YM(!0,!0);Kt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new It({key:new bn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const l=o-i,u=0,d=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(u,d);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,d=o-r,h=u-d,p=u;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>r)}})]}});var D5=Kt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[m5(this.options)]}});Kt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new It({key:new bn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!n||!r)return Vt.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((d,h)=>{if(d.isText)return;if(!(i>=h&&i<=h+d.nodeSize-1))return!1;l+=1});let u=0;return t.descendants((d,h)=>{if(d.isText||!(i>=h&&i<=h+d.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&l-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";o.push(Fn.node(h,h+d.nodeSize,{class:this.options.className}))}),Vt.create(t,o)}}})]}});var L5=Kt.create({name:"gapCursor",addProseMirrorPlugins(){return[w5()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Mt(_e(t,"allowGapCursor",n)))!=null?e:null}}}),z5=Kt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new It({key:new bn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((l,u)=>{const d=r>=u&&r<=u+l.nodeSize,h=!l.isLeaf&&Jh(l);if((d||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const g=Fn.node(u,u+l.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:u,hasAnchor:d}):this.options.placeholder});i.push(g)}return this.options.includeChildren}),Vt.create(t,i)}}})]}});Kt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new It({key:new bn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||rM(n.selection)||t.view.dragging?null:Vt.create(n.doc,[Fn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function z1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var B5=Kt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new bn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new It({key:e,appendTransaction:(i,o,l)=>{const{doc:u,tr:d,schema:h}=l,p=e.getState(l),g=u.content.size,b=h.nodes[n];if(p)return d.insert(g,b.create())},state:{init:(i,o)=>{const l=o.tr.doc.lastChild;return!z1({node:l,types:r})},apply:(i,o)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return o;const l=i.doc.lastChild;return!z1({node:l,types:r})}}})]}}),I5=Kt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>WM(t,e),redo:()=>({state:t,dispatch:e})=>XM(t,e)}},addProseMirrorPlugins(){return[_5(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),P5=Kt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(uH.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(sH.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(BM.configure(this.options.bulletList)),this.options.code!==!1&&i.push(hH.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(CM.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(yH.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(D5.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(L5.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(bH.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(wH.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(I5.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(vH.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(TH.configure(this.options.italic)),this.options.listItem!==!1&&i.push(IM.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(qM.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(XH.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(VM.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(c5.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(f5.configure(this.options.strike)),this.options.text!==!1&&i.push(h5.configure(this.options.text)),this.options.underline!==!1&&i.push(p5.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(B5.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),U5=P5,H5=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,$5=fr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ln(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,o,l;const u=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",d=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",h=(l=(o=t.attrs)==null?void 0:o.title)!=null?l:"";return h?`![${d}](${u} "${h}")`:`![${d}](${u})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:o,HTMLAttributes:l,editor:u})=>{const d=document.createElement("img");Object.entries(l).forEach(([g,b])=>{if(b!=null)switch(g){case"width":case"height":break;default:d.setAttribute(g,b);break}}),d.src=l.src;const h=new PP({element:d,editor:u,node:i,getPos:o,onResize:(g,b)=>{d.style.width=`${g}px`,d.style.height=`${b}px`},onCommit:(g,b)=>{const w=o();w!==void 0&&this.editor.chain().setNodeSelection(w).updateAttributes(this.name,{width:g,height:b}).run()},onUpdate:(g,b,w)=>g.type===i.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),p=h.dom;return p.style.visibility="hidden",p.style.pointerEvents="none",d.onload=()=>{p.style.visibility="",p.style.pointerEvents=""},h}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[vM({find:H5,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),j5=$5,q5=z5;function n0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var da=n0();function ZM(t){da=t}var Jc={exec:()=>null};function St(t,e=""){let n=typeof t=="string"?t:t.source;const r={replace:(i,o)=>{let l=typeof o=="string"?o:o.source;return l=l.replace(Wn.caret,"$1"),n=n.replace(i,l),r},getRegex:()=>new RegExp(n,e)};return r}var Wn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},F5=/^(?:[ \t]*(?:\n|$))+/,V5=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,K5=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Au=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,G5=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,r0=/(?:[*+-]|\d{1,9}[.)])/,JM=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,QM=St(JM).replace(/bull/g,r0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Y5=St(JM).replace(/bull/g,r0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),i0=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,W5=/^[^\n]+/,s0=/(?!\s*\])(?:\\.|[^\[\]\\])+/,X5=St(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",s0).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Z5=St(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,r0).getRegex(),np="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",o0=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,J5=St("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",o0).replace("tag",np).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),eA=St(i0).replace("hr",Au).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",np).getRegex(),Q5=St(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",eA).getRegex(),a0={blockquote:Q5,code:V5,def:X5,fences:K5,heading:G5,hr:Au,html:J5,lheading:QM,list:Z5,newline:F5,paragraph:eA,table:Jc,text:W5},B1=St("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Au).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",np).getRegex(),e4={...a0,lheading:Y5,table:B1,paragraph:St(i0).replace("hr",Au).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",B1).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",np).getRegex()},t4={...a0,html:St(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",o0).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Jc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:St(i0).replace("hr",Au).replace("heading",` *#{1,6} *[^
]`).replace("lheading",QM).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},n4=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,r4=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,tA=/^( {2,}|\\)\n(?!\s*$)/,i4=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,rp=/[\p{P}\p{S}]/u,l0=/[\s\p{P}\p{S}]/u,nA=/[^\s\p{P}\p{S}]/u,s4=St(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,l0).getRegex(),rA=/(?!~)[\p{P}\p{S}]/u,o4=/(?!~)[\s\p{P}\p{S}]/u,a4=/(?:[^\s\p{P}\p{S}]|~)/u,l4=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,iA=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,c4=St(iA,"u").replace(/punct/g,rp).getRegex(),u4=St(iA,"u").replace(/punct/g,rA).getRegex(),sA="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",d4=St(sA,"gu").replace(/notPunctSpace/g,nA).replace(/punctSpace/g,l0).replace(/punct/g,rp).getRegex(),f4=St(sA,"gu").replace(/notPunctSpace/g,a4).replace(/punctSpace/g,o4).replace(/punct/g,rA).getRegex(),h4=St("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,nA).replace(/punctSpace/g,l0).replace(/punct/g,rp).getRegex(),p4=St(/\\(punct)/,"gu").replace(/punct/g,rp).getRegex(),m4=St(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),g4=St(o0).replace("(?:-->|$)","-->").getRegex(),y4=St("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",g4).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),mh=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,b4=St(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",mh).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),oA=St(/^!?\[(label)\]\[(ref)\]/).replace("label",mh).replace("ref",s0).getRegex(),aA=St(/^!?\[(ref)\](?:\[\])?/).replace("ref",s0).getRegex(),w4=St("reflink|nolink(?!\\()","g").replace("reflink",oA).replace("nolink",aA).getRegex(),c0={_backpedal:Jc,anyPunctuation:p4,autolink:m4,blockSkip:l4,br:tA,code:r4,del:Jc,emStrongLDelim:c4,emStrongRDelimAst:d4,emStrongRDelimUnd:h4,escape:n4,link:b4,nolink:aA,punctuation:s4,reflink:oA,reflinkSearch:w4,tag:y4,text:i4,url:Jc},v4={...c0,link:St(/^!?\[(label)\]\((.*?)\)/).replace("label",mh).getRegex(),reflink:St(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",mh).getRegex()},Wy={...c0,emStrongRDelimAst:f4,emStrongLDelim:u4,url:St(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},E4={...Wy,br:St(tA).replace("{2,}","*").getRegex(),text:St(Wy.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},lf={normal:a0,gfm:e4,pedantic:t4},_c={normal:c0,gfm:Wy,breaks:E4,pedantic:v4},S4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I1=t=>S4[t];function bi(t,e){if(e){if(Wn.escapeTest.test(t))return t.replace(Wn.escapeReplace,I1)}else if(Wn.escapeTestNoEncode.test(t))return t.replace(Wn.escapeReplaceNoEncode,I1);return t}function P1(t){try{t=encodeURI(t).replace(Wn.percentDecode,"%")}catch{return null}return t}function U1(t,e){const n=t.replace(Wn.findPipe,(o,l,u)=>{let d=!1,h=l;for(;--h>=0&&u[h]==="\\";)d=!d;return d?"|":" |"}),r=n.split(Wn.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Wn.slashPipe,"|");return r}function Dc(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function x4(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function H1(t,e,n,r,i){const o=e.href,l=e.title||null,u=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const d={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:o,title:l,text:u,tokens:r.inlineTokens(u)};return r.state.inLink=!1,d}function k4(t,e,n){const r=t.match(n.other.indentCodeCompensation);if(r===null)return e;const i=r[1];return e.split(`
`).map(o=>{const l=o.match(n.other.beginningSpace);if(l===null)return o;const[u]=l;return u.length>=i.length?o.slice(i.length):o}).join(`
`)}var gh=class{options;rules;lexer;constructor(t){this.options=t||da}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Dc(n,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const n=e[0],r=k4(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){const r=Dc(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Dc(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let n=Dc(e[0],`
`).split(`
`),r="",i="";const o=[];for(;n.length>0;){let l=!1;const u=[];let d;for(d=0;d<n.length;d++)if(this.rules.other.blockquoteStart.test(n[d]))u.push(n[d]),l=!0;else if(!l)u.push(n[d]);else break;n=n.slice(d);const h=u.join(`
`),p=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${h}`:h,i=i?`${i}
${p}`:p;const g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,o,!0),this.lexer.state.top=g,n.length===0)break;const b=o.at(-1);if(b?.type==="code")break;if(b?.type==="blockquote"){const w=b,v=w.raw+`
`+n.join(`
`),E=this.blockquote(v);o[o.length-1]=E,r=r.substring(0,r.length-w.raw.length)+E.raw,i=i.substring(0,i.length-w.text.length)+E.text;break}else if(b?.type==="list"){const w=b,v=w.raw+`
`+n.join(`
`),E=this.list(v);o[o.length-1]=E,r=r.substring(0,r.length-b.raw.length)+E.raw,i=i.substring(0,i.length-w.raw.length)+E.raw,n=v.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const o=this.rules.other.listItemRegex(n);let l=!1;for(;t;){let d=!1,h="",p="";if(!(e=o.exec(t))||this.rules.block.hr.test(t))break;h=e[0],t=t.substring(h.length);let g=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,k=>" ".repeat(3*k.length)),b=t.split(`
`,1)[0],w=!g.trim(),v=0;if(this.options.pedantic?(v=2,p=g.trimStart()):w?v=e[1].length+1:(v=e[2].search(this.rules.other.nonSpaceChar),v=v>4?1:v,p=g.slice(v),v+=e[1].length),w&&this.rules.other.blankLine.test(b)&&(h+=b+`
`,t=t.substring(b.length+1),d=!0),!d){const k=this.rules.other.nextBulletRegex(v),A=this.rules.other.hrRegex(v),L=this.rules.other.fencesBeginRegex(v),$=this.rules.other.headingBeginRegex(v),P=this.rules.other.htmlBeginRegex(v);for(;t;){const V=t.split(`
`,1)[0];let M;if(b=V,this.options.pedantic?(b=b.replace(this.rules.other.listReplaceNesting,"  "),M=b):M=b.replace(this.rules.other.tabCharGlobal,"    "),L.test(b)||$.test(b)||P.test(b)||k.test(b)||A.test(b))break;if(M.search(this.rules.other.nonSpaceChar)>=v||!b.trim())p+=`
`+M.slice(v);else{if(w||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||L.test(g)||$.test(g)||A.test(g))break;p+=`
`+b}!w&&!b.trim()&&(w=!0),h+=V+`
`,t=t.substring(V.length+1),g=M.slice(v)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(l=!0));let E=null,x;this.options.gfm&&(E=this.rules.other.listIsTask.exec(p),E&&(x=E[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:h,task:!!E,checked:x,loose:!1,text:p,tokens:[]}),i.raw+=h}const u=i.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let d=0;d<i.items.length;d++)if(this.lexer.state.top=!1,i.items[d].tokens=this.lexer.blockTokens(i.items[d].text,[]),!i.loose){const h=i.items[d].tokens.filter(g=>g.type==="space"),p=h.length>0&&h.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=p}if(i.loose)for(let d=0;d<i.items.length;d++)i.items[d].loose=!0;return i}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:i}}}table(t){const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const n=U1(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const l of r)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<n.length;l++)o.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:o.align[l]});for(const l of i)o.rows.push(U1(l,o.header.length).map((u,d)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[d]})));return o}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const o=Dc(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=x4(e[2],"()");if(o===-2)return;if(o>-1){const u=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,u).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(r);o&&(r=o[1],i=o[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),H1(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return H1(n,i,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...r[0]].length-1;let l,u,d=o,h=0;const p=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,e=e.slice(-1*t.length+o);(r=p.exec(e))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(u=[...l].length,r[3]||r[4]){d+=u;continue}else if((r[5]||r[6])&&o%3&&!((o+u)%3)){h+=u;continue}if(d-=u,d>0)continue;u=Math.min(u,u+d+h);const g=[...r[0]][0].length,b=t.slice(0,o+r.index+g+u);if(Math.min(o,u)%2){const v=b.slice(1,-1);return{type:"em",raw:b,text:v,tokens:this.lexer.inlineTokens(v)}}const w=b.slice(2,-2);return{type:"strong",raw:b,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let n,r;if(e[2]==="@")n=e[0],r="mailto:"+n;else{let i;do i=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(i!==e[0]);n=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},ts=class Xy{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||da,this.options.tokenizer=this.options.tokenizer||new gh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:Wn,block:lf.normal,inline:_c.normal};this.options.pedantic?(n.block=lf.pedantic,n.inline=_c.pedantic):this.options.gfm&&(n.block=lf.gfm,this.options.breaks?n.inline=_c.breaks:n.inline=_c.gfm),this.tokenizer.rules=n}static get rules(){return{block:lf,inline:_c}}static lex(e,n){return new Xy(n).lex(e)}static lexInline(e,n){return new Xy(n).inlineTokens(e)}lex(e){e=e.replace(Wn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(Wn.tabCharGlobal,"    ").replace(Wn.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(l=>(i=l.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);const l=n.at(-1);i.raw.length===1&&l!==void 0?l.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);const l=n.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=`
`+i.raw,l.text+=`
`+i.text,this.inlineQueue.at(-1).src=l.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);const l=n.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=`
`+i.raw,l.text+=`
`+i.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let o=e;if(this.options.extensions?.startBlock){let l=1/0;const u=e.slice(1);let d;this.options.extensions.startBlock.forEach(h=>{d=h.call({lexer:this},u),typeof d=="number"&&d>=0&&(l=Math.min(l,d))}),l<1/0&&l>=0&&(o=e.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){const l=n.at(-1);r&&l?.type==="paragraph"?(l.raw+=`
`+i.raw,l.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(i),r=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);const l=n.at(-1);l?.type==="text"?(l.raw+=`
`+i.raw,l.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(i);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,i=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,l="";for(;e;){o||(l=""),o=!1;let u;if(this.options.extensions?.inline?.some(h=>(u=h.call({lexer:this},e,n))?(e=e.substring(u.raw.length),n.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);const h=n.at(-1);u.type==="text"&&h?.type==="text"?(h.raw+=u.raw,h.text+=u.text):n.push(u);continue}if(u=this.tokenizer.emStrong(e,r,l)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),n.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),n.push(u);continue}let d=e;if(this.options.extensions?.startInline){let h=1/0;const p=e.slice(1);let g;this.options.extensions.startInline.forEach(b=>{g=b.call({lexer:this},p),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(d=e.substring(0,h+1))}if(u=this.tokenizer.inlineText(d)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(l=u.raw.slice(-1)),o=!0;const h=n.at(-1);h?.type==="text"?(h.raw+=u.raw,h.text+=u.text):n.push(u);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return n}},yh=class{options;parser;constructor(t){this.options=t||da}space(t){return""}code({text:t,lang:e,escaped:n}){const r=(e||"").match(Wn.notSpaceStart)?.[0],i=t.replace(Wn.endingNewline,"")+`
`;return r?'<pre><code class="language-'+bi(r)+'">'+(n?i:bi(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:bi(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,n=t.start;let r="";for(let l=0;l<t.items.length;l++){const u=t.items[l];r+=this.listitem(u)}const i=e?"ol":"ul",o=e&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(t){let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+bi(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);e+=this.tablerow({text:n});let r="";for(let i=0;i<t.rows.length;i++){const o=t.rows[i];n="";for(let l=0;l<o.length;l++)n+=this.tablecell(o[l]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${bi(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const r=this.parser.parseInline(n),i=P1(t);if(i===null)return r;t=i;let o='<a href="'+t+'"';return e&&(o+=' title="'+bi(e)+'"'),o+=">"+r+"</a>",o}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const i=P1(t);if(i===null)return bi(n);t=i;let o=`<img src="${t}" alt="${n}"`;return e&&(o+=` title="${bi(e)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:bi(t.text)}},u0=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},ns=class Zy{options;renderer;textRenderer;constructor(e){this.options=e||da,this.options.renderer=this.options.renderer||new yh,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new u0}static parse(e,n){return new Zy(n).parse(e)}static parseInline(e,n){return new Zy(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){const o=e[i];if(this.options.extensions?.renderers?.[o.type]){const u=o,d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){r+=d||"";continue}}const l=o;switch(l.type){case"space":{r+=this.renderer.space(l);continue}case"hr":{r+=this.renderer.hr(l);continue}case"heading":{r+=this.renderer.heading(l);continue}case"code":{r+=this.renderer.code(l);continue}case"table":{r+=this.renderer.table(l);continue}case"blockquote":{r+=this.renderer.blockquote(l);continue}case"list":{r+=this.renderer.list(l);continue}case"html":{r+=this.renderer.html(l);continue}case"paragraph":{r+=this.renderer.paragraph(l);continue}case"text":{let u=l,d=this.renderer.text(u);for(;i+1<e.length&&e[i+1].type==="text";)u=e[++i],d+=`
`+this.renderer.text(u);n?r+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):r+=d;continue}default:{const u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}parseInline(e,n=this.renderer){let r="";for(let i=0;i<e.length;i++){const o=e[i];if(this.options.extensions?.renderers?.[o.type]){const u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=u||"";continue}}const l=o;switch(l.type){case"escape":{r+=n.text(l);break}case"html":{r+=n.html(l);break}case"link":{r+=n.link(l);break}case"image":{r+=n.image(l);break}case"strong":{r+=n.strong(l);break}case"em":{r+=n.em(l);break}case"codespan":{r+=n.codespan(l);break}case"br":{r+=n.br(l);break}case"del":{r+=n.del(l);break}case"text":{r+=n.text(l);break}default:{const u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}},kf=class{options;block;constructor(t){this.options=t||da}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?ts.lex:ts.lexInline}provideParser(){return this.block?ns.parse:ns.parseInline}},T4=class{defaults=n0();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ns;Renderer=yh;TextRenderer=u0;Lexer=ts;Tokenizer=gh;Hooks=kf;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{const i=r;for(const o of i.header)n=n.concat(this.walkTokens(o.tokens,e));for(const o of i.rows)for(const l of o)n=n.concat(this.walkTokens(l.tokens,e));break}case"list":{const i=r;n=n.concat(this.walkTokens(i.items,e));break}default:{const i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(o=>{const l=i[o].flat(1/0);n=n.concat(this.walkTokens(l,e))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,e)))}}return n}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=e.renderers[i.name];o?e.renderers[i.name]=function(...l){let u=i.renderer.apply(this,l);return u===!1&&(u=o.apply(this,l)),u}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=e[i.level];o?o.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){const i=this.defaults.renderer||new yh(this.defaults);for(const o in n.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const l=o,u=n.renderer[l],d=i[l];i[l]=(...h)=>{let p=u.apply(i,h);return p===!1&&(p=d.apply(i,h)),p||""}}r.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new gh(this.defaults);for(const o in n.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,u=n.tokenizer[l],d=i[l];i[l]=(...h)=>{let p=u.apply(i,h);return p===!1&&(p=d.apply(i,h)),p}}r.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new kf;for(const o in n.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const l=o,u=n.hooks[l],d=i[l];kf.passThroughHooks.has(o)?i[l]=h=>{if(this.defaults.async)return Promise.resolve(u.call(i,h)).then(g=>d.call(i,g));const p=u.call(i,h);return d.call(i,p)}:i[l]=(...h)=>{let p=u.apply(i,h);return p===!1&&(p=d.apply(i,h)),p}}r.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,o=n.walkTokens;r.walkTokens=function(l){let u=[];return u.push(o.call(this,l)),i&&(u=u.concat(i.call(this,l))),u}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return ts.lex(t,e??this.defaults)}parser(t,e){return ns.parse(t,e??this.defaults)}parseMarkdown(t){return(n,r)=>{const i={...r},o={...this.defaults,...i},l=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=t);const u=o.hooks?o.hooks.provideLexer():t?ts.lex:ts.lexInline,d=o.hooks?o.hooks.provideParser():t?ns.parse:ns.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(h=>u(h,o)).then(h=>o.hooks?o.hooks.processAllTokens(h):h).then(h=>o.walkTokens?Promise.all(this.walkTokens(h,o.walkTokens)).then(()=>h):h).then(h=>d(h,o)).then(h=>o.hooks?o.hooks.postprocess(h):h).catch(l);try{o.hooks&&(n=o.hooks.preprocess(n));let h=u(n,o);o.hooks&&(h=o.hooks.processAllTokens(h)),o.walkTokens&&this.walkTokens(h,o.walkTokens);let p=d(h,o);return o.hooks&&(p=o.hooks.postprocess(p)),p}catch(h){return l(h)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const r="<p>An error occurred:</p><pre>"+bi(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},ia=new T4;function At(t,e){return ia.parse(t,e)}At.options=At.setOptions=function(t){return ia.setOptions(t),At.defaults=ia.defaults,ZM(At.defaults),At};At.getDefaults=n0;At.defaults=da;At.use=function(...t){return ia.use(...t),At.defaults=ia.defaults,ZM(At.defaults),At};At.walkTokens=function(t,e){return ia.walkTokens(t,e)};At.parseInline=ia.parseInline;At.Parser=ns;At.parser=ns.parse;At.Renderer=yh;At.TextRenderer=u0;At.Lexer=ts;At.lexer=ts.lex;At.Tokenizer=gh;At.Hooks=kf;At.parse=At;At.options;At.setOptions;At.use;At.walkTokens;At.parseInline;ns.parse;ts.lex;function C4(t,e){const r=e.split(`
`).flatMap(i=>[i,""]).map(i=>`${t}${i}`).join(`
`);return r.slice(0,r.length-1)}function M4(t,e){const n=[];return Array.from(t.keys()).forEach(r=>{e.has(r)||n.push(r)}),n}function A4(t,e){const n=[];return Array.from(e.entries()).forEach(([r,i])=>{t.has(r)||n.push({type:r,mark:i})}),n}function O4(t,e,n,r){const i=!n,o=n&&n.type==="text"&&(!n.marks||n.marks.length===0),l=n&&n.type==="text"&&n.marks&&!r(e,new Map(n.marks.map(d=>[d.type,d]))),u=[];if(i||o||l)if(n&&n.type==="text"&&n.marks){const d=new Map(n.marks.map(h=>[h.type,h]));Array.from(t.keys()).forEach(h=>{d.has(h)||u.push(h)})}else(i||o)&&u.push(...Array.from(t.keys()));return u}function R4(t,e){let n="";return Array.from(t.keys()).reverse().forEach(r=>{const i=t.get(r),o=e(r,i);o&&(n=o+n)}),t.clear(),n}function N4(t,e,n){let r="";return Array.from(t.entries()).forEach(([i,o])=>{const l=n(i,o);l&&(r+=l),e.set(i,o)}),r}function iy(t){const n=(t.raw||t.text||"").match(/^(\s*)[-+*]\s+\[([ xX])\]\s+/);return n?{isTask:!0,checked:n[2].toLowerCase()==="x",indentLevel:n[1].length}:{isTask:!1,indentLevel:0}}function cf(t,e){return typeof t!="string"?"json":e}var _4=class{constructor(t){this.baseExtensions=[],this.extensions=[],this.lastParseResult=null;var e,n,r,i,o;this.markedInstance=(e=t?.marked)!=null?e:At,this.lexer=new this.markedInstance.Lexer,this.indentStyle=(r=(n=t?.indentation)==null?void 0:n.style)!=null?r:"space",this.indentSize=(o=(i=t?.indentation)==null?void 0:i.size)!=null?o:2,this.baseExtensions=t?.extensions||[],t?.markedOptions&&typeof this.markedInstance.setOptions=="function"&&this.markedInstance.setOptions(t.markedOptions),this.registry=new Map,this.nodeTypeRegistry=new Map,t?.extensions&&(this.baseExtensions=t.extensions,Zh(t.extensions).forEach(u=>this.registerExtension(u,!1))),this.lexer=new this.markedInstance.Lexer}get instance(){return this.markedInstance}get indentCharacter(){return this.indentStyle==="space"?" ":"	"}get indentString(){return this.indentCharacter.repeat(this.indentSize)}hasMarked(){return!!this.markedInstance}registerExtension(t,e=!0){var n,r;this.extensions.push(t);const i=t.name,o=_e(t,"markdownTokenName")||i,l=_e(t,"parseMarkdown"),u=_e(t,"renderMarkdown"),d=_e(t,"markdownTokenizer"),h=(n=_e(t,"markdownOptions"))!=null?n:null,p=(r=h?.indentsContent)!=null?r:!1,g={tokenName:o,nodeName:i,parseMarkdown:l,renderMarkdown:u,isIndenting:p,tokenizer:d};if(o&&l){const b=this.registry.get(o)||[];b.push(g),this.registry.set(o,b)}if(u){const b=this.nodeTypeRegistry.get(i)||[];b.push(g),this.nodeTypeRegistry.set(i,b)}d&&this.hasMarked()&&(this.registerTokenizer(d),e&&(this.lexer=new this.markedInstance.Lexer))}registerTokenizer(t){if(!this.hasMarked())return;const{name:e,start:n,level:r="inline",tokenize:i}=t,u={inlineTokens:p=>this.lexer.inlineTokens(p),blockTokens:p=>this.lexer.blockTokens(p)};let d;n?d=typeof n=="function"?n:p=>p.indexOf(n):d=p=>{const g=i(p,[],u);return g&&g.raw?p.indexOf(g.raw):-1};const h={name:e,level:r,start:d,tokenizer:(p,g)=>{const b=i(p,g,u);if(b&&b.type)return{...b,type:b.type||e,raw:b.raw||"",tokens:b.tokens||[]}},childTokens:[]};this.markedInstance.use({extensions:[h]})}getHandlersForToken(t){try{return this.registry.get(t)||[]}catch{return[]}}getHandlerForToken(t){const e=this.getHandlersForToken(t);if(e.length>0)return e[0];const n=this.getHandlersForNodeType(t);return n.length>0?n[0]:void 0}getHandlersForNodeType(t){try{return this.nodeTypeRegistry.get(t)||[]}catch{return[]}}serialize(t){return t?Array.isArray(t)?this.renderNodes(t,t):this.renderNodes(t,t):""}parse(t){if(!this.hasMarked())throw new Error("No marked instance available for parsing");const e=this.markedInstance.lexer(t);return{type:"doc",content:this.parseTokens(e)}}parseTokens(t){return t.map(e=>this.parseToken(e)).filter(e=>e!==null).flatMap(e=>Array.isArray(e)?e:[e])}parseToken(t){if(!t.type)return null;if(t.type==="list")return this.parseListToken(t);const e=this.getHandlersForToken(t.type),n=this.createParseHelpers();if(e.find(i=>{if(!i.parseMarkdown)return!1;const o=i.parseMarkdown(t,n),l=this.normalizeParseResult(o);return l&&(!Array.isArray(l)||l.length>0)?(this.lastParseResult=l,!0):!1})&&this.lastParseResult){const i=this.lastParseResult;return this.lastParseResult=null,i}return this.parseFallbackToken(t)}parseListToken(t){if(!t.items||t.items.length===0)return this.parseTokenWithHandlers(t);const e=t.items.some(u=>iy(u).isTask),n=t.items.some(u=>!iy(u).isTask);if(!e||!n||this.getHandlersForToken("taskList").length===0)return this.parseTokenWithHandlers(t);const r=[];let i=[],o=null;for(let u=0;u<t.items.length;u+=1){const d=t.items[u],{isTask:h,checked:p,indentLevel:g}=iy(d);let b=d;if(h){const E=(d.raw||d.text||"").split(`
`),x=E[0].match(/^\s*[-+*]\s+\[([ xX])\]\s+(.*)$/),k=x?x[2]:"";let A=[];if(E.length>1&&E.slice(1).join(`
`).trim()){const $=E.slice(1),P=$.filter(V=>V.trim());if(P.length>0){const V=Math.min(...P.map(se=>se.length-se.trimStart().length)),Z=$.map(se=>se.trim()?se.slice(V):"").join(`
`).trim();Z&&(A=this.markedInstance.lexer(`${Z}
`))}}b={type:"taskItem",raw:"",mainContent:k,indentLevel:g,checked:p??!1,text:k,tokens:this.lexer.inlineTokens(k),nestedTokens:A}}const w=h?"taskList":"list";o!==w?(i.length>0&&r.push({type:o,items:i}),i=[b],o=w):i.push(b)}i.length>0&&r.push({type:o,items:i});const l=[];for(let u=0;u<r.length;u+=1){const d=r[u],h={...t,type:d.type,items:d.items},p=this.parseToken(h);p&&(Array.isArray(p)?l.push(...p):l.push(p))}return l.length>0?l:null}parseTokenWithHandlers(t){if(!t.type)return null;const e=this.getHandlersForToken(t.type),n=this.createParseHelpers();if(e.find(i=>{if(!i.parseMarkdown)return!1;const o=i.parseMarkdown(t,n),l=this.normalizeParseResult(o);return l&&(!Array.isArray(l)||l.length>0)?(this.lastParseResult=l,!0):!1})&&this.lastParseResult){const i=this.lastParseResult;return this.lastParseResult=null,i}return this.parseFallbackToken(t)}createParseHelpers(){return{parseInline:t=>this.parseInlineTokens(t),parseChildren:t=>this.parseTokens(t),createTextNode:(t,e)=>({type:"text",text:t,marks:e||void 0}),createNode:(t,e,n)=>{const r={type:t,attrs:e||void 0,content:n||void 0};return(!e||Object.keys(e).length===0)&&delete r.attrs,r},applyMark:(t,e,n)=>({mark:t,content:e,attrs:n&&Object.keys(n).length>0?n:void 0})}}escapeRegex(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}parseInlineTokens(t){var e,n,r,i;const o=[];for(let l=0;l<t.length;l+=1){const u=t[l];if(u.type==="text")o.push({type:"text",text:u.text||""});else if(u.type==="html"){const d=((n=(e=u.raw)!=null?e:u.text)!=null?n:"").toString(),h=/^<\/[\s]*[\w-]+/i.test(d),p=d.match(/^<[\s]*([\w-]+)(\s|>|\/|$)/i);if(!h&&p&&!/\/>$/.test(d)){const b=p[1],w=this.escapeRegex(b),v=new RegExp(`^<\\/\\s*${w}\\b`,"i");let E=-1;const x=[d];for(let k=l+1;k<t.length;k+=1){const A=t[k],L=((i=(r=A.raw)!=null?r:A.text)!=null?i:"").toString();if(x.push(L),A.type==="html"&&v.test(L)){E=k;break}}if(E!==-1){const k=x.join(""),A={type:"html",raw:k,text:k,block:!1},L=this.parseHTMLToken(A);if(L){const $=this.normalizeParseResult(L);Array.isArray($)?o.push(...$):$&&o.push($)}l=E;continue}}const g=this.parseHTMLToken(u);if(g){const b=this.normalizeParseResult(g);Array.isArray(b)?o.push(...b):b&&o.push(b)}}else if(u.type){const d=this.getHandlerForToken(u.type);if(d&&d.parseMarkdown){const h=this.createParseHelpers(),p=d.parseMarkdown(u,h);if(this.isMarkResult(p)){const g=this.applyMarkToContent(p.mark,p.content,p.attrs);o.push(...g)}else{const g=this.normalizeParseResult(p);Array.isArray(g)?o.push(...g):g&&o.push(g)}}else u.tokens&&o.push(...this.parseInlineTokens(u.tokens))}}return o}applyMarkToContent(t,e,n){return e.map(r=>{if(r.type==="text"){const i=r.marks||[],o=n?{type:t,attrs:n}:{type:t};return{...r,marks:[...i,o]}}return{...r,content:r.content?this.applyMarkToContent(t,r.content,n):void 0}})}isMarkResult(t){return t&&typeof t=="object"&&"mark"in t}normalizeParseResult(t){return t?this.isMarkResult(t)?t.content:t:null}parseFallbackToken(t){switch(t.type){case"paragraph":return{type:"paragraph",content:t.tokens?this.parseInlineTokens(t.tokens):[]};case"heading":return{type:"heading",attrs:{level:t.depth||1},content:t.tokens?this.parseInlineTokens(t.tokens):[]};case"text":return{type:"text",text:t.text||""};case"html":return this.parseHTMLToken(t);case"space":return null;default:return t.tokens?this.parseTokens(t.tokens):null}}parseHTMLToken(t){const e=t.text||t.raw||"";if(!e.trim())return null;try{const n=qI(e,this.baseExtensions);return n.type==="doc"&&n.content?t.block?n.content:n.content.length===1&&n.content[0].type==="paragraph"&&n.content[0].content?n.content[0].content:n.content:n}catch(n){throw new Error(`Failed to parse HTML in markdown: ${n}`)}}renderNodeToMarkdown(t,e,n=0,r=0){var i;if(t.type==="text")return t.text||"";if(!t.type)return"";const o=this.getHandlerForToken(t.type);if(!o)return"";const l={renderChildren:(h,p)=>{const g=o.isIndenting?r+1:r;return!Array.isArray(h)&&h.content?this.renderNodes(h.content,t,p||"",n,g):this.renderNodes(h,t,p||"",n,g)},indent:h=>this.indentString+h,wrapInBlock:C4},u={index:n,level:r,parentType:e?.type,meta:{}};return((i=o.renderMarkdown)==null?void 0:i.call(o,t,l,u))||""}renderNodes(t,e,n="",r=0,i=0){return Array.isArray(t)?this.renderNodesWithMarkBoundaries(t,e,n,i):t.type?this.renderNodeToMarkdown(t,e,r,i):""}renderNodesWithMarkBoundaries(t,e,n="",r=0){const i=[],o=new Map;return t.forEach((l,u)=>{const d=u<t.length-1?t[u+1]:null;if(l.type)if(l.type==="text"){let h=l.text||"";const p=new Map((l.marks||[]).map(x=>[x.type,x])),g=M4(o,p),b=A4(o,p);g.forEach(x=>{const k=o.get(x),A=this.getMarkClosing(x,k);A&&(h+=A),o.delete(x)});let w="";if(b.length>0){const x=h.match(/^(\s+)/);x&&(w=x[1],h=h.slice(w.length))}b.forEach(({type:x,mark:k})=>{const A=this.getMarkOpening(x,k);A&&(h=A+h),o.set(x,k)}),h=w+h;const v=O4(o,p,d,this.markSetsEqual.bind(this));let E="";if(v.length>0){const x=h.match(/(\s+)$/);x&&(E=x[1],h=h.slice(0,-E.length))}v.forEach(x=>{const k=o.get(x),A=this.getMarkClosing(x,k);A&&(h+=A),o.delete(x)}),h+=E,i.push(h)}else{const h=new Map(o),p=R4(o,this.getMarkClosing.bind(this)),g=this.renderNodeToMarkdown(l,e,u,r),b=l.type==="hardBreak"?"":N4(h,o,this.getMarkOpening.bind(this));i.push(p+g+b)}}),i.join(n)}getMarkOpening(t,e){const n=this.getHandlersForNodeType(t),r=n.length>0?n[0]:void 0;if(!r||!r.renderMarkdown)return"";const i="__TIPTAP_MARKDOWN_PLACEHOLDER__",o={type:t,attrs:e.attrs||{},content:[{type:"text",text:i}]};try{const l=r.renderMarkdown(o,{renderChildren:()=>i,indent:d=>d,wrapInBlock:(d,h)=>d+h},{index:0,level:0,parentType:"text",meta:{}}),u=l.indexOf(i);return u>=0?l.substring(0,u):""}catch(l){throw new Error(`Failed to get mark opening for ${t}: ${l}`)}}getMarkClosing(t,e){const n=this.getHandlersForNodeType(t),r=n.length>0?n[0]:void 0;if(!r||!r.renderMarkdown)return"";const i="__TIPTAP_MARKDOWN_PLACEHOLDER__",o={type:t,attrs:e.attrs||{},content:[{type:"text",text:i}]};try{const l=r.renderMarkdown(o,{renderChildren:()=>i,indent:h=>h,wrapInBlock:(h,p)=>h+p},{index:0,level:0,parentType:"text",meta:{}}),u=l.indexOf(i),d=u+i.length;return u>=0?l.substring(d):""}catch(l){throw new Error(`Failed to get mark closing for ${t}: ${l}`)}}markSetsEqual(t,e){return t.size!==e.size?!1:Array.from(t.keys()).every(n=>e.has(n))}},$1=_4,D4=Kt.create({name:"markdown",addOptions(){return{indentation:{style:"space",size:2},marked:void 0,markedOptions:{}}},addCommands(){return{setContent:(t,e)=>{if(!e?.contentType||cf(t,e?.contentType)!=="markdown"||!this.editor.markdown)return oi.setContent(t,e);const r=this.editor.markdown.parse(t);return oi.setContent(r,e)},insertContent:(t,e)=>{if(!e?.contentType||cf(t,e?.contentType)!=="markdown"||!this.editor.markdown)return oi.insertContent(t,e);const r=this.editor.markdown.parse(t);return oi.insertContent(r,e)},insertContentAt:(t,e,n)=>{if(!n?.contentType||cf(e,n?.contentType)!=="markdown"||!this.editor.markdown)return oi.insertContentAt(t,e,n);const i=this.editor.markdown.parse(e);return oi.insertContentAt(t,i,n)}}},addStorage(){return{manager:new $1({indentation:this.options.indentation,marked:this.options.marked,markedOptions:this.options.markedOptions,extensions:[]})}},onBeforeCreate(){if(this.editor.markdown){console.error("[tiptap][markdown]: There is already a `markdown` property on the editor instance. This might lead to unexpected behavior.");return}if(this.storage.manager=new $1({indentation:this.options.indentation,marked:this.options.marked,markedOptions:this.options.markedOptions,extensions:this.editor.extensionManager.baseExtensions}),this.editor.markdown=this.storage.manager,this.editor.getMarkdown=()=>this.storage.manager.serialize(this.editor.getJSON()),!this.editor.options.contentType||cf(this.editor.options.content,this.editor.options.contentType)!=="markdown")return;if(!this.editor.markdown)throw new Error('[tiptap][markdown]: The `contentType` option is set to "markdown", but the Markdown extension is not added to the editor. Please add the Markdown extension to use this feature.');if(this.editor.options.content===void 0||typeof this.editor.options.content!="string")throw new Error('[tiptap][markdown]: The `contentType` option is set to "markdown", but the initial content is not a string. Please provide the initial content as a markdown string.');const e=this.editor.markdown.parse(this.editor.options.content);this.editor.options.content=e}}),sy,j1;function L4(){if(j1)return sy;j1=1;function t(N){return N instanceof Map?N.clear=N.delete=N.set=function(){throw new Error("map is read-only")}:N instanceof Set&&(N.add=N.clear=N.delete=function(){throw new Error("set is read-only")}),Object.freeze(N),Object.getOwnPropertyNames(N).forEach(J=>{const pe=N[J],$e=typeof pe;($e==="object"||$e==="function")&&!Object.isFrozen(pe)&&t(pe)}),N}class e{constructor(J){J.data===void 0&&(J.data={}),this.data=J.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(N){return N.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(N,...J){const pe=Object.create(null);for(const $e in N)pe[$e]=N[$e];return J.forEach(function($e){for(const vt in $e)pe[vt]=$e[vt]}),pe}const i="</span>",o=N=>!!N.scope,l=(N,{prefix:J})=>{if(N.startsWith("language:"))return N.replace("language:","language-");if(N.includes(".")){const pe=N.split(".");return[`${J}${pe.shift()}`,...pe.map(($e,vt)=>`${$e}${"_".repeat(vt+1)}`)].join(" ")}return`${J}${N}`};class u{constructor(J,pe){this.buffer="",this.classPrefix=pe.classPrefix,J.walk(this)}addText(J){this.buffer+=n(J)}openNode(J){if(!o(J))return;const pe=l(J.scope,{prefix:this.classPrefix});this.span(pe)}closeNode(J){o(J)&&(this.buffer+=i)}value(){return this.buffer}span(J){this.buffer+=`<span class="${J}">`}}const d=(N={})=>{const J={children:[]};return Object.assign(J,N),J};class h{constructor(){this.rootNode=d(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(J){this.top.children.push(J)}openNode(J){const pe=d({scope:J});this.add(pe),this.stack.push(pe)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(J){return this.constructor._walk(J,this.rootNode)}static _walk(J,pe){return typeof pe=="string"?J.addText(pe):pe.children&&(J.openNode(pe),pe.children.forEach($e=>this._walk(J,$e)),J.closeNode(pe)),J}static _collapse(J){typeof J!="string"&&J.children&&(J.children.every(pe=>typeof pe=="string")?J.children=[J.children.join("")]:J.children.forEach(pe=>{h._collapse(pe)}))}}class p extends h{constructor(J){super(),this.options=J}addText(J){J!==""&&this.add(J)}startScope(J){this.openNode(J)}endScope(){this.closeNode()}__addSublanguage(J,pe){const $e=J.root;pe&&($e.scope=`language:${pe}`),this.add($e)}toHTML(){return new u(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function g(N){return N?typeof N=="string"?N:N.source:null}function b(N){return E("(?=",N,")")}function w(N){return E("(?:",N,")*")}function v(N){return E("(?:",N,")?")}function E(...N){return N.map(pe=>g(pe)).join("")}function x(N){const J=N[N.length-1];return typeof J=="object"&&J.constructor===Object?(N.splice(N.length-1,1),J):{}}function k(...N){return"("+(x(N).capture?"":"?:")+N.map($e=>g($e)).join("|")+")"}function A(N){return new RegExp(N.toString()+"|").exec("").length-1}function L(N,J){const pe=N&&N.exec(J);return pe&&pe.index===0}const $=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function P(N,{joinWith:J}){let pe=0;return N.map($e=>{pe+=1;const vt=pe;let Et=g($e),ke="";for(;Et.length>0;){const we=$.exec(Et);if(!we){ke+=Et;break}ke+=Et.substring(0,we.index),Et=Et.substring(we.index+we[0].length),we[0][0]==="\\"&&we[1]?ke+="\\"+String(Number(we[1])+vt):(ke+=we[0],we[0]==="("&&pe++)}return ke}).map($e=>`(${$e})`).join(J)}const V=/\b\B/,M="[a-zA-Z]\\w*",Z="[a-zA-Z_]\\w*",se="\\b\\d+(\\.\\d+)?",De="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Ie="\\b(0b[01]+)",te="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",xe=(N={})=>{const J=/^#![ ]*\//;return N.binary&&(N.begin=E(J,/.*\b/,N.binary,/\b.*/)),r({scope:"meta",begin:J,end:/$/,relevance:0,"on:begin":(pe,$e)=>{pe.index!==0&&$e.ignoreMatch()}},N)},he={begin:"\\\\[\\s\\S]",relevance:0},ge={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[he]},B={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[he]},ie={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},ee=function(N,J,pe={}){const $e=r({scope:"comment",begin:N,end:J,contains:[]},pe);$e.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const vt=k("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return $e.contains.push({begin:E(/[ ]+/,"(",vt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),$e},Ee=ee("//","$"),Le=ee("/\\*","\\*/"),O=ee("#","$"),K={scope:"number",begin:se,relevance:0},le={scope:"number",begin:De,relevance:0},fe={scope:"number",begin:Ie,relevance:0},Ae={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[he,{begin:/\[/,end:/\]/,relevance:0,contains:[he]}]},Ve={scope:"title",begin:M,relevance:0},it={scope:"title",begin:Z,relevance:0},Gt={begin:"\\.\\s*"+Z,relevance:0};var _r=Object.freeze({__proto__:null,APOS_STRING_MODE:ge,BACKSLASH_ESCAPE:he,BINARY_NUMBER_MODE:fe,BINARY_NUMBER_RE:Ie,COMMENT:ee,C_BLOCK_COMMENT_MODE:Le,C_LINE_COMMENT_MODE:Ee,C_NUMBER_MODE:le,C_NUMBER_RE:De,END_SAME_AS_BEGIN:function(N){return Object.assign(N,{"on:begin":(J,pe)=>{pe.data._beginMatch=J[1]},"on:end":(J,pe)=>{pe.data._beginMatch!==J[1]&&pe.ignoreMatch()}})},HASH_COMMENT_MODE:O,IDENT_RE:M,MATCH_NOTHING_RE:V,METHOD_GUARD:Gt,NUMBER_MODE:K,NUMBER_RE:se,PHRASAL_WORDS_MODE:ie,QUOTE_STRING_MODE:B,REGEXP_MODE:Ae,RE_STARTERS_RE:te,SHEBANG:xe,TITLE_MODE:Ve,UNDERSCORE_IDENT_RE:Z,UNDERSCORE_TITLE_MODE:it});function cs(N,J){N.input[N.index-1]==="."&&J.ignoreMatch()}function Wt(N,J){N.className!==void 0&&(N.scope=N.className,delete N.className)}function ei(N,J){J&&N.beginKeywords&&(N.begin="\\b("+N.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",N.__beforeBegin=cs,N.keywords=N.keywords||N.beginKeywords,delete N.beginKeywords,N.relevance===void 0&&(N.relevance=0))}function Dr(N,J){Array.isArray(N.illegal)&&(N.illegal=k(...N.illegal))}function uo(N,J){if(N.match){if(N.begin||N.end)throw new Error("begin & end are not supported with match");N.begin=N.match,delete N.match}}function hr(N,J){N.relevance===void 0&&(N.relevance=1)}const Ol=(N,J)=>{if(!N.beforeMatch)return;if(N.starts)throw new Error("beforeMatch cannot be used with starts");const pe=Object.assign({},N);Object.keys(N).forEach($e=>{delete N[$e]}),N.keywords=pe.keywords,N.begin=E(pe.beforeMatch,b(pe.begin)),N.starts={relevance:0,contains:[Object.assign(pe,{endsParent:!0})]},N.relevance=0,delete pe.beforeMatch},pa=["of","and","for","in","not","or","if","then","parent","list","value"],us="keyword";function ds(N,J,pe=us){const $e=Object.create(null);return typeof N=="string"?vt(pe,N.split(" ")):Array.isArray(N)?vt(pe,N):Object.keys(N).forEach(function(Et){Object.assign($e,ds(N[Et],J,Et))}),$e;function vt(Et,ke){J&&(ke=ke.map(we=>we.toLowerCase())),ke.forEach(function(we){const C=we.split("|");$e[C[0]]=[Et,fo(C[0],C[1])]})}}function fo(N,J){return J?Number(J):Rl(N)?0:1}function Rl(N){return pa.includes(N.toLowerCase())}const ma={},xt=N=>{console.error(N)},fi=(N,...J)=>{console.log(`WARN: ${N}`,...J)},Lr=(N,J)=>{ma[`${N}/${J}`]||(console.log(`Deprecated as of ${N}. ${J}`),ma[`${N}/${J}`]=!0)},ti=new Error;function On(N,J,{key:pe}){let $e=0;const vt=N[pe],Et={},ke={};for(let we=1;we<=J.length;we++)ke[we+$e]=vt[we],Et[we+$e]=!0,$e+=A(J[we-1]);N[pe]=ke,N[pe]._emit=Et,N[pe]._multi=!0}function pr(N){if(Array.isArray(N.begin)){if(N.skip||N.excludeBegin||N.returnBegin)throw xt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ti;if(typeof N.beginScope!="object"||N.beginScope===null)throw xt("beginScope must be object"),ti;On(N,N.begin,{key:"beginScope"}),N.begin=P(N.begin,{joinWith:""})}}function ho(N){if(Array.isArray(N.end)){if(N.skip||N.excludeEnd||N.returnEnd)throw xt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ti;if(typeof N.endScope!="object"||N.endScope===null)throw xt("endScope must be object"),ti;On(N,N.end,{key:"endScope"}),N.end=P(N.end,{joinWith:""})}}function Nl(N){N.scope&&typeof N.scope=="object"&&N.scope!==null&&(N.beginScope=N.scope,delete N.scope)}function po(N){Nl(N),typeof N.beginScope=="string"&&(N.beginScope={_wrap:N.beginScope}),typeof N.endScope=="string"&&(N.endScope={_wrap:N.endScope}),pr(N),ho(N)}function Oi(N){function J(ke,we){return new RegExp(g(ke),"m"+(N.case_insensitive?"i":"")+(N.unicodeRegex?"u":"")+(we?"g":""))}class pe{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(we,C){C.position=this.position++,this.matchIndexes[this.matchAt]=C,this.regexes.push([C,we]),this.matchAt+=A(we)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const we=this.regexes.map(C=>C[1]);this.matcherRe=J(P(we,{joinWith:"|"}),!0),this.lastIndex=0}exec(we){this.matcherRe.lastIndex=this.lastIndex;const C=this.matcherRe.exec(we);if(!C)return null;const D=C.findIndex((re,ue)=>ue>0&&re!==void 0),U=this.matchIndexes[D];return C.splice(0,D),Object.assign(C,U)}}class $e{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(we){if(this.multiRegexes[we])return this.multiRegexes[we];const C=new pe;return this.rules.slice(we).forEach(([D,U])=>C.addRule(D,U)),C.compile(),this.multiRegexes[we]=C,C}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(we,C){this.rules.push([we,C]),C.type==="begin"&&this.count++}exec(we){const C=this.getMatcher(this.regexIndex);C.lastIndex=this.lastIndex;let D=C.exec(we);if(this.resumingScanAtSamePosition()&&!(D&&D.index===this.lastIndex)){const U=this.getMatcher(0);U.lastIndex=this.lastIndex+1,D=U.exec(we)}return D&&(this.regexIndex+=D.position+1,this.regexIndex===this.count&&this.considerAll()),D}}function vt(ke){const we=new $e;return ke.contains.forEach(C=>we.addRule(C.begin,{rule:C,type:"begin"})),ke.terminatorEnd&&we.addRule(ke.terminatorEnd,{type:"end"}),ke.illegal&&we.addRule(ke.illegal,{type:"illegal"}),we}function Et(ke,we){const C=ke;if(ke.isCompiled)return C;[Wt,uo,po,Ol].forEach(U=>U(ke,we)),N.compilerExtensions.forEach(U=>U(ke,we)),ke.__beforeBegin=null,[ei,Dr,hr].forEach(U=>U(ke,we)),ke.isCompiled=!0;let D=null;return typeof ke.keywords=="object"&&ke.keywords.$pattern&&(ke.keywords=Object.assign({},ke.keywords),D=ke.keywords.$pattern,delete ke.keywords.$pattern),D=D||/\w+/,ke.keywords&&(ke.keywords=ds(ke.keywords,N.case_insensitive)),C.keywordPatternRe=J(D,!0),we&&(ke.begin||(ke.begin=/\B|\b/),C.beginRe=J(C.begin),!ke.end&&!ke.endsWithParent&&(ke.end=/\B|\b/),ke.end&&(C.endRe=J(C.end)),C.terminatorEnd=g(C.end)||"",ke.endsWithParent&&we.terminatorEnd&&(C.terminatorEnd+=(ke.end?"|":"")+we.terminatorEnd)),ke.illegal&&(C.illegalRe=J(ke.illegal)),ke.contains||(ke.contains=[]),ke.contains=[].concat(...ke.contains.map(function(U){return mr(U==="self"?ke:U)})),ke.contains.forEach(function(U){Et(U,C)}),ke.starts&&Et(ke.starts,we),C.matcher=vt(C),C}if(N.compilerExtensions||(N.compilerExtensions=[]),N.contains&&N.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return N.classNameAliases=r(N.classNameAliases||{}),Et(N)}function Lt(N){return N?N.endsWithParent||Lt(N.starts):!1}function mr(N){return N.variants&&!N.cachedVariants&&(N.cachedVariants=N.variants.map(function(J){return r(N,{variants:null},J)})),N.cachedVariants?N.cachedVariants:Lt(N)?r(N,{starts:N.starts?r(N.starts):null}):Object.isFrozen(N)?r(N):N}var vn="11.11.1";class ga extends Error{constructor(J,pe){super(J),this.name="HTMLInjectionError",this.html=pe}}const mo=n,go=r,zr=Symbol("nomatch"),Ri=7,ni=function(N){const J=Object.create(null),pe=Object.create(null),$e=[];let vt=!0;const Et="Could not find the language '{}', did you forget to load/include a language module?",ke={disableAutodetect:!0,name:"Plain text",contains:[]};let we={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:p};function C(oe){return we.noHighlightRe.test(oe)}function D(oe){let Te=oe.className+" ";Te+=oe.parentNode?oe.parentNode.className:"";const Ye=we.languageDetectRe.exec(Te);if(Ye){const ft=gt(Ye[1]);return ft||(fi(Et.replace("{}",Ye[1])),fi("Falling back to no-highlight mode for this block.",oe)),ft?Ye[1]:"no-highlight"}return Te.split(/\s+/).find(ft=>C(ft)||gt(ft))}function U(oe,Te,Ye){let ft="",Pe="";typeof Te=="object"?(ft=oe,Ye=Te.ignoreIllegals,Pe=Te.language):(Lr("10.7.0","highlight(lang, code, ...args) has been deprecated."),Lr("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Pe=oe,ft=Te),Ye===void 0&&(Ye=!0);const ht={code:ft,language:Pe};En("before:highlight",ht);const un=ht.result?ht.result:re(ht.language,ht.code,Ye);return un.code=ht.code,En("after:highlight",un),un}function re(oe,Te,Ye,ft){const Pe=Object.create(null);function ht(de,Oe){return de.keywords[Oe]}function un(){if(!qe.keywords){dn.addText(kt);return}let de=0;qe.keywordPatternRe.lastIndex=0;let Oe=qe.keywordPatternRe.exec(kt),We="";for(;Oe;){We+=kt.substring(de,Oe.index);const lt=Rn.case_insensitive?Oe[0].toLowerCase():Oe[0],Yt=ht(qe,lt);if(Yt){const[Br,zl]=Yt;if(dn.addText(We),We="",Pe[lt]=(Pe[lt]||0)+1,Pe[lt]<=Ri&&(hs+=zl),Br.startsWith("_"))We+=Oe[0];else{const Iu=Rn.classNameAliases[Br]||Br;Sn(Oe[0],Iu)}}else We+=Oe[0];de=qe.keywordPatternRe.lastIndex,Oe=qe.keywordPatternRe.exec(kt)}We+=kt.substring(de),dn.addText(We)}function Xt(){if(kt==="")return;let de=null;if(typeof qe.subLanguage=="string"){if(!J[qe.subLanguage]){dn.addText(kt);return}de=re(qe.subLanguage,kt,!0,Bu[qe.subLanguage]),Bu[qe.subLanguage]=de._top}else de=Ce(kt,qe.subLanguage.length?qe.subLanguage:null);qe.relevance>0&&(hs+=de.relevance),dn.__addSublanguage(de._emitter,de.language)}function Fe(){qe.subLanguage!=null?Xt():un(),kt=""}function Sn(de,Oe){de!==""&&(dn.startScope(Oe),dn.addText(de),dn.endScope())}function yo(de,Oe){let We=1;const lt=Oe.length-1;for(;We<=lt;){if(!de._emit[We]){We++;continue}const Yt=Rn.classNameAliases[de[We]]||de[We],Br=Oe[We];Yt?Sn(Br,Yt):(kt=Br,un(),kt=""),We++}}function fs(de,Oe){return de.scope&&typeof de.scope=="string"&&dn.openNode(Rn.classNameAliases[de.scope]||de.scope),de.beginScope&&(de.beginScope._wrap?(Sn(kt,Rn.classNameAliases[de.beginScope._wrap]||de.beginScope._wrap),kt=""):de.beginScope._multi&&(yo(de.beginScope,Oe),kt="")),qe=Object.create(de,{parent:{value:qe}}),qe}function _l(de,Oe,We){let lt=L(de.endRe,We);if(lt){if(de["on:end"]){const Yt=new e(de);de["on:end"](Oe,Yt),Yt.isMatchIgnored&&(lt=!1)}if(lt){for(;de.endsParent&&de.parent;)de=de.parent;return de}}if(de.endsWithParent)return _l(de.parent,Oe,We)}function ya(de){return qe.matcher.regexIndex===0?(kt+=de[0],1):(ps=!0,0)}function up(de){const Oe=de[0],We=de.rule,lt=new e(We),Yt=[We.__beforeBegin,We["on:begin"]];for(const Br of Yt)if(Br&&(Br(de,lt),lt.isMatchIgnored))return ya(Oe);return We.skip?kt+=Oe:(We.excludeBegin&&(kt+=Oe),Fe(),!We.returnBegin&&!We.excludeBegin&&(kt=Oe)),fs(We,de),We.returnBegin?0:Oe.length}function er(de){const Oe=de[0],We=Te.substring(de.index),lt=_l(qe,de,We);if(!lt)return zr;const Yt=qe;qe.endScope&&qe.endScope._wrap?(Fe(),Sn(Oe,qe.endScope._wrap)):qe.endScope&&qe.endScope._multi?(Fe(),yo(qe.endScope,de)):Yt.skip?kt+=Oe:(Yt.returnEnd||Yt.excludeEnd||(kt+=Oe),Fe(),Yt.excludeEnd&&(kt=Oe));do qe.scope&&dn.closeNode(),!qe.skip&&!qe.subLanguage&&(hs+=qe.relevance),qe=qe.parent;while(qe!==lt.parent);return lt.starts&&fs(lt.starts,de),Yt.returnEnd?0:Oe.length}function Dl(){const de=[];for(let Oe=qe;Oe!==Rn;Oe=Oe.parent)Oe.scope&&de.unshift(Oe.scope);de.forEach(Oe=>dn.openNode(Oe))}let bo={};function ba(de,Oe){const We=Oe&&Oe[0];if(kt+=de,We==null)return Fe(),0;if(bo.type==="begin"&&Oe.type==="end"&&bo.index===Oe.index&&We===""){if(kt+=Te.slice(Oe.index,Oe.index+1),!vt){const lt=new Error(`0 width match regex (${oe})`);throw lt.languageName=oe,lt.badRule=bo.rule,lt}return 1}if(bo=Oe,Oe.type==="begin")return up(Oe);if(Oe.type==="illegal"&&!Ye){const lt=new Error('Illegal lexeme "'+We+'" for mode "'+(qe.scope||"<unnamed>")+'"');throw lt.mode=qe,lt}else if(Oe.type==="end"){const lt=er(Oe);if(lt!==zr)return lt}if(Oe.type==="illegal"&&We==="")return kt+=`
`,1;if(Ll>1e5&&Ll>Oe.index*3)throw new Error("potential infinite loop, way more iterations than matches");return kt+=We,We.length}const Rn=gt(oe);if(!Rn)throw xt(Et.replace("{}",oe)),new Error('Unknown language: "'+oe+'"');const zu=Oi(Rn);let wa="",qe=ft||zu;const Bu={},dn=new we.__emitter(we);Dl();let kt="",hs=0,Ni=0,Ll=0,ps=!1;try{if(Rn.__emitTokens)Rn.__emitTokens(Te,dn);else{for(qe.matcher.considerAll();;){Ll++,ps?ps=!1:qe.matcher.considerAll(),qe.matcher.lastIndex=Ni;const de=qe.matcher.exec(Te);if(!de)break;const Oe=Te.substring(Ni,de.index),We=ba(Oe,de);Ni=de.index+We}ba(Te.substring(Ni))}return dn.finalize(),wa=dn.toHTML(),{language:oe,value:wa,relevance:hs,illegal:!1,_emitter:dn,_top:qe}}catch(de){if(de.message&&de.message.includes("Illegal"))return{language:oe,value:mo(Te),illegal:!0,relevance:0,_illegalBy:{message:de.message,index:Ni,context:Te.slice(Ni-100,Ni+100),mode:de.mode,resultSoFar:wa},_emitter:dn};if(vt)return{language:oe,value:mo(Te),illegal:!1,relevance:0,errorRaised:de,_emitter:dn,_top:qe};throw de}}function ue(oe){const Te={value:mo(oe),illegal:!1,relevance:0,_top:ke,_emitter:new we.__emitter(we)};return Te._emitter.addText(oe),Te}function Ce(oe,Te){Te=Te||we.languages||Object.keys(J);const Ye=ue(oe),ft=Te.filter(gt).filter(nn).map(Fe=>re(Fe,oe,!1));ft.unshift(Ye);const Pe=ft.sort((Fe,Sn)=>{if(Fe.relevance!==Sn.relevance)return Sn.relevance-Fe.relevance;if(Fe.language&&Sn.language){if(gt(Fe.language).supersetOf===Sn.language)return 1;if(gt(Sn.language).supersetOf===Fe.language)return-1}return 0}),[ht,un]=Pe,Xt=ht;return Xt.secondBest=un,Xt}function ye(oe,Te,Ye){const ft=Te&&pe[Te]||Ye;oe.classList.add("hljs"),oe.classList.add(`language-${ft}`)}function me(oe){let Te=null;const Ye=D(oe);if(C(Ye))return;if(En("before:highlightElement",{el:oe,language:Ye}),oe.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",oe);return}if(oe.children.length>0&&(we.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(oe)),we.throwUnescapedHTML))throw new ga("One of your code blocks includes unescaped HTML.",oe.innerHTML);Te=oe;const ft=Te.textContent,Pe=Ye?U(ft,{language:Ye,ignoreIllegals:!0}):Ce(ft);oe.innerHTML=Pe.value,oe.dataset.highlighted="yes",ye(oe,Ye,Pe.language),oe.result={language:Pe.language,re:Pe.relevance,relevance:Pe.relevance},Pe.secondBest&&(oe.secondBest={language:Pe.secondBest.language,relevance:Pe.secondBest.relevance}),En("after:highlightElement",{el:oe,result:Pe,text:ft})}function be(oe){we=go(we,oe)}const Me=()=>{tt(),Lr("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function He(){tt(),Lr("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Ne=!1;function tt(){function oe(){tt()}if(document.readyState==="loading"){Ne||window.addEventListener("DOMContentLoaded",oe,!1),Ne=!0;return}document.querySelectorAll(we.cssSelector).forEach(me)}function st(oe,Te){let Ye=null;try{Ye=Te(N)}catch(ft){if(xt("Language definition for '{}' could not be registered.".replace("{}",oe)),vt)xt(ft);else throw ft;Ye=ke}Ye.name||(Ye.name=oe),J[oe]=Ye,Ye.rawDefinition=Te.bind(null,N),Ye.aliases&&rt(Ye.aliases,{languageName:oe})}function Pt(oe){delete J[oe];for(const Te of Object.keys(pe))pe[Te]===oe&&delete pe[Te]}function qt(){return Object.keys(J)}function gt(oe){return oe=(oe||"").toLowerCase(),J[oe]||J[pe[oe]]}function rt(oe,{languageName:Te}){typeof oe=="string"&&(oe=[oe]),oe.forEach(Ye=>{pe[Ye.toLowerCase()]=Te})}function nn(oe){const Te=gt(oe);return Te&&!Te.disableAutodetect}function Un(oe){oe["before:highlightBlock"]&&!oe["before:highlightElement"]&&(oe["before:highlightElement"]=Te=>{oe["before:highlightBlock"](Object.assign({block:Te.el},Te))}),oe["after:highlightBlock"]&&!oe["after:highlightElement"]&&(oe["after:highlightElement"]=Te=>{oe["after:highlightBlock"](Object.assign({block:Te.el},Te))})}function zt(oe){Un(oe),$e.push(oe)}function gr(oe){const Te=$e.indexOf(oe);Te!==-1&&$e.splice(Te,1)}function En(oe,Te){const Ye=oe;$e.forEach(function(ft){ft[Ye]&&ft[Ye](Te)})}function yr(oe){return Lr("10.7.0","highlightBlock will be removed entirely in v12.0"),Lr("10.7.0","Please use highlightElement now."),me(oe)}Object.assign(N,{highlight:U,highlightAuto:Ce,highlightAll:tt,highlightElement:me,highlightBlock:yr,configure:be,initHighlighting:Me,initHighlightingOnLoad:He,registerLanguage:st,unregisterLanguage:Pt,listLanguages:qt,getLanguage:gt,registerAliases:rt,autoDetection:nn,inherit:go,addPlugin:zt,removePlugin:gr}),N.debugMode=function(){vt=!1},N.safeMode=function(){vt=!0},N.versionString=vn,N.regex={concat:E,lookahead:b,either:k,optional:v,anyNumberOfTimes:w};for(const oe in _r)typeof _r[oe]=="object"&&t(_r[oe]);return Object.assign(N,_r),N},Pn=ni({});return Pn.newInstance=()=>ni({}),sy=Pn,Pn.HighlightJS=Pn,Pn.default=Pn,sy}var z4=L4();const lA=Ah(z4);function cA(t,e=[]){return t.flatMap(n=>{const r=[...e,...n.properties?n.properties.className:[]];return n.children?cA(n.children,r):{text:n.value,classes:r}})}function q1(t){return t.value||t.children||[]}function B4(t){return!!lA.getLanguage(t)}function F1({doc:t,name:e,lowlight:n,defaultLanguage:r}){const i=[];return Ly(t,o=>o.type.name===e).forEach(o=>{var l;let u=o.pos+1;const d=o.node.attrs.language||r,h=n.listLanguages(),p=d&&(h.includes(d)||B4(d)||(l=n.registered)!=null&&l.call(n,d))?q1(n.highlight(d,o.node.textContent)):q1(n.highlightAuto(o.node.textContent));cA(p).forEach(g=>{const b=u+g.text.length;if(g.classes.length){const w=Fn.inline(u,b,{class:g.classes.join(" ")});i.push(w)}u=b})}),Vt.create(t,i)}function I4(t){return typeof t=="function"}function P4({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>I4(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new It({key:new bn("lowlight"),state:{init:(i,{doc:o})=>F1({doc:o,name:t,lowlight:e,defaultLanguage:n}),apply:(i,o,l,u)=>{const d=l.selection.$head.parent.type.name,h=u.selection.$head.parent.type.name,p=Ly(l.doc,b=>b.type.name===t),g=Ly(u.doc,b=>b.type.name===t);return i.docChanged&&([d,h].includes(t)||g.length!==p.length||i.steps.some(b=>b.from!==void 0&&b.to!==void 0&&p.some(w=>w.pos>=b.from&&w.pos+w.node.nodeSize<=b.to)))?F1({doc:i.doc,name:t,lowlight:e,defaultLanguage:n}):o.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var U4=gH.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},addProseMirrorPlugins(){var t;return[...((t=this.parent)==null?void 0:t.call(this))||[],P4({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}});function H4(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},o=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),l={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},u={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(u);const d={match:/\\"/},h={className:"string",begin:/'/,end:/'/},p={match:/\\'/},g={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},b=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],w=t.SHEBANG({binary:`(${b.join("|")})`,relevance:10}),v={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},E=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],x=["true","false"],k={match:/(\/[a-z._-]+)+/},A=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],L=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],$=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],P=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:E,literal:x,built_in:[...A,...L,"set","shopt",...$,...P]},contains:[w,t.SHEBANG(),v,g,o,l,k,u,d,h,p,n]}}function $4(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",l="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",u={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},h={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(h,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},b={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},w=e.optional(i)+t.IDENT_RE+"\\s*\\(",x={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},k=[g,u,n,t.C_BLOCK_COMMENT_MODE,p,h],A={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:x,contains:k.concat([{begin:/\(/,end:/\)/,keywords:x,contains:k.concat(["self"]),relevance:0}]),relevance:0},L={begin:"("+l+"[\\*&\\s]+)+"+w,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:x,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:x,relevance:0},{begin:w,returnBegin:!0,contains:[t.inherit(b,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,h,p,u,{begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,h,p,u]}]},u,n,t.C_BLOCK_COMMENT_MODE,g]};return{name:"C",aliases:["h"],keywords:x,disableAutodetect:!0,illegal:"</",contains:[].concat(A,L,k,[g,{begin:t.IDENT_RE+"::",keywords:x},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:g,strings:h,keywords:x}}}function j4(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",l="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",u={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},h={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(h,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},b={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},w=e.optional(i)+t.IDENT_RE+"\\s*\\(",v=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],E=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],x=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],k=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],$={type:E,keyword:v,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:x},P={className:"function.dispatch",relevance:0,keywords:{_hint:k},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},V=[P,g,u,n,t.C_BLOCK_COMMENT_MODE,p,h],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:$,contains:V.concat([{begin:/\(/,end:/\)/,keywords:$,contains:V.concat(["self"]),relevance:0}]),relevance:0},Z={className:"function",begin:"("+l+"[\\*&\\s]+)+"+w,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:$,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:$,relevance:0},{begin:w,returnBegin:!0,contains:[b],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[h,p]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:$,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,h,p,u,{begin:/\(/,end:/\)/,keywords:$,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,h,p,u]}]},u,n,t.C_BLOCK_COMMENT_MODE,g]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:$,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,Z,P,V,[g,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:$,contains:["self",u]},{begin:t.IDENT_RE+"::",keywords:$},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function q4(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],o=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],l={keyword:i.concat(o),built_in:e,literal:r},u=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},h={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},p={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},g=t.inherit(p,{illegal:/\n/}),b={className:"subst",begin:/\{/,end:/\}/,keywords:l},w=t.inherit(b,{illegal:/\n/}),v={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,w]},E={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},b]},x=t.inherit(E,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},w]});b.contains=[E,v,p,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,t.C_BLOCK_COMMENT_MODE],w.contains=[x,v,g,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const k={variants:[h,E,v,p,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},A={begin:"<",end:">",contains:[{beginKeywords:"in out"},u]},L=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",$={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:l,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},k,d,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},u,A,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[u,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[u,A,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+L+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:l,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,A],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,relevance:0,contains:[k,d,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},$]}}const F4=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),V4=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],K4=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],G4=[...V4,...K4],Y4=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),W4=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),X4=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Z4=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function J4(t){const e=t.regex,n=F4(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",o=/@-?\w[\w]*(-\w+)*/,l="[a-zA-Z-][a-zA-Z0-9_-]*",u=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+l,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+W4.join("|")+")"},{begin:":(:)?("+X4.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Z4.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...u,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...u,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:o},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Y4.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...u,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+G4.join("|")+")\\b"}]}}var nl="[0-9](_*[0-9])*",uf=`\\.(${nl})`,df="[0-9a-fA-F](_*[0-9a-fA-F])*",V1={className:"number",variants:[{begin:`(\\b(${nl})((${uf})|\\.)?|(${uf}))[eE][+-]?(${nl})[fFdD]?\\b`},{begin:`\\b(${nl})((${uf})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${uf})[fFdD]?\\b`},{begin:`\\b(${nl})[fFdD]\\b`},{begin:`\\b0[xX]((${df})\\.?|(${df})?\\.(${df}))[pP][+-]?(${nl})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${df})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function uA(t,e,n){return n===-1?"":t.replace(e,r=>uA(t,e,n-1))}function Q4(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+uA("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),d={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},h={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},p={className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:d,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[p,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:d,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[h,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,V1,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},V1,h]}}const K1="[A-Za-z$_][0-9A-Za-z$_]*",e$=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],t$=["true","false","null","undefined","NaN","Infinity"],dA=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],fA=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],hA=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],n$=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],r$=[].concat(hA,dA,fA);function i$(t){const e=t.regex,n=(ee,{after:Ee})=>{const Le="</"+ee[0].slice(1);return ee.input.indexOf(Le,Ee)!==-1},r=K1,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ee,Ee)=>{const Le=ee[0].length+ee.index,O=ee.input[Le];if(O==="<"||O===","){Ee.ignoreMatch();return}O===">"&&(n(ee,{after:Le})||Ee.ignoreMatch());let K;const le=ee.input.substring(Le);if(K=le.match(/^\s*=/)){Ee.ignoreMatch();return}if((K=le.match(/^\s+extends\s+/))&&K.index===0){Ee.ignoreMatch();return}}},u={$pattern:K1,keyword:e$,literal:t$,built_in:r$,"variable.language":n$},d="[0-9](_?[0-9])*",h=`\\.(${d})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${p})((${h})|\\.)?|(${h}))[eE][+-]?(${d})\\b`},{begin:`\\b(${p})\\b((${h})\\b|\\.)?|(${h})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},b={className:"subst",begin:"\\$\\{",end:"\\}",keywords:u,contains:[]},w={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"xml"}},v={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"graphql"}},x={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,b]},A={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},L=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,w,v,E,x,{match:/\$\d+/},g];b.contains=L.concat({begin:/\{/,end:/\}/,keywords:u,contains:["self"].concat(L)});const $=[].concat(A,b.contains),P=$.concat([{begin:/(\s*)\(/,end:/\)/,keywords:u,contains:["self"].concat($)}]),V={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:P},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},Z={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...dA,...fA]}},se={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},De={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[V],illegal:/%/},Ie={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function te(ee){return e.concat("(?!",ee.join("|"),")")}const xe={match:e.concat(/\b/,te([...hA,"super","import"].map(ee=>`${ee}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},he={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ge={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},V]},B="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",ie={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(B)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[V]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:u,exports:{PARAMS_CONTAINS:P,CLASS_REFERENCE:Z},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),se,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,w,v,E,x,A,{match:/\$\d+/},g,Z,{scope:"attr",match:r+e.lookahead(":"),relevance:0},ie,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[A,t.REGEXP_MODE,{className:"function",begin:B,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:P}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},De,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[V,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},he,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[V]},xe,Ie,M,ge,{match:/\$[(.]/}]}}function s$(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function o$(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),l={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},u={className:"doctag",begin:"@[A-Za-z]+"},d={begin:"#<",end:">"},h=[t.COMMENT("#","$",{contains:[u]}),t.COMMENT("^=begin","^=end",{contains:[u],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],p={className:"subst",begin:/#\{/,end:/\}/,keywords:l},g={className:"string",contains:[t.BACKSLASH_ESCAPE,p],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,p]})]}]},b="[1-9](_?[0-9])*|0",w="[0-9](_?[0-9])*",v={className:"number",relevance:0,variants:[{begin:`\\b(${b})(\\.(${w}))?([eE][+-]?(${w})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},E={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:l}]},V=[g,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:l},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:l},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[E]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[g,{begin:n}],relevance:0},v,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:l},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,p],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(d,h),relevance:0}].concat(d,h);p.contains=V,E.contains=V;const De=[{begin:/^\s*=>/,starts:{end:"$",contains:V}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:l,contains:V}}];return h.unshift(d),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:l,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(De).concat(h).concat(V)}}function a$(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),o={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},l="([ui](8|16|32|64|128|size)|f(32|64))?",u=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],d=["true","false","Some","None","Ok","Err"],h=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],p=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:p,keyword:u,literal:d,built_in:h},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+l},{begin:"\\b0o([0-7_]+)"+l},{begin:"\\b0x([A-Fa-f0-9_]+)"+l},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+l}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:h,type:p}},{className:"punctuation",begin:"->"},o]}}function l$(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},o=["true","false","unknown"],l=["double precision","large object","with timezone","without timezone"],u=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],d=["add","asc","collation","desc","final","first","last","view"],h=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],p=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],g=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],b=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],w=p,v=[...h,...d].filter(P=>!p.includes(P)),E={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},x={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},k={match:e.concat(/\b/,e.either(...w),/\s*\(/),relevance:0,keywords:{built_in:w}};function A(P){return e.concat(/\b/,e.either(...P.map(V=>V.replace(/\s+/,"\\s+"))),/\b/)}const L={scope:"keyword",match:A(b),relevance:0};function $(P,{exceptions:V,when:M}={}){const Z=M;return V=V||[],P.map(se=>se.match(/\|\d+$/)||V.includes(se)?se:Z(se)?`${se}|0`:se)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:$(v,{when:P=>P.length<3}),literal:o,type:u,built_in:g},contains:[{scope:"type",match:A(l)},L,k,E,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,x]}}const bh="[A-Za-z$_][0-9A-Za-z$_]*",pA=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],mA=["true","false","null","undefined","NaN","Infinity"],gA=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],yA=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],bA=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],wA=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],vA=[].concat(bA,gA,yA);function c$(t){const e=t.regex,n=(ee,{after:Ee})=>{const Le="</"+ee[0].slice(1);return ee.input.indexOf(Le,Ee)!==-1},r=bh,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ee,Ee)=>{const Le=ee[0].length+ee.index,O=ee.input[Le];if(O==="<"||O===","){Ee.ignoreMatch();return}O===">"&&(n(ee,{after:Le})||Ee.ignoreMatch());let K;const le=ee.input.substring(Le);if(K=le.match(/^\s*=/)){Ee.ignoreMatch();return}if((K=le.match(/^\s+extends\s+/))&&K.index===0){Ee.ignoreMatch();return}}},u={$pattern:bh,keyword:pA,literal:mA,built_in:vA,"variable.language":wA},d="[0-9](_?[0-9])*",h=`\\.(${d})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${p})((${h})|\\.)?|(${h}))[eE][+-]?(${d})\\b`},{begin:`\\b(${p})\\b((${h})\\b|\\.)?|(${h})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},b={className:"subst",begin:"\\$\\{",end:"\\}",keywords:u,contains:[]},w={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"xml"}},v={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"graphql"}},x={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,b]},A={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},L=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,w,v,E,x,{match:/\$\d+/},g];b.contains=L.concat({begin:/\{/,end:/\}/,keywords:u,contains:["self"].concat(L)});const $=[].concat(A,b.contains),P=$.concat([{begin:/(\s*)\(/,end:/\)/,keywords:u,contains:["self"].concat($)}]),V={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:P},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},Z={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...gA,...yA]}},se={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},De={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[V],illegal:/%/},Ie={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function te(ee){return e.concat("(?!",ee.join("|"),")")}const xe={match:e.concat(/\b/,te([...bA,"super","import"].map(ee=>`${ee}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},he={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ge={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},V]},B="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",ie={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(B)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[V]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:u,exports:{PARAMS_CONTAINS:P,CLASS_REFERENCE:Z},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),se,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,w,v,E,x,A,{match:/\$\d+/},g,Z,{scope:"attr",match:r+e.lookahead(":"),relevance:0},ie,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[A,t.REGEXP_MODE,{className:"function",begin:B,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:P}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},De,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[V,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},he,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[V]},xe,Ie,M,ge,{match:/\$[(.]/}]}}function u$(t){const e=t.regex,n=c$(t),r=bh,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],o={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},l={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},u={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},d=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],h={$pattern:bh,keyword:pA.concat(d),literal:mA,built_in:vA.concat(i),"variable.language":wA},p={className:"meta",begin:"@"+r},g=(E,x,k)=>{const A=E.contains.findIndex(L=>L.label===x);if(A===-1)throw new Error("can not find mode to replace");E.contains.splice(A,1,k)};Object.assign(n.keywords,h),n.exports.PARAMS_CONTAINS.push(p);const b=n.contains.find(E=>E.scope==="attr"),w=Object.assign({},b,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,b,w]),n.contains=n.contains.concat([p,o,l,w]),g(n,"shebang",t.SHEBANG()),g(n,"use_strict",u);const v=n.contains.find(E=>E.label==="func.def");return v.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function d$(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},l=t.inherit(o,{begin:/\(/,end:/\)/}),u=t.inherit(t.APOS_STRING_MODE,{className:"string"}),d=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),h={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,d,u,l,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,l,d,u]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[d]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[h],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[h],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:h}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const G1={},f$="hljs-";function h$(t){const e=lA.newInstance();return{highlight:n,highlightAuto:r,listLanguages:i,register:o,registerAlias:l,registered:u};function n(d,h,p){const g=p||G1,b=typeof g.prefix=="string"?g.prefix:f$;if(!e.getLanguage(d))throw new Error("Unknown language: `"+d+"` is not registered");e.configure({__emitter:p$,classPrefix:b});const w=e.highlight(h,{ignoreIllegals:!0,language:d});if(w.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:w.errorRaised});const v=w._emitter.root,E=v.data;return E.language=w.language,E.relevance=w.relevance,v}function r(d,h){const g=(h||G1).subset||i();let b=-1,w=0,v;for(;++b<g.length;){const E=g[b];if(!e.getLanguage(E))continue;const x=n(E,d,h);x.data&&x.data.relevance!==void 0&&x.data.relevance>w&&(w=x.data.relevance,v=x)}return v||{type:"root",children:[],data:{language:void 0,relevance:w}}}function i(){return e.listLanguages()}function o(d,h){if(typeof d=="string")e.registerLanguage(d,h);else{let p;for(p in d)Object.hasOwn(d,p)&&e.registerLanguage(p,d[p])}}function l(d,h){if(typeof d=="string")e.registerAliases(typeof h=="string"?h:[...h],{languageName:d});else{let p;for(p in d)if(Object.hasOwn(d,p)){const g=d[p];e.registerAliases(typeof g=="string"?g:[...g],{languageName:p})}}}function u(d){return!!e.getLanguage(d)}}class p${constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(l,u){return u?l+"_".repeat(u):n.options.classPrefix+l}),i=this.stack[this.stack.length-1],o={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(o),this.stack.push(o)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}function EA(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function m$(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Y1(t,e){return t.get(EA(t,e))}function g$(t,e,n){m$(t,e),e.set(t,n)}function y$(t,e,n){return t.set(EA(t,e),n),n}const b$=100,ze={},w$=()=>{ze.previousActiveElement instanceof HTMLElement?(ze.previousActiveElement.focus(),ze.previousActiveElement=null):document.body&&document.body.focus()},v$=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ze.restoreFocusTimeout=setTimeout(()=>{w$(),e()},b$),window.scrollTo(n,r)}),SA="swal2-",E$=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],W=E$.reduce((t,e)=>(t[e]=SA+e,t),{}),S$=["success","warning","info","question","error"],wh=S$.reduce((t,e)=>(t[e]=SA+e,t),{}),xA="SweetAlert2:",d0=t=>t.charAt(0).toUpperCase()+t.slice(1),Jn=t=>{console.warn(`${xA} ${typeof t=="object"?t.join(" "):t}`)},fa=t=>{console.error(`${xA} ${t}`)},W1=[],x$=t=>{W1.includes(t)||(W1.push(t),Jn(t))},kA=(t,e=null)=>{x$(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},ip=t=>typeof t=="function"?t():t,f0=t=>t&&typeof t.toPromise=="function",Ou=t=>f0(t)?t.toPromise():Promise.resolve(t),h0=t=>t&&Promise.resolve(t)===t,Qn=()=>document.body.querySelector(`.${W.container}`),Ru=t=>{const e=Qn();return e?e.querySelector(t):null},Rr=t=>Ru(`.${t}`),wt=()=>Rr(W.popup),Tl=()=>Rr(W.icon),k$=()=>Rr(W["icon-content"]),TA=()=>Rr(W.title),p0=()=>Rr(W["html-container"]),CA=()=>Rr(W.image),m0=()=>Rr(W["progress-steps"]),sp=()=>Rr(W["validation-message"]),Mi=()=>Ru(`.${W.actions} .${W.confirm}`),Cl=()=>Ru(`.${W.actions} .${W.cancel}`),ha=()=>Ru(`.${W.actions} .${W.deny}`),T$=()=>Rr(W["input-label"]),Ml=()=>Ru(`.${W.loader}`),Nu=()=>Rr(W.actions),MA=()=>Rr(W.footer),op=()=>Rr(W["timer-progress-bar"]),g0=()=>Rr(W.close),C$=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,y0=()=>{const t=wt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((o,l)=>{const u=parseInt(o.getAttribute("tabindex")||"0"),d=parseInt(l.getAttribute("tabindex")||"0");return u>d?1:u<d?-1:0}),r=t.querySelectorAll(C$),i=Array.from(r).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(o=>dr(o))},b0=()=>ss(document.body,W.shown)&&!ss(document.body,W["toast-shown"])&&!ss(document.body,W["no-backdrop"]),ap=()=>{const t=wt();return t?ss(t,W.toast):!1},M$=()=>{const t=wt();return t?t.hasAttribute("data-loading"):!1},Nr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),i=r.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{t.appendChild(l)});const o=r.querySelector("body");o&&Array.from(o.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},ss=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},A$=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(W).includes(n)&&!Object.values(wh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Ar=(t,e,n)=>{if(A$(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Jn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}bt(t,r)}},lp=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${W.popup} > .${W[e]}`);case"checkbox":return t.querySelector(`.${W.popup} > .${W.checkbox} input`);case"radio":return t.querySelector(`.${W.popup} > .${W.radio} input:checked`)||t.querySelector(`.${W.popup} > .${W.radio} input:first-child`);case"range":return t.querySelector(`.${W.popup} > .${W.range} input`);default:return t.querySelector(`.${W.popup} > .${W.input}`)}},AA=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},OA=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(r):i.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},bt=(t,e)=>{OA(t,e,!0)},Qr=(t,e)=>{OA(t,e,!1)},Zs=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const i=n[r];if(i instanceof HTMLElement&&ss(i,e))return i}},Zo=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},An=(t,e="flex")=>{t&&(t.style.display=e)},Kn=t=>{t&&(t.style.display="none")},w0=(t,e="block")=>{t&&new MutationObserver(()=>{_u(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},X1=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},_u=(t,e,n="flex")=>{e?An(t,n):Kn(t)},dr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),O$=()=>!dr(Mi())&&!dr(ha())&&!dr(Cl()),Jy=t=>t.scrollHeight>t.clientHeight,R$=(t,e)=>{let n=t;for(;n&&n!==e;){if(Jy(n))return!0;n=n.parentElement}return!1},RA=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},v0=(t,e=!1)=>{const n=op();n&&dr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},N$=()=>{const t=op();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},_$=()=>typeof window>"u"||typeof document>"u",D$=`
 <div aria-labelledby="${W.title}" aria-describedby="${W["html-container"]}" class="${W.popup}" tabindex="-1">
   <button type="button" class="${W.close}"></button>
   <ul class="${W["progress-steps"]}"></ul>
   <div class="${W.icon}"></div>
   <img class="${W.image}" />
   <h2 class="${W.title}" id="${W.title}"></h2>
   <div class="${W["html-container"]}" id="${W["html-container"]}"></div>
   <input class="${W.input}" id="${W.input}" />
   <input type="file" class="${W.file}" />
   <div class="${W.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${W.select}" id="${W.select}"></select>
   <div class="${W.radio}"></div>
   <label class="${W.checkbox}">
     <input type="checkbox" id="${W.checkbox}" />
     <span class="${W.label}"></span>
   </label>
   <textarea class="${W.textarea}" id="${W.textarea}"></textarea>
   <div class="${W["validation-message"]}" id="${W["validation-message"]}"></div>
   <div class="${W.actions}">
     <div class="${W.loader}"></div>
     <button type="button" class="${W.confirm}"></button>
     <button type="button" class="${W.deny}"></button>
     <button type="button" class="${W.cancel}"></button>
   </div>
   <div class="${W.footer}"></div>
   <div class="${W["timer-progress-bar-container"]}">
     <div class="${W["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),L$=()=>{const t=Qn();return t?(t.remove(),Qr([document.documentElement,document.body],[W["no-backdrop"],W["toast-shown"],W["has-column"]]),!0):!1},Bo=()=>{ze.currentInstance&&ze.currentInstance.resetValidationMessage()},z$=()=>{const t=wt();if(!t)return;const e=Zs(t,W.input),n=Zs(t,W.file),r=t.querySelector(`.${W.range} input`),i=t.querySelector(`.${W.range} output`),o=Zs(t,W.select),l=t.querySelector(`.${W.checkbox} input`),u=Zs(t,W.textarea);e&&(e.oninput=Bo),n&&(n.onchange=Bo),o&&(o.onchange=Bo),l&&(l.onchange=Bo),u&&(u.oninput=Bo),r&&i&&(r.oninput=()=>{Bo(),i.value=r.value},r.onchange=()=>{Bo(),i.value=r.value})},B$=t=>{if(typeof t=="string"){const e=document.querySelector(t);if(!e)throw new Error(`Target element "${t}" not found`);return e}return t},I$=t=>{const e=wt();e&&(e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true"))},P$=t=>{window.getComputedStyle(t).direction==="rtl"&&(bt(Qn(),W.rtl),ze.isRTL=!0)},U$=t=>{const e=L$();if(_$()){fa("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=W.container,e&&bt(n,W["no-transition"]),Nr(n,D$),n.dataset.swal2Theme=t.theme;const r=B$(t.target||"body");r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),I$(t),P$(r),z$()},E0=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?H$(t,e):t&&Nr(e,t)},H$=(t,e)=>{"jquery"in t?$$(e,t):Nr(e,t.toString())},$$=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},j$=(t,e)=>{const n=Nu(),r=Ml();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Kn(n):An(n),Ar(n,e,"actions"),q$(n,r,e),Nr(r,e.loaderHtml||""),Ar(r,e,"loader"))};function q$(t,e,n){const r=Mi(),i=ha(),o=Cl();!r||!i||!o||(ay(r,"confirm",n),ay(i,"deny",n),ay(o,"cancel",n),F$(r,i,o,n),n.reverseButtons&&(n.toast?(t.insertBefore(o,r),t.insertBefore(i,r)):(t.insertBefore(o,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function F$(t,e,n,r){if(!r.buttonsStyling){Qr([t,e,n],W.styled);return}bt([t,e,n],W.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),oy(t),oy(e),oy(n)}function oy(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function ay(t,e,n){const r=d0(e);_u(t,n[`show${r}Button`],"inline-block"),Nr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=W[e],Ar(t,n,`${e}Button`)}const V$=(t,e)=>{const n=g0();n&&(Nr(n,e.closeButtonHtml||""),Ar(n,e,"closeButton"),_u(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},K$=(t,e)=>{const n=Qn();n&&(G$(n,e.backdrop),Y$(n,e.position),W$(n,e.grow),Ar(n,e,"container"))};function G$(t,e){typeof e=="string"?t.style.background=e:e||bt([document.documentElement,document.body],W["no-backdrop"])}function Y$(t,e){e&&(e in W?bt(t,W[e]):(Jn('The "position" parameter is not valid, defaulting to "center"'),bt(t,W.center)))}function W$(t,e){e&&bt(t,W[`grow-${e}`])}var Bt={innerParams:new WeakMap,domCache:new WeakMap};const X$=["input","file","range","select","radio","checkbox","textarea"],Z$=(t,e)=>{const n=wt();if(!n)return;const r=Bt.innerParams.get(t),i=!r||e.input!==r.input;X$.forEach(o=>{const l=Zs(n,W[o]);l&&(ej(o,e.inputAttributes),l.className=W[o],i&&Kn(l))}),e.input&&(i&&J$(e),tj(e))},J$=t=>{if(!t.input)return;if(!on[t.input]){fa(`Unexpected type of input! Expected ${Object.keys(on).join(" | ")}, got "${t.input}"`);return}const e=NA(t.input);if(!e)return;const n=on[t.input](e,t);An(e),t.inputAutoFocus&&setTimeout(()=>{AA(n)})},Q$=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},ej=(t,e)=>{const n=wt();if(!n)return;const r=lp(n,t);if(r){Q$(r);for(const i in e)r.setAttribute(i,e[i])}},tj=t=>{if(!t.input)return;const e=NA(t.input);e&&Ar(e,t,"input")},S0=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Du=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=W["input-label"];r.setAttribute("for",t.id),r.className=i,typeof n.customClass=="object"&&bt(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},NA=t=>{const e=wt();if(e)return Zs(e,W[t]||W.input)},vh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:h0(e)||Jn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},on={};on.text=on.email=on.password=on.number=on.tel=on.url=on.search=on.date=on["datetime-local"]=on.time=on.week=on.month=(t,e)=>{const n=t;return vh(n,e.inputValue),Du(n,n,e),S0(n,e),n.type=e.input,n};on.file=(t,e)=>{const n=t;return Du(n,n,e),S0(n,e),n};on.range=(t,e)=>{const n=t,r=n.querySelector("input"),i=n.querySelector("output");return r&&(vh(r,e.inputValue),r.type=e.input,Du(r,t,e)),i&&vh(i,e.inputValue),t};on.select=(t,e)=>{const n=t;if(n.textContent="",e.inputPlaceholder){const r=document.createElement("option");Nr(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,n.appendChild(r)}return Du(n,n,e),n};on.radio=t=>{const e=t;return e.textContent="",t};on.checkbox=(t,e)=>{const n=wt();if(!n)throw new Error("Popup not found");const r=lp(n,"checkbox");if(!r)throw new Error("Checkbox input not found");r.value="1",r.checked=!!e.inputValue;const o=t.querySelector("span");if(o){const l=e.inputPlaceholder||e.inputLabel;l&&Nr(o,l)}return r};on.textarea=(t,e)=>{const n=t;vh(n,e.inputValue),S0(n,e),Du(n,n,e);const r=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=wt();if(!i)return;const o=parseInt(window.getComputedStyle(i).width),l=()=>{if(!document.body.contains(n))return;const u=n.offsetWidth+r(n),d=wt();d&&(u>o?d.style.width=`${u}px`:Zo(d,"width",e.width))};new MutationObserver(l).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const nj=(t,e)=>{const n=p0();n&&(w0(n),Ar(n,e,"htmlContainer"),e.html?(E0(e.html,n),An(n,"block")):e.text?(n.textContent=e.text,An(n,"block")):Kn(n),Z$(t,e))},rj=(t,e)=>{const n=MA();n&&(w0(n),_u(n,!!e.footer,"block"),e.footer&&E0(e.footer,n),Ar(n,e,"footer"))},ij=(t,e)=>{const n=Bt.innerParams.get(t),r=Tl();if(!r)return;if(n&&e.icon===n.icon){J1(r,e),Z1(r,e);return}if(!e.icon&&!e.iconHtml){Kn(r);return}if(e.icon&&Object.keys(wh).indexOf(e.icon)===-1){fa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Kn(r);return}An(r),J1(r,e),Z1(r,e),bt(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",_A)},Z1=(t,e)=>{for(const[n,r]of Object.entries(wh))e.icon!==n&&Qr(t,r);bt(t,e.icon&&wh[e.icon]),aj(t,e),_A(),Ar(t,e,"icon")},_A=()=>{const t=wt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},sj=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,oj=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,J1=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=Q1(e.iconHtml):e.icon==="success"?(r=sj(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=oj:e.icon&&(r=Q1({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&Nr(t,r)},aj=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])X1(t,n,"background-color",e.iconColor);X1(t,".swal2-success-ring","border-color",e.iconColor)}},Q1=t=>`<div class="${W["icon-content"]}">${t}</div>`,lj=(t,e)=>{const n=CA();if(n){if(!e.imageUrl){Kn(n);return}An(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Zo(n,"width",e.imageWidth),Zo(n,"height",e.imageHeight),n.className=W.image,Ar(n,e,"image")}};let x0=!1,DA=0,LA=0,zA=0,BA=0;const cj=t=>{t.addEventListener("mousedown",Eh),document.body.addEventListener("mousemove",Sh),t.addEventListener("mouseup",xh),t.addEventListener("touchstart",Eh),document.body.addEventListener("touchmove",Sh),t.addEventListener("touchend",xh)},uj=t=>{t.removeEventListener("mousedown",Eh),document.body.removeEventListener("mousemove",Sh),t.removeEventListener("mouseup",xh),t.removeEventListener("touchstart",Eh),document.body.removeEventListener("touchmove",Sh),t.removeEventListener("touchend",xh)},Eh=t=>{const e=wt();if(!e)return;const n=Tl();if(t.target===e||n&&n.contains(t.target)){x0=!0;const r=IA(t);DA=r.clientX,LA=r.clientY,zA=parseInt(e.style.insetInlineStart)||0,BA=parseInt(e.style.insetBlockStart)||0,bt(e,"swal2-dragging")}},Sh=t=>{const e=wt();if(e&&x0){let{clientX:n,clientY:r}=IA(t);const i=n-DA;e.style.insetInlineStart=`${zA+(ze.isRTL?-i:i)}px`,e.style.insetBlockStart=`${BA+(r-LA)}px`}},xh=()=>{const t=wt();x0=!1,Qr(t,"swal2-dragging")},IA=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},dj=(t,e)=>{const n=Qn(),r=wt();if(!(!n||!r)){if(e.toast){Zo(n,"width",e.width),r.style.width="100%";const i=Ml();i&&r.insertBefore(i,Tl())}else Zo(r,"width",e.width);Zo(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Kn(sp()),fj(r,e),e.draggable&&!e.toast?(bt(r,W.draggable),cj(r)):(Qr(r,W.draggable),uj(r))}},fj=(t,e)=>{const n=e.showClass||{};t.className=`${W.popup} ${dr(t)?n.popup:""}`,e.toast?(bt([document.documentElement,document.body],W["toast-shown"]),bt(t,W.toast)):bt(t,W.modal),Ar(t,e,"popup"),typeof e.customClass=="string"&&bt(t,e.customClass),e.icon&&bt(t,W[`icon-${e.icon}`])},hj=(t,e)=>{const n=m0();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;if(!r||r.length===0||i===void 0){Kn(n);return}An(n),n.textContent="",i>=r.length&&Jn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((o,l)=>{const u=pj(o);if(n.appendChild(u),l===i&&bt(u,W["active-progress-step"]),l!==r.length-1){const d=mj(e);n.appendChild(d)}})},pj=t=>{const e=document.createElement("li");return bt(e,W["progress-step"]),Nr(e,t),e},mj=t=>{const e=document.createElement("li");return bt(e,W["progress-step-line"]),t.progressStepsDistance&&Zo(e,"width",t.progressStepsDistance),e},gj=(t,e)=>{const n=TA();n&&(w0(n),_u(n,!!(e.title||e.titleText),"block"),e.title&&E0(e.title,n),e.titleText&&(n.innerText=e.titleText),Ar(n,e,"title"))},PA=(t,e)=>{var n;dj(t,e),K$(t,e),hj(t,e),ij(t,e),lj(t,e),gj(t,e),V$(t,e),nj(t,e),j$(t,e),rj(t,e);const r=wt();typeof e.didRender=="function"&&r&&e.didRender(r),(n=ze.eventEmitter)===null||n===void 0||n.emit("didRender",r)},yj=()=>dr(wt()),UA=()=>{var t;return(t=Mi())===null||t===void 0?void 0:t.click()},bj=()=>{var t;return(t=ha())===null||t===void 0?void 0:t.click()},wj=()=>{var t;return(t=Cl())===null||t===void 0?void 0:t.click()},Al=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),HA=t=>{if(t.keydownTarget&&t.keydownHandlerAdded&&t.keydownHandler){const e=t.keydownHandler;t.keydownTarget.removeEventListener("keydown",e,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1}},vj=(t,e,n)=>{if(HA(t),!e.toast){const r=o=>Sj(e,o,n);t.keydownHandler=r;const i=e.keydownListenerCapture?window:wt();if(i){t.keydownTarget=i,t.keydownListenerCapture=e.keydownListenerCapture;const o=r;t.keydownTarget.addEventListener("keydown",o,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0}}},Qy=(t,e)=>{var n;const r=y0();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=wt())===null||n===void 0||n.focus()},$A=["ArrowRight","ArrowDown"],Ej=["ArrowLeft","ArrowUp"],Sj=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?xj(e,t):e.key==="Tab"?kj(e):[...$A,...Ej].includes(e.key)?Tj(e.key):e.key==="Escape"&&Cj(e,t,n)))},xj=(t,e)=>{if(!ip(e.allowEnterKey))return;const n=wt();if(!n||!e.input)return;const r=lp(n,e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;UA(),t.preventDefault()}},kj=t=>{const e=t.target,n=y0();let r=-1;for(let i=0;i<n.length;i++)if(e===n[i]){r=i;break}t.shiftKey?Qy(r,-1):Qy(r,1),t.stopPropagation(),t.preventDefault()},Tj=t=>{const e=Nu(),n=Mi(),r=ha(),i=Cl();if(!e||!n||!r||!i)return;const o=[n,r,i];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const l=$A.includes(t)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let d=0;d<e.children.length;d++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&dr(u))break}u instanceof HTMLButtonElement&&u.focus()}},Cj=(t,e,n)=>{t.preventDefault(),ip(e.allowEscapeKey)&&n(Al.esc)};var bl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Mj=()=>{const t=Qn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},jA=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},qA=typeof window<"u"&&!!window.GestureEvent,Aj=()=>{if(qA&&!ss(document.body,W.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,bt(document.body,W.iosfix),Oj()}},Oj=()=>{const t=Qn();if(!t)return;let e;t.ontouchstart=n=>{e=Rj(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},Rj=t=>{const e=t.target,n=Qn(),r=p0();return!n||!r||Nj(t)||_j(t)?!1:e===n||!Jy(n)&&e instanceof HTMLElement&&!R$(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Jy(r)&&r.contains(e))},Nj=t=>!!(t.touches&&t.touches.length&&t.touches[0].touchType==="stylus"),_j=t=>t.touches&&t.touches.length>1,Dj=()=>{if(ss(document.body,W.iosfix)){const t=parseInt(document.body.style.top,10);Qr(document.body,W.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},Lj=()=>{const t=document.createElement("div");t.className=W["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let cl=null;const zj=t=>{cl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(cl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${cl+Lj()}px`)},Bj=()=>{cl!==null&&(document.body.style.paddingRight=`${cl}px`,cl=null)};function FA(t,e,n,r){ap()?ek(t,r):(v$(n).then(()=>ek(t,r)),HA(ze)),qA?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),b0()&&(Bj(),Dj(),jA()),Ij()}function Ij(){Qr([document.documentElement,document.body],[W.shown,W["height-auto"],W["no-backdrop"],W["toast-shown"]])}function Js(t){t=Uj(t);const e=bl.swalPromiseResolve.get(this),n=Pj(this);this.isAwaitingPromise?t.isDismissed||(Lu(this),e(t)):n&&e(t)}const Pj=t=>{const e=wt();if(!e)return!1;const n=Bt.innerParams.get(t);if(!n||ss(e,n.hideClass.popup))return!1;Qr(e,n.showClass.popup),bt(e,n.hideClass.popup);const r=Qn();return Qr(r,n.showClass.backdrop),bt(r,n.hideClass.backdrop),Hj(t,e,n),!0};function VA(t){const e=bl.swalPromiseReject.get(this);Lu(this),e&&e(t)}const Lu=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Bt.innerParams.get(t)||t._destroy())},Uj=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Hj=(t,e,n)=>{var r;const i=Qn(),o=RA(e);typeof n.willClose=="function"&&n.willClose(e),(r=ze.eventEmitter)===null||r===void 0||r.emit("willClose",e),o&&i?$j(t,e,i,!!n.returnFocus,n.didClose):i&&FA(t,i,!!n.returnFocus,n.didClose)},$j=(t,e,n,r,i)=>{ze.swalCloseEventFinishedCallback=FA.bind(null,t,n,r,i);const o=function(l){if(l.target===e){var u;(u=ze.swalCloseEventFinishedCallback)===null||u===void 0||u.call(ze),delete ze.swalCloseEventFinishedCallback,e.removeEventListener("animationend",o),e.removeEventListener("transitionend",o)}};e.addEventListener("animationend",o),e.addEventListener("transitionend",o)},ek=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ze.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},wl=t=>{let e=wt();if(e||new vl,e=wt(),!e)return;const n=Ml();ap()?Kn(Tl()):jj(e,t),An(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},jj=(t,e)=>{const n=Nu(),r=Ml();!n||!r||(!e&&dr(Mi())&&(e=Mi()),An(n),e&&(Kn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),bt([t,n],W.loading))},qj=(t,e)=>{e.input==="select"||e.input==="radio"?Yj(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(f0(e.inputValue)||h0(e.inputValue))&&(wl(Mi()),Wj(t,e))},Fj=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return Vj(n);case"radio":return Kj(n);case"file":return Gj(n);default:return e.inputAutoTrim?n.value.trim():n.value}},Vj=t=>t.checked?1:0,Kj=t=>t.checked?t.value:null,Gj=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,Yj=(t,e)=>{const n=wt();if(!n)return;const r=i=>{e.input==="select"?Xj(n,kh(i),e):e.input==="radio"&&Zj(n,kh(i),e)};f0(e.inputOptions)||h0(e.inputOptions)?(wl(Mi()),Ou(e.inputOptions).then(i=>{t.hideLoading(),r(i)})):typeof e.inputOptions=="object"?r(e.inputOptions):fa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Wj=(t,e)=>{const n=t.getInput();n&&(Kn(n),Ou(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,An(n),n.focus(),t.hideLoading()}).catch(r=>{fa(`Error in inputValue promise: ${r}`),n.value="",An(n),n.focus(),t.hideLoading()}))};function Xj(t,e,n){const r=Zs(t,W.select);if(!r)return;const i=(o,l,u)=>{const d=document.createElement("option");d.value=u,Nr(d,l),d.selected=KA(u,n.inputValue),o.appendChild(d)};e.forEach(o=>{const l=o[0],u=o[1];if(Array.isArray(u)){const d=document.createElement("optgroup");d.label=l,d.disabled=!1,r.appendChild(d),u.forEach(h=>i(d,h[1],h[0]))}else i(r,u,l)}),r.focus()}function Zj(t,e,n){const r=Zs(t,W.radio);if(!r)return;e.forEach(o=>{const l=o[0],u=o[1],d=document.createElement("input"),h=document.createElement("label");d.type="radio",d.name=W.radio,d.value=l,KA(l,n.inputValue)&&(d.checked=!0);const p=document.createElement("span");Nr(p,u),p.className=W.label,h.appendChild(d),h.appendChild(p),r.appendChild(h)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}const kh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let i=n;typeof i=="object"&&(i=kh(i)),e.push([r,i])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=kh(r)),e.push([n,r])}),e},KA=(t,e)=>!!e&&e!==null&&e!==void 0&&e.toString()===t.toString(),Jj=t=>{const e=Bt.innerParams.get(t);t.disableButtons(),e.input?GA(t,"confirm"):T0(t,!0)},Qj=t=>{const e=Bt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?GA(t,"deny"):k0(t,!1)},e6=(t,e)=>{t.disableButtons(),e(Al.cancel)},GA=(t,e)=>{const n=Bt.innerParams.get(t);if(!n.input){fa(`The "input" parameter is needed to be set when using returnInputValueOn${d0(e)}`);return}const r=t.getInput(),i=Fj(t,n);n.inputValidator?t6(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?k0(t,i):T0(t,i)},t6=(t,e,n)=>{const r=Bt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Ou(r.inputValidator(e,r.validationMessage))).then(o=>{t.enableButtons(),t.enableInput(),o?t.showValidationMessage(o):n==="deny"?k0(t,e):T0(t,e)})},k0=(t,e)=>{const n=Bt.innerParams.get(t);n.showLoaderOnDeny&&wl(ha()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ou(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),Lu(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>YA(t,i))):t.close({isDenied:!0,value:e})},tk=(t,e)=>{t.close({isConfirmed:!0,value:e})},YA=(t,e)=>{t.rejectPromise(e)},T0=(t,e)=>{const n=Bt.innerParams.get(t);n.showLoaderOnConfirm&&wl(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ou(n.preConfirm(e,n.validationMessage))).then(i=>{dr(sp())||i===!1?(t.hideLoading(),Lu(t)):tk(t,typeof i>"u"?e:i)}).catch(i=>YA(t,i))):tk(t,e)};function Th(){const t=Bt.innerParams.get(this);if(!t)return;const e=Bt.domCache.get(this);Kn(e.loader),ap()?t.icon&&An(Tl()):n6(e),Qr([e.popup,e.actions],W.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const n6=t=>{const e=t.loader.getAttribute("data-button-to-replace"),n=e?t.popup.getElementsByClassName(e):[];n.length?An(n[0],"inline-block"):O$()&&Kn(t.actions)};function WA(){const t=Bt.innerParams.get(this),e=Bt.domCache.get(this);return e?lp(e.popup,t.input):null}function XA(t,e,n){const r=Bt.domCache.get(t);e.forEach(i=>{r[i].disabled=n})}function ZA(t,e){const n=wt();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${W.radio}"]`);for(let i=0;i<r.length;i++)r[i].disabled=e}else t.disabled=e}function JA(){XA(this,["confirmButton","denyButton","cancelButton"],!1)}function QA(){XA(this,["confirmButton","denyButton","cancelButton"],!0)}function e2(){ZA(this.getInput(),!1)}function t2(){ZA(this.getInput(),!0)}function n2(t){const e=Bt.domCache.get(this),n=Bt.innerParams.get(this);Nr(e.validationMessage,t),e.validationMessage.className=W["validation-message"],n.customClass&&n.customClass.validationMessage&&bt(e.validationMessage,n.customClass.validationMessage),An(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",W["validation-message"]),AA(r),bt(r,W.inputerror))}function r2(){const t=Bt.domCache.get(this);t.validationMessage&&Kn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Qr(e,W.inputerror))}const Qs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},r6=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],i6={allowEnterKey:void 0},s6=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],i2=t=>Object.prototype.hasOwnProperty.call(Qs,t),s2=t=>r6.indexOf(t)!==-1,o2=t=>i6[t],o6=t=>{i2(t)||Jn(`Unknown parameter "${t}"`)},a6=t=>{s6.includes(t)&&Jn(`The parameter "${t}" is incompatible with toasts`)},l6=t=>{const e=o2(t);e&&kA(t,e)},a2=t=>{t.backdrop===!1&&t.allowOutsideClick&&Jn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Jn(`Invalid theme "${t.theme}"`);for(const e in t)o6(e),t.toast&&a6(e),l6(e)};function l2(t){const e=Qn(),n=wt(),r=Bt.innerParams.get(this);if(!n||ss(n,r.hideClass.popup)){Jn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=c6(t),o=Object.assign({},r,i);a2(o),e&&(e.dataset.swal2Theme=o.theme),PA(this,o),Bt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const c6=t=>{const e={};return Object.keys(t).forEach(n=>{if(s2(n)){const r=t;e[n]=r[n]}else Jn(`Invalid parameter to update: ${n}`)}),e};function c2(){var t;const e=Bt.domCache.get(this),n=Bt.innerParams.get(this);if(!n){u2(this);return}e.popup&&ze.swalCloseEventFinishedCallback&&(ze.swalCloseEventFinishedCallback(),delete ze.swalCloseEventFinishedCallback),typeof n.didDestroy=="function"&&n.didDestroy(),(t=ze.eventEmitter)===null||t===void 0||t.emit("didDestroy"),u6(this)}const u6=t=>{u2(t),delete t.params,delete ze.keydownHandler,delete ze.keydownTarget,delete ze.currentInstance},u2=t=>{t.isAwaitingPromise?(ly(Bt,t),t.isAwaitingPromise=!0):(ly(bl,t),ly(Bt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},ly=(t,e)=>{for(const n in t)t[n].delete(e)};var d6=Object.freeze({__proto__:null,_destroy:c2,close:Js,closeModal:Js,closePopup:Js,closeToast:Js,disableButtons:QA,disableInput:t2,disableLoading:Th,enableButtons:JA,enableInput:e2,getInput:WA,handleAwaitingPromise:Lu,hideLoading:Th,rejectPromise:VA,resetValidationMessage:r2,showValidationMessage:n2,update:l2});const f6=(t,e,n)=>{t.toast?h6(t,e,n):(m6(e),g6(e),y6(t,e,n))},h6=(t,e,n)=>{e.popup.onclick=()=>{t&&(p6(t)||t.timer||t.input)||n(Al.close)}},p6=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Ch=!1;const m6=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Ch=!0)}}},g6=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Ch=!0)}}},y6=(t,e,n)=>{e.container.onclick=r=>{if(Ch){Ch=!1;return}r.target===e.container&&ip(t.allowOutsideClick)&&n(Al.backdrop)}},b6=t=>typeof t=="object"&&t.jquery,nk=t=>t instanceof Element||b6(t),w6=t=>{const e={};return typeof t[0]=="object"&&!nk(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const i=t[r];typeof i=="string"||nk(i)?e[n]=i:i!==void 0&&fa(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function v6(...t){return new this(...t)}function E6(t){class e extends this{_main(r,i){return super._main(r,Object.assign({},t,i))}}return e}const S6=()=>ze.timeout&&ze.timeout.getTimerLeft(),d2=()=>{if(ze.timeout)return N$(),ze.timeout.stop()},f2=()=>{if(ze.timeout){const t=ze.timeout.start();return v0(t),t}},x6=()=>{const t=ze.timeout;return t&&(t.running?d2():f2())},k6=t=>{if(ze.timeout){const e=ze.timeout.increase(t);return v0(e,!0),e}},T6=()=>!!(ze.timeout&&ze.timeout.isRunning());let rk=!1;const eb={};function C6(t="data-swal-template"){eb[t]=this,rk||(document.body.addEventListener("click",M6),rk=!0)}const M6=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in eb){const r=e.getAttribute&&e.getAttribute(n);if(r){eb[n].fire({template:r});return}}};class A6{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...i)=>{this.removeListener(e,r),n.apply(this,i)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(i){console.error(i)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),i=r.indexOf(n);i>-1&&r.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ze.eventEmitter=new A6;const O6=(t,e)=>{ze.eventEmitter&&ze.eventEmitter.on(t,e)},R6=(t,e)=>{ze.eventEmitter&&ze.eventEmitter.once(t,e)},N6=(t,e)=>{if(ze.eventEmitter){if(!t){ze.eventEmitter.reset();return}e?ze.eventEmitter.removeListener(t,e):ze.eventEmitter.removeAllListeners(t)}};var _6=Object.freeze({__proto__:null,argsToParams:w6,bindClickHandler:C6,clickCancel:wj,clickConfirm:UA,clickDeny:bj,enableLoading:wl,fire:v6,getActions:Nu,getCancelButton:Cl,getCloseButton:g0,getConfirmButton:Mi,getContainer:Qn,getDenyButton:ha,getFocusableElements:y0,getFooter:MA,getHtmlContainer:p0,getIcon:Tl,getIconContent:k$,getImage:CA,getInputLabel:T$,getLoader:Ml,getPopup:wt,getProgressSteps:m0,getTimerLeft:S6,getTimerProgressBar:op,getTitle:TA,getValidationMessage:sp,increaseTimer:k6,isDeprecatedParameter:o2,isLoading:M$,isTimerRunning:T6,isUpdatableParameter:s2,isValidParameter:i2,isVisible:yj,mixin:E6,off:N6,on:O6,once:R6,resumeTimer:f2,showLoading:wl,stopTimer:d2,toggleTimer:x6});class D6{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const h2=["swal-title","swal-html","swal-footer"],L6=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return j6(n),Object.assign(z6(n),B6(n),I6(n),P6(n),U6(n),H6(n),$6(n,h2))},z6=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{sa(r,["name","value"]);const i=r.getAttribute("name"),o=r.getAttribute("value");!i||!o||(i in Qs&&typeof Qs[i]=="boolean"?e[i]=o!=="false":i in Qs&&typeof Qs[i]=="object"?e[i]=JSON.parse(o):e[i]=o)}),e},B6=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const i=r.getAttribute("name"),o=r.getAttribute("value");!i||!o||(e[i]=new Function(`return ${o}`)())}),e},I6=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{sa(r,["type","color","aria-label"]);const i=r.getAttribute("type");if(!(!i||!["confirm","cancel","deny"].includes(i))){if(e[`${i}ButtonText`]=r.innerHTML,e[`show${d0(i)}Button`]=!0,r.hasAttribute("color")){const o=r.getAttribute("color");o!==null&&(e[`${i}ButtonColor`]=o)}if(r.hasAttribute("aria-label")){const o=r.getAttribute("aria-label");o!==null&&(e[`${i}ButtonAriaLabel`]=o)}}}),e},P6=t=>{const e={},n=t.querySelector("swal-image");return n&&(sa(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},U6=t=>{const e={},n=t.querySelector("swal-icon");return n&&(sa(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},H6=t=>{const e={},n=t.querySelector("swal-input");n&&(sa(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(i=>{sa(i,["value"]);const o=i.getAttribute("value");if(!o)return;const l=i.innerHTML;e.inputOptions[o]=l})),e},$6=(t,e)=>{const n={};for(const r in e){const i=e[r],o=t.querySelector(i);o&&(sa(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},j6=t=>{const e=h2.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Jn(`Unrecognized element <${r}>`)})},sa=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Jn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},p2=10,q6=t=>{var e,n;const r=Qn(),i=wt();if(!r||!i)return;typeof t.willOpen=="function"&&t.willOpen(i),(e=ze.eventEmitter)===null||e===void 0||e.emit("willOpen",i);const l=window.getComputedStyle(document.body).overflowY;if(K6(r,i,t),setTimeout(()=>{F6(r,i)},p2),b0()&&(V6(r,t.scrollbarPadding!==void 0?t.scrollbarPadding:!1,l),Mj()),!ap()&&!ze.previousActiveElement&&(ze.previousActiveElement=document.activeElement),typeof t.didOpen=="function"){const u=t.didOpen;setTimeout(()=>u(i))}(n=ze.eventEmitter)===null||n===void 0||n.emit("didOpen",i)},Mh=t=>{const e=wt();if(!e||t.target!==e)return;const n=Qn();n&&(e.removeEventListener("animationend",Mh),e.removeEventListener("transitionend",Mh),n.style.overflowY="auto",Qr(n,W["no-transition"]))},F6=(t,e)=>{RA(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Mh),e.addEventListener("transitionend",Mh)):t.style.overflowY="auto"},V6=(t,e,n)=>{Aj(),e&&n!=="hidden"&&zj(n),setTimeout(()=>{t.scrollTop=0})},K6=(t,e,n)=>{var r;(r=n.showClass)!==null&&r!==void 0&&r.backdrop&&bt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),An(e,"grid"),setTimeout(()=>{var i;(i=n.showClass)!==null&&i!==void 0&&i.popup&&bt(e,n.showClass.popup),e.style.removeProperty("opacity")},p2)):An(e,"grid"),bt([document.documentElement,document.body],W.shown),n.heightAuto&&n.backdrop&&!n.toast&&bt([document.documentElement,document.body],W["height-auto"])};var ik={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function G6(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=ik.email),t.input==="url"&&(t.inputValidator=ik.url))}function Y6(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Jn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function W6(t){G6(t),t.showLoaderOnConfirm&&!t.preConfirm&&Jn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Y6(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),U$(t)}let Si;var ff=new WeakMap;class cn{constructor(...e){if(g$(this,ff,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Si=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,y$(ff,this,this._main(Si.params))}_main(e,n={}){if(a2(Object.assign({},n,e)),ze.currentInstance){const o=bl.swalPromiseResolve.get(ze.currentInstance),{isAwaitingPromise:l}=ze.currentInstance;ze.currentInstance._destroy(),l||o({isDismissed:!0}),b0()&&jA()}ze.currentInstance=Si;const r=Z6(e,n);W6(r),Object.freeze(r),ze.timeout&&(ze.timeout.stop(),delete ze.timeout),clearTimeout(ze.restoreFocusTimeout);const i=J6(Si);return PA(Si,r),Bt.innerParams.set(Si,r),X6(Si,i,r)}then(e){return Y1(ff,this).then(e)}finally(e){return Y1(ff,this).finally(e)}}const X6=(t,e,n)=>new Promise((r,i)=>{const o=l=>{t.close({isDismissed:!0,dismiss:l,isConfirmed:!1,isDenied:!1})};bl.swalPromiseResolve.set(t,r),bl.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{Jj(t)},e.denyButton.onclick=()=>{Qj(t)},e.cancelButton.onclick=()=>{e6(t,o)},e.closeButton.onclick=()=>{o(Al.close)},f6(n,e,o),vj(ze,n,o),qj(t,n),q6(n),Q6(ze,n,o),eq(e,n),setTimeout(()=>{e.container.scrollTop=0})}),Z6=(t,e)=>{const n=L6(t),r=Object.assign({},Qs,e,n,t);return r.showClass=Object.assign({},Qs.showClass,r.showClass),r.hideClass=Object.assign({},Qs.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},J6=t=>{const e={popup:wt(),container:Qn(),actions:Nu(),confirmButton:Mi(),denyButton:ha(),cancelButton:Cl(),loader:Ml(),closeButton:g0(),validationMessage:sp(),progressSteps:m0()};return Bt.domCache.set(t,e),e},Q6=(t,e,n)=>{const r=op();Kn(r),e.timer&&(t.timeout=new D6(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&r&&(An(r),Ar(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&v0(e.timer)})))},eq=(t,e)=>{if(!e.toast){if(!ip(e.allowEnterKey)){kA("allowEnterKey"),rq();return}tq(t)||nq(t,e)||Qy(-1,1)}},tq=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&dr(n))return n.focus(),!0;return!1},nq=(t,e)=>e.focusDeny&&dr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&dr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&dr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,rq=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};cn.prototype.disableButtons=QA;cn.prototype.enableButtons=JA;cn.prototype.getInput=WA;cn.prototype.disableInput=t2;cn.prototype.enableInput=e2;cn.prototype.hideLoading=Th;cn.prototype.disableLoading=Th;cn.prototype.showValidationMessage=n2;cn.prototype.resetValidationMessage=r2;cn.prototype.close=Js;cn.prototype.closePopup=Js;cn.prototype.closeModal=Js;cn.prototype.closeToast=Js;cn.prototype.rejectPromise=VA;cn.prototype.update=l2;cn.prototype._destroy=c2;Object.assign(cn,_6);Object.keys(d6).forEach(t=>{cn[t]=function(...e){if(Si&&Si[t])return Si[t](...e)}});cn.DismissReason=Al;cn.version="11.26.17";const vl=cn;vl.default=vl;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const iq=Kt.create({name:"pasteMarkdown",addProseMirrorPlugins(){return[new It({props:{handlePaste:(t,e)=>{const n=e.clipboardData?.getData("text/plain");if(!n)return!1;const r=n.trim();return/^```[a-zA-Z0-9_-]*\n[\s\S]*\n```$/.test(r)?(this.editor.commands.insertContent(r,{contentType:"markdown"}),!0):!1}}})]}}),sq=Kt.create({name:"pasteOrDropImage",addProseMirrorPlugins(){const t=e=>e?/<img[^>]+src=["']file:\/\//i.test(e):!1;return[new It({props:{handlePaste:(e,n)=>{const r=n.clipboardData?.items;if(r&&r.length){for(const o of r)if(o.kind==="file"&&o.type?.startsWith("image/")){const l=o.getAsFile();if(l)return insertFileAsImage(l),!0}}const i=n.clipboardData?.getData("text/html");return t(i)?(vl.fire({icon:"warning",title:"   ",text:`  ' (file://...)'           .

:    ,   & .`,confirmButtonText:""}),!0):!1}}})]}}),cp=h$();cp.register({javascript:i$,typescript:u$,java:Q4,json:s$,xml:d$,css:J4,bash:H4,sql:l$});cp.register({c:$4,cpp:j4,csharp:q4,rust:a$,ruby:o$});cp.registerAlias({javascript:["js"],typescript:["ts"],xml:["html","htm"],cpp:["c++"],csharp:["cs","c#"]});const oq=({node:t})=>{const e=t?.attrs?.language||"plain";return F.jsxs(ZU,{className:"codeblock-wrapper",children:[F.jsx("div",{className:"codeblock-lang",title:e,children:e}),F.jsx("pre",{className:"codeblock-pre",children:F.jsx("code",{children:F.jsx(XU,{as:"code",className:"codeblock-content"})})})]})},aq=U4.extend({addNodeView(){return rH(oq)}}),lq=()=>{const t=aa(),[e,n]=z.useState(""),[r,i]=z.useState(""),[o,l]=z.useState(!1),[u,d]=z.useState(!1),[h,p]=z.useState(!1),[g,b]=z.useState(""),[,w]=z.useState(0),v=z.useRef(null),E=YU({extensions:[U5.configure({codeBlock:!1}),aq.configure({lowlight:cp}),j5,q5.configure({placeholder:" ."}),sq,iq,D4],content:"",editorProps:{attributes:{spellcheck:"false",autocomplete:"off",autocorrect:"off",autocapitalize:"off"}}});z.useEffect(()=>{if(!E)return;const te=()=>w(xe=>xe+1);return E.on("selectionUpdate",te),E.on("transaction",te),()=>{E.off("selectionUpdate",te),E.off("transaction",te)}},[E]);const x=te=>{n(te.target.value),i("")},k=te=>{te.key!=="Tab"||te.shiftKey||E&&(te.preventDefault(),E.commands.focus())},A=te=>E?!!(E.isActive(te)||E.state?.storedMarks?.some(ge=>ge.type?.name===te)||E.state?.selection?.$from?.marks?.()?.some(ge=>ge.type?.name===te)):!1,L=(te,xe)=>{if(!E?.view)return null;const he=E.view.posAtCoords({left:te,top:xe});return he?.pos?(E.commands.setTextSelection(he.pos),he.pos):null},$=async te=>{const xe=te.dataTransfer?.files;if(!xe||xe.length===0)return;const he=Array.from(xe).filter(B=>B.type?.startsWith("image/"));if(he.length===0)return;te.preventDefault(),te.stopPropagation();const ge=L(te.clientX,te.clientY);for(const B of he)ge&&E.commands.setTextSelection(ge),await P(B)},P=async te=>{if(!E)return;if(!te.type.startsWith("image/")){i("   .");return}if(te.size>10*1024*1024){i("  10MB  .");return}try{d(!0);const ge=(await zL(te)).data?.data?.url;if(ge){const B=OL(ge);E.chain().focus().setImage({src:B,alt:te.name}).run();return}}catch{}finally{d(!1)}const xe=await new Promise((he,ge)=>{const B=new FileReader;B.onload=()=>he(B.result),B.onerror=()=>ge(new Error("failed to read file")),B.readAsDataURL(te)});E.chain().focus().setImage({src:String(xe),alt:te.name}).run()},V=()=>{i(""),v.current?.click()},M=async te=>{const xe=te.target.files?.[0];xe&&(await P(xe),te.target.value="")},Z=te=>{const xe=te.match(/!\[[^\]]*]\(([^)]+)\)/);if(!xe?.[1])return null;const he=xe[1].trim();return!he||he.startsWith("data:")?null:he},se=async()=>{if(E){i(""),l(!0);try{const te=e.trim();if(!te){i(" .");return}const xe=E.getMarkdown().trim();if(!xe){i(" .");return}if(/!\[[^\]]*]\(data:image\/[^)]+\)/i.test(xe)||xe.includes("data:image/")){i(" base64(data:image/...)   .          .   (/uploads/...)    .");return}const he=2e6;if(xe.length>he){i(`  . (${xe.length.toLocaleString()} /  ${he.toLocaleString()})`);return}const ge=Z(xe),ie=(await LL({title:te,content:xe,imageUrl:ge}))?.data?.data?.id;await vl.fire({icon:"success",title:" !",text:"  .",confirmButtonText:""}),t("/")}catch(te){i(te.response?.data?.error?.message||" .")}finally{l(!1)}}},De=()=>{if(!E)return;const te=!h;p(te),te&&b(E.getMarkdown())},Ie=async()=>{if(!E)return;const te=E.getMarkdown();await navigator.clipboard.writeText(te),b(te),p(!0),vl.fire({icon:"success",title:" !",text:"Markdown  !",confirmButtonText:"",timer:2e3,timerProgressBar:!0})};return F.jsx("div",{className:"auth-container post-create-page",onDragOver:te=>{te.dataTransfer?.types?.includes("Files")&&te.preventDefault()},onDrop:te=>{te.dataTransfer?.files?.length&&te.preventDefault()},children:F.jsxs("div",{className:`post-create-shell ${h?"with-markdown":""}`,children:[F.jsx("div",{className:"auth-box post-create-left",style:{maxWidth:"1200px"},children:F.jsxs("div",{className:"auth-form",children:[F.jsx("input",{type:"text",placeholder:" .",value:e,onChange:x,onKeyDown:k,className:"post-title-input"}),F.jsxs("div",{className:"editor-toolbar",children:[F.jsx("button",{type:"button",onClick:()=>E?.chain().focus().toggleBold().run(),disabled:!E,className:A("bold")?"active":"","aria-pressed":A("bold"),children:"Bold"}),F.jsx("button",{type:"button",onClick:()=>E?.chain().focus().toggleItalic().run(),disabled:!E,className:A("italic")?"active":"","aria-pressed":A("italic"),children:"Italic"}),F.jsx("button",{type:"button",onClick:()=>E?.chain().focus().toggleStrike().run(),disabled:!E,className:A("strike")?"active":"","aria-pressed":A("strike"),children:"Strike"}),F.jsx("span",{className:"editor-divider","aria-hidden":"true"}),F.jsx("button",{type:"button",onClick:()=>E?.chain().focus().toggleBulletList().run(),disabled:!E,className:E?.isActive("bulletList")?"active":"",children:" List"}),F.jsx("button",{type:"button",onClick:()=>E?.chain().focus().toggleOrderedList().run(),disabled:!E,className:E?.isActive("orderedList")?"active":"",children:"1. List"}),F.jsx("button",{type:"button",onClick:()=>E?.chain().focus().toggleBlockquote().run(),disabled:!E,className:E?.isActive("blockquote")?"active":"",children:"Quote"}),F.jsx("span",{className:"editor-divider","aria-hidden":"true"}),F.jsx("button",{type:"button",onClick:V,disabled:!E||u,children:u?" ...":" "}),F.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:M,style:{display:"none"}})]}),F.jsx("div",{className:"editor-surface",onMouseDown:te=>{if(!E?.view||te.target?.closest?.(".ProseMirror"))return;te.preventDefault(),E.commands.focus();const he=E.view.posAtCoords({left:te.clientX,top:te.clientY});he?.pos&&E.commands.setTextSelection(he.pos)},onDragOver:te=>{te.dataTransfer?.types?.includes("Files")&&te.preventDefault()},onDrop:te=>{$(te)},children:F.jsx($U,{editor:E})}),r&&F.jsx("p",{className:"error-message",children:r}),F.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"16px"},children:[F.jsx("button",{type:"button",onClick:()=>t(-1),style:{flex:1,padding:"10px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:""}),F.jsx("button",{type:"button",onClick:se,disabled:o||!E,style:{flex:1,padding:"10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:o?"not-allowed":"pointer",opacity:o?.7:1},children:o?" ...":""}),F.jsx("button",{type:"button",onClick:De,disabled:!E,style:{flex:1,padding:"10px",backgroundColor:"#111",color:"white",border:"none",borderRadius:"6px",cursor:E?"pointer":"not-allowed",opacity:E?1:.7},children:h?"Markdown ":"Markdown "})]}),F.jsxs("div",{className:"editor-hint",children:[": ",F.jsx("b",{children:"#"})," +   , ",F.jsx("b",{children:"-"})," +   , ",F.jsx("b",{children:">"})," +   "]})]})}),h&&F.jsxs("div",{className:"markdown-preview post-create-right",children:[F.jsxs("div",{className:"markdown-preview-header",children:[F.jsx("div",{className:"markdown-preview-title",children:" Markdown"}),F.jsx("button",{type:"button",onClick:Ie,children:""})]}),F.jsx("textarea",{readOnly:!0,value:g}),F.jsxs("div",{className:"markdown-preview-hint",children:["     ",F.jsx("code",{children:"![](...)"})," URL"," ",F.jsx("code",{children:"/uploads/..."}),"  . (fallback"," ",F.jsx("code",{children:"data:image/..."}),")"]})]})]})})},sk=()=>{const[t,e]=z.useState([]),[n,r]=z.useState(0),[i,o]=z.useState(!0),[l,u]=z.useState(!0),[d,h]=z.useState(""),p=v=>{if(!v)return"";let E=v.replace(/!\[[^\]]*\]\([^)]*\)/g,"");return E=E.replace(/```[\s\S]*?```/g,""),E=E.replace(/`[^`]*`/g,""),E=E.replace(/\[([^\]]+)\]\([^)]+\)/g,"$1"),E=E.replace(/\*\*([^*]+)\*\*/g,"$1"),E=E.replace(/\*([^*]+)\*/g,"$1"),E=E.replace(/__([^_]+)__/g,"$1"),E=E.replace(/_([^_]+)_/g,"$1"),E=E.replace(/^#{1,6}\s+/gm,""),E=E.replace(/^[\s]*[-*+]\s+/gm,""),E=E.replace(/^[\s]*\d+\.\s+/gm,""),E=E.replace(/^>\s+/gm,""),E=E.replace(/^---$/gm,""),E=E.replace(/\n+/g," "),E=E.replace(/\s+/g," ").trim(),E},g=(v,E)=>{const x=p(v),k=E?80:150;return x.length<=k?x:x.substring(0,k)+"..."},b=v=>{const E=new Date,x=new Date(v),k=Math.floor((E-x)/1e3);if(k<60)return" ";const A=Math.floor(k/60);if(A<60)return`${A} `;const L=Math.floor(A/60);if(L<24)return`${L} `;const $=Math.floor(L/24);if($<7)return`${$} `;const P=Math.floor($/7);if(P<4)return`${P} `;const V=Math.floor($/30);return V<12?`${V} `:`${Math.floor($/365)} `};z.useEffect(()=>{(async()=>{try{u(!0);const x=(await nx(0,10)).data?.data||{},k=x.content||[];e(k),o(!x.last),r(0)}catch(E){h(E.response?.data?.error?.message||"  .")}finally{u(!1)}})()},[]);const w=z.useCallback(async()=>{if(!(l||!i))try{u(!0);const v=n+1,x=(await nx(v,10)).data?.data||{},k=x.content||[];k.length===0?o(!1):(e(A=>[...A,...k]),r(v),o(!x.last))}catch(v){h(v.response?.data?.error?.message||"  .")}finally{u(!1)}},[n,l,i]);return z.useEffect(()=>{const v=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-100&&!l&&i&&w()};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[l,i,w]),l&&t.length===0?F.jsx("div",{className:"post-list-container",children:F.jsx("div",{className:"post-list-loading",children:" ..."})}):d?F.jsx("div",{className:"post-list-container",children:F.jsx("div",{style:{padding:"20px",color:"red"},children:d})}):F.jsxs("div",{className:"post-list-container",children:[F.jsx("h1",{className:"post-list-title",children:" "}),t.length===0?F.jsx("div",{className:"post-list-empty",children:" ."}):F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"post-grid",children:t.map(v=>F.jsxs(bu,{to:`/posts/${v.id}`,className:"post-card",children:[v.imageUrl&&F.jsx("div",{className:"post-card-image-wrapper",children:F.jsx("img",{src:v.imageUrl,alt:v.title,className:"post-card-image"})}),F.jsxs("div",{className:"post-card-content",children:[F.jsxs("div",{className:"post-card-body",children:[F.jsx("h2",{className:"post-card-title",children:v.title}),v.content&&F.jsx("p",{className:"post-card-preview",children:g(v.content,!!v.imageUrl)})]}),F.jsx("div",{className:"post-card-relative-time",children:b(v.createdAt)}),F.jsx("div",{className:"post-card-footer",children:F.jsxs("div",{className:"post-card-footer-bottom",children:[F.jsxs("div",{className:"post-card-meta",children:[F.jsx("span",{className:"post-card-author",children:v.author?.name||v.author?.username}),F.jsxs("span",{className:"post-card-date",children:[" ",new Date(v.createdAt).toLocaleDateString()]})]}),F.jsxs("div",{className:"post-card-stats",children:[F.jsxs("span",{className:"post-card-stat-item",children:[F.jsx("span",{children:""}),F.jsx("span",{children:v.likeCount})]}),F.jsxs("span",{className:"post-card-stat-item",children:[F.jsx("span",{children:""}),F.jsx("span",{children:v.commentCount})]})]})]})})]})]},v.id))}),l&&t.length>0&&F.jsx("div",{className:"post-list-loading",children:"  ..."}),!i&&t.length>0&&F.jsx("div",{className:"post-list-end",children:"  ."})]})]})},ok=({children:t})=>{const{isAuthenticated:e,loading:n}=xu();return n?F.jsx("div",{className:"loading",children:" ..."}):e?F.jsx(Lk,{to:"/"}):t},cq=({children:t})=>{const{isAuthenticated:e,loading:n}=xu();return n?F.jsx("div",{className:"loading",children:" ..."}):e?t||F.jsx(zk,{}):F.jsx(Lk,{to:"/login"})},uq=$_([{path:"/",element:F.jsx(BL,{children:F.jsx(IL,{})}),children:[{index:!0,element:F.jsx(sk,{})},{path:"posts",element:F.jsx(sk,{})},{path:"login",element:F.jsx(ok,{children:F.jsx(UL,{})})},{path:"signup",element:F.jsx(ok,{children:F.jsx(PL,{})})},{path:"oauth/kakao/callback",element:F.jsx(HL,{})},{path:"posts/new",element:F.jsx(cq,{children:F.jsx(lq,{})})}]}]);AR.createRoot(document.getElementById("root")).render(F.jsx(as.StrictMode,{children:F.jsx(Q_,{router:uq})}));
